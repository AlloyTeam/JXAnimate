<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>jx/jx.ui.calendar.js</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../assets/css/logo.png" title=""></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/JXAnimation.Audio.html">JXAnimation.Audio</a></li>
            
                <li><a href="../classes/Log.html">Log</a></li>
            
                <li><a href="../classes/Tab.html">Tab</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="../modules/JXAnimate.Audio.html">JXAnimate.Audio</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: jx/jx.ui.calendar.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/** 
 * JET (Javascript Extension Tools) 
 * Copyright (c) 2009, KDV.cn, All rights reserved.
 * Code licensed under the BSD License:
 * http://developer.kdv.cn/jet/license.txt
 *
 * @fileOverview Jet!
 * @version 1.0
 * @author  Kinvix(&lt;a href=&quot;mailto:Kinvix@gmail.com&quot;&gt;Kinvix@gmail.com&lt;/a&gt;)
 * @description 
 * 
 */

/** 
 * @description
 * Package: jet.calendar
 * 
 * Need package:
 * jet.core.js
 * 
 */


/**
 *  Yukin.2011-11-13
 *  3.[Javascript core]: calendar 日历类
 */
Jet().$package(function(J){
    var packageContext = this,
        $D = J.dom,
        $E = J.event,
        calendarCount = 1;
    /**
     * 【CalendarClass】日历类
     * 
     * @class 
     * @memberOf ui
     * @name CalendarClass
     * @constructor
     * @param {Object} option 参数对象
     */
    var CalendarClass = function(){             
        var inputH = 20;
        var inputW = 100;
        var sUserAgent = navigator.userAgent;
        var isOpera = sUserAgent.indexOf(&quot;Opera&quot;) &gt; -1;
        var isIE = sUserAgent.indexOf(&quot;compatible&quot;) &gt; -1 &amp;&amp; sUserAgent.indexOf(&quot;MSIE&quot;) &gt; -1 &amp;&amp; !isOpera;
        var _classContext = this,
            _dom = { main : null,//日历窗口dom
                     target : null, //获取值存放目标
                     title : null,//标题：显示当前年月
                     date : null, //天列表
                     
                     selectMonth : null,
                     selectYear: null
                    },
            _now = {year: null, month: null, date: null},//随着选择变化的选中日期对象
            _today = null,//当日日期对象
            _hightList = [],//需要高亮的日期列表 
            _isOnlyHight = false,
            _callBack = null,//赋值后回调
            _timer = null,
            _needSelect = true;//对于日期和年是否需要支持下来选择
            
        function HS_DateAdd(interval,number,date){
            number = parseInt(number);
            if (typeof(date)==&quot;string&quot;){
                var date = new Date(date.split(&quot;-&quot;)[0],date.split(&quot;-&quot;)[1],date.split(&quot;-&quot;)[2]);
            }
            if (typeof(date)==&quot;object&quot;){
                var date = date;
            }
            switch(interval){
                case &quot;y&quot;:return new Date(date.getFullYear()+number,date.getMonth(),date.getDate()); break;
                case &quot;m&quot;:return new Date(date.getFullYear(),date.getMonth()+number,HS_checkDate(date.getFullYear(),date.getMonth()+number,date.getDate())); break;
                case &quot;d&quot;:return new Date(date.getFullYear(),date.getMonth(),date.getDate()+number); break;
                case &quot;w&quot;:return new Date(date.getFullYear(),date.getMonth(),7*number+date.getDate()); break;
            }
        }
         
        function HS_checkDate(year,month,date){
            var enddate = [&quot;31&quot;,&quot;28&quot;,&quot;31&quot;,&quot;30&quot;,&quot;31&quot;,&quot;30&quot;,&quot;31&quot;,&quot;31&quot;,&quot;30&quot;,&quot;31&quot;,&quot;30&quot;,&quot;31&quot;];
            var returnDate = &quot;&quot;;
            if (year%4==0){
                enddate[1]=&quot;29&quot;;
            }
            if (date&gt;enddate[month]){
                returnDate = enddate[month];
            }else{
                returnDate = date;
            }
            return returnDate;
        }
         
        function HS_WeekDay(date){
            var theDate;
            if (typeof(date)==&quot;string&quot;){
                theDate = new Date(date.split(&quot;-&quot;)[0],date.split(&quot;-&quot;)[1],date.split(&quot;-&quot;)[2]);
            }
            if (typeof(date)==&quot;object&quot;){
                theDate = date;
            }
            return theDate.getDay();
        }
        //设置当前日期对象(根据选择动态变化)
        function setNow( date ){
            var now;
            if (typeof(arguments[0])==&quot;string&quot;){
                var selectDate = arguments[0].split(&quot;-&quot;);
                var year = selectDate[0];
                var month = parseInt(selectDate[1])-1+&quot;&quot;;
                var date = selectDate[2];
                now = new Date(year,month,date);
            }else if (typeof(arguments[0])==&quot;object&quot;){
                now = arguments[0];
            }
            _now.year = now.getFullYear();
            _now.month = now.getMonth();
            _now.date = now.getDate();
        }
        function HS_calender(){
            var lis = &quot;&quot;;            
            setNow(arguments[0]); 
            var yearMonthStr = _now.year+&quot;-&quot;+_now.month;    
            var lastMonthEndDate = HS_DateAdd(&quot;d&quot;,&quot;-1&quot;,yearMonthStr+&quot;-01&quot;).getDate();
            var lastMonthDate = HS_WeekDay(yearMonthStr+&quot;-01&quot;);
            var thisMonthLastDate = HS_DateAdd(&quot;d&quot;,&quot;-1&quot;,_now.year+&quot;-&quot;+(parseInt(_now.month)+1).toString()+&quot;-01&quot;);
            var thisMonthEndDate = thisMonthLastDate.getDate();
            var thisMonthEndDay = thisMonthLastDate.getDay();
            
            var today = _today.getFullYear()+&quot;-&quot;;
            var month = _today.getMonth() + 1;
            today += month &lt; 10 ? &#x27;0&#x27; : &#x27;&#x27;;
            today += month.toString() + &#x27;-&#x27;;
            today += _today.getDate() &lt; 10 ? &#x27;0&#x27;  : &#x27;&#x27;;
            today += _today.getDate().toString();
             //生成日期内容：可能存在三部分：上个月，当前月，下个月的       
             //上个月
            var i;
            for (i=0; i&lt;lastMonthDate; i++){ // Last Month&#x27;s Date
                lis = &quot;&lt;li class=&#x27;lastMonthDate&#x27;&gt;&quot;+lastMonthEndDate+&quot;&lt;/li&gt;&quot; + lis;
                lastMonthEndDate--;
            }
            //当前月   
            var month = parseInt(_now.month)+1;
            month = month &lt; 10 ? &#x27;0&#x27; + month.toString() : month;
            
            for (i=1; i&lt;=thisMonthEndDate; i++){ // Current Month&#x27;s Date
                var date = i &lt; 10 ? &#x27;0&#x27; + i.toString() : i;
                var dateStr = _now.year + &quot;-&quot; + month + &quot;-&quot; + date;
                var checkHight = checkHightLight(dateStr); 
                var hightClass = checkHight ? &#x27; class=&quot;have&quot;&#x27; : &#x27;&#x27;;             
                var todayClass = today == dateStr ? &#x27; class=&quot;today&quot;&#x27; : &#x27;&#x27;;  
                if( _isOnlyHight ){
                    if( checkHight ){
                        lis += &quot;&lt;li &quot;+hightClass+&quot;&gt;&lt;a href=&#x27;###&#x27; &quot;+todayClass+&quot; title=&#x27;&quot;+dateStr+&quot;&#x27;&gt;&quot;+i+&quot;&lt;/a&gt;&lt;/li&gt;&quot;;    
                    }else{
                        lis += &quot;&lt;li &quot;+hightClass+&quot;&gt;&quot;+i+&quot;&lt;/li&gt;&quot;;     
                    }
                }else{
                    lis += &quot;&lt;li &quot;+hightClass+&quot;&gt;&lt;a href=&#x27;###&#x27; &quot;+todayClass+&quot; title=&#x27;&quot;+dateStr+&quot;&#x27;&gt;&quot;+i+&quot;&lt;/a&gt;&lt;/li&gt;&quot;;        
                }
            }
            //下个月
            var j=1;
            for (i=thisMonthEndDay; i&lt;6; i++){ // Next Month&#x27;s Date
                lis += &quot;&lt;li class=&#x27;nextMonthDate&#x27;&gt;&quot;+j+&quot;&lt;/li&gt;&quot;;
                j++;
            }
             
            //生成标题
            var CalenderTitle = &quot;&lt;a href=&#x27;###&#x27; class=&#x27;nextMonth&#x27; title=&#x27;下一个月&#x27;&gt;»&lt;/a&gt;&quot;;
            CalenderTitle += &quot;&lt;a href=&#x27;###&#x27; class=&#x27;lastMonth&#x27; title=&#x27;上一个月&#x27;&gt;«&lt;/a&gt;&quot;;
            CalenderTitle += &quot;&lt;span class=&#x27;selectThisYear&#x27;&gt;&lt;a href=&#x27;###&#x27; class=&#x27;toSelectYear&#x27; title=&#x27;点击这里选择年份&#x27; &gt;&quot;+
                              _now.year+&quot;&lt;/a&gt;&lt;/span&gt;年&lt;span class=&#x27;selectThisMonth&#x27;&gt;&quot;+
                              &quot;&lt;a href=&#x27;###&#x27; class=&#x27;toSelectMonth&#x27; title=&#x27;点击这里选择月份&#x27;&gt;&quot;+
                              (parseInt(_now.month)+1).toString()+&quot;&lt;/a&gt;&lt;/span&gt;月&quot;;
            if (arguments.length&gt;1){                
                _dom.date.innerHTML = lis;
                _dom.title.innerHTML =  CalenderTitle;
                bindTitleClick();
                bindDateClick();
                bindSelectClick();
            }else{
                //日历内容框架
                var CalenderBox =&quot;&lt;div id=&#x27;calender&#x27; class=&#x27;calender&#x27;&gt;\
                                    &lt;div class=&#x27;calenderTitle&#x27;&gt;&quot;+CalenderTitle+&quot;&lt;/div&gt;\
                                    &lt;div class=&#x27;calenderBody&#x27;&gt;\
                                        &lt;ul class=&#x27;day&#x27;&gt;\
                                            &lt;li&gt;日&lt;/li&gt;&lt;li&gt;一&lt;/li&gt;&lt;li&gt;二&lt;/li&gt;&lt;li&gt;三&lt;/li&gt;&lt;li&gt;四&lt;/li&gt;&lt;li&gt;五&lt;/li&gt;&lt;li&gt;六&lt;/li&gt;\
                                        &lt;/ul&gt;\
                                        &lt;ul class=&#x27;date&#x27; id=&#x27;thisMonthDate&#x27;&gt;&quot;+lis+&quot;&lt;/ul&gt;\
                                    &lt;/div&gt;\
                                    &lt;div class=&#x27;calenderBottom&#x27;&gt;\
                                        &lt;span&gt;&lt;a href=&#x27;###&#x27; class=&#x27;closeCalender&#x27; &gt;关闭&lt;/a&gt;&lt;span&gt;&lt;/span&gt;\
                                        &lt;span&gt;&lt;a href=&#x27;###&#x27; class=&#x27;calToToday&#x27; title=&#x27;&quot;+dateStr+&quot;&#x27;&gt;今天&lt;/a&gt;&lt;/span&gt;\
                                        &lt;span&gt;&lt;a href=&#x27;###&#x27; class=&#x27;calEmptyInput&#x27; title=&#x27;&#x27;&gt;置空&lt;/a&gt;&lt;/span&gt;\
                                    &lt;/div&gt;\
                                  &lt;/div&gt;&quot;;
                                  
                return CalenderBox;
            }
        }
        function _selectThisDay(dom){       
            if( _dom.target.tagName == &#x27;INPUT&#x27; ){
                _dom.target.value = dom.title;  
            }else{
                _dom.target.innerHTML = dom.title;  
            }
            _callBack(dom.title);
            _classContext.close();
        }
         
        function _setEmpty(d){
            if( _dom.target.tagName == &#x27;INPUT&#x27; ){
                _dom.target.value = &#x27;&#x27;; 
            }else{
                _dom.target.innerHTML = &#x27;&#x27;; 
            }
            if( _dom.main ){
                $D.hide(_dom.main);
            }
        }
        //生成选择年的select列表
        function CalenderselectYear(obj){
            var opt = &quot;&quot;;
            var thisYear = obj.innerHTML;
            var i;
            for (i=1970; i&lt;=2020; i++){
                if (i==thisYear){
                    opt += &quot;&lt;option value=&quot;+i+&quot; selected&gt;&quot;+i+&quot;&lt;/option&gt;&quot;;
                }else{
                    opt += &quot;&lt;option value=&quot;+i+&quot;&gt;&quot;+i+&quot;&lt;/option&gt;&quot;;
                }
            }
            opt = &quot;&lt;select class=&#x27;selectYear&#x27;&gt;&quot;+opt+&quot;&lt;/select&gt;&quot;;
            obj.parentNode.innerHTML = opt;
            _dom.selectYear = $D.mini(&#x27;.selectYear&#x27;, _dom.title)[0];
            $E.on(_dom.selectYear , &#x27;onblur&#x27;, function(){
                    selectThisYear(this);                                   
            });
            $E.on(_dom.selectYear ,  &#x27;change&#x27;, function(){
                    selectThisYear(this);                                   
            });
        }
         
        function selectThisYear(obj){
            var month = &#x27;&#x27;;
            if( _dom.selectMonth ){
                month = _dom.selectMonth.value;
            }else{
                month = obj.value+&quot;-&quot;+obj.parentNode.parentNode.getElementsByTagName(&quot;span&quot;)[1].getElementsByTagName(&quot;a&quot;)[0].innerHTML;
            }
            HS_calender(month + &quot;-1&quot;, obj.parentNode);
        }
         
        function CalenderselectMonth(obj){
            var opt = &quot;&quot;;
            var thisMonth = obj.innerHTML;
            var i;
            for (i=1; i&lt;=12; i++){
            if (i==thisMonth){
                opt += &quot;&lt;option value=&quot;+i+&quot; selected&gt;&quot;+i+&quot;&lt;/option&gt;&quot;;
            }else{
                opt += &quot;&lt;option value=&quot;+i+&quot;&gt;&quot;+i+&quot;&lt;/option&gt;&quot;;
            }
            }
            opt = &quot;&lt;select class=&#x27;selectMonth&#x27;&gt;&quot;+opt+&quot;&lt;/select&gt;&quot;;
            obj.parentNode.innerHTML = opt;
            _dom.selectMonth = $D.mini(&#x27;.selectMonth&#x27;, _dom.title)[0];
            $E.on(_dom.selectMonth , &#x27;onblur&#x27;, function(){
                    selectThisMonth(this);                                  
            });
            $E.on(_dom.selectMonth, &#x27;change&#x27;, function(){
                    selectThisMonth(this);                                  
            });
        }
         
        function selectThisMonth(obj){ 
            var year = &#x27;&#x27;;
            if( _dom.selectYear ){
                year = _dom.selectYear.value;
            }else{
                year = obj.parentNode.parentNode.getElementsByTagName(&quot;span&quot;)[0].getElementsByTagName(&quot;a&quot;)[0].innerHTML;
            }
            HS_calender(year+&quot;-&quot;+obj.value+&quot;-1&quot;,obj.parentNode);
        }
         //获取控件X坐标
        function getDefineX(objectId){    
            var iPositionX=objectId.offsetLeft;  
            while(objectId=objectId.offsetParent){      
                iPositionX+=objectId.offsetLeft;    
            }
            return iPositionX;  
        }
        //获取控件Y坐标
        function getDefineY(objectId)  
        {
            var iPositionY=objectId.offsetTop;  
            while(objectId=objectId.offsetParent){
                iPositionY+=objectId.offsetTop;  
            }  
            return iPositionY;  
        }
         
        var oSpanClick = function(oEvent){
            if(oEvent.type ==&quot;click&quot;){
                if(isIE){
                    oEvent = window.event;
                    oEvent.returnValue = false;
                }else{
                    oEvent.preventDefault();
                }
            }
        }
         
        //绑定公共按钮
        var bindActClick = function(){
            //关闭
            $E.on($D.mini(&#x27;.closeCalender&#x27;, _dom.main)[0], &#x27;click&#x27;, _classContext.close );  
            //定位今天
            $E.on($D.mini(&#x27;.calToToday&#x27;, _dom.main)[0], &#x27;click&#x27;, function(){ _selectThisDay(this); } ); 
            //清除输入
            $E.on($D.mini(&#x27;.calEmptyInput&#x27;, _dom.main)[0], &#x27;click&#x27;, function(){ _setEmpty(this); } );                                                                   
                                                
        };
        //绑定日期点击
        var bindDateClick = function(){
            //绑定日期单击
            var domArr = $D.mini(&#x27;a&#x27;,_dom.date); 
            for(var key in domArr){ 
                $E.on( domArr[key], &#x27;click&#x27;, function(){ 
                    _selectThisDay(this);                             
                });
            }
                
        };
        //绑定选择年月
        var bindSelectClick = function(){
            var toSelectYear  = $D.mini(&#x27;.toSelectYear&#x27;, _dom.title)[0];
            var toSelectMonth = $D.mini(&#x27;.toSelectMonth&#x27;, _dom.title)[0];
            if( !_needSelect ){
                toSelectYear.title = &#x27;&#x27;;
                $D.setStyle(toSelectYear,&#x27;cursor&#x27;,&#x27;default&#x27;);
                toSelectMonth.title = &#x27;&#x27;;
                $D.setStyle(toSelectMonth,&#x27;cursor&#x27;,&#x27;default&#x27;);
                return false;   
            }
            $E.on( toSelectYear, &#x27;click&#x27;, function(){ 
                CalenderselectYear(this);
            });             
            $E.on( toSelectMonth, &#x27;click&#x27;, function(){ 
                CalenderselectMonth(this);
            }); 
        };
        //绑定标题点击项：上下月
        var bindTitleClick = function(){
            var tmpDate = _now.year+&quot;-&quot;+_now.month+&quot;-&quot;+_now.date; 
            $E.on( $D.mini(&#x27;.nextMonth&#x27;, _dom.title)[0], &#x27;click&#x27;, function(){ 
                HS_calender(HS_DateAdd(&#x27;m&#x27;, 1, tmpDate),this);
            });             
            $E.on( $D.mini(&#x27;.lastMonth&#x27;, _dom.title)[0], &#x27;click&#x27;, function(){ 
                HS_calender(HS_DateAdd(&#x27;m&#x27;, -1, tmpDate),this);
            }); 
        };
        //判断日期是否在高亮列表中
        var checkHightLight = function(date){
            for(var key in _hightList ){
                if( _hightList[key] == date ){
                    return true;    
                }
            }
            return false;            
        };
        
        
        
        /**
         * 关闭日历
         * @name close
         * @function
         * @memberOf ui.CalendarClass.prototype
         */
        this.close = function( ){   
            if( _dom.main ){
                $D.hide(_dom.main);
            }
        };
        /**
         * 显示日历
         * @name show
         * @function
         * @memberOf ui.CalendarClass.prototype
         */
        this.show = function(){
            if( _dom.main ){
                $D.show(_dom.main);
                var targetObj = _dom.target;
                _dom.main.style.left = getDefineX(targetObj)+&quot;px&quot;;          
                _dom.main.style.top = getDefineY(targetObj)+inputH+&quot;px&quot;;
            }
        };
        /**
         * 销毁日历
         * @name destroy
         * @function
         * @memberOf ui.CalendarClass.prototype
         */
        this.destroy = function(){
            if( _dom.main ){
                _dom.main.parentNode.removeChild(_dom.main);
                _dom.main = null;
            }   
        };
         
        /**
         * 设置日历 
         * 
         * @function
         * @name setCalendar
         * @memberOf ui.CalendarClass.prototype
         *  
         * @param {HTMLElement} targetObj 目标对象。可以为input、div  
         * @param {Object} opt 初始化参数:
         *                  showBottom:是否显示日历操作按钮，&lt;br/&gt;
         *                  hightList:需要高亮的日期列表.格式：[&#x27;2011-01-01&#x27;,&#x27;2011-01-05&#x27;]&lt;br/&gt;
         *                  isOnlyHight:是否只有高亮的日期才可以点击&lt;br/&gt;
         *                  _needSelect:标题中的当前的年和月是否需要点击出现下拉选择列表,&lt;br/&gt;
         *                  today:今天的时间戳&lt;br/&gt;
         * @param {Function} callBack targetObj赋值后回调此函数
         *  
         */
        this.setCalendar = function( targetObj, opt, callBack ){
            //首次生成日历，之后隐藏或显示调用日历
            /*_dom.main = $D.id(&#x27;calenderspan&#x27;);//document.getElementById(&#x27;calenderspan&#x27;);
            if(_dom.main == null){
                _dom.main = document.createElement(&quot;span&quot;);
                _dom.main.id = &quot;calenderspan&quot;;
                _dom.main.innerHTML = HS_calender(new Date());
                _dom.main.style.position = &quot;absolute&quot;;
                document.body.insertBefore(_dom.main,document.body.lastChild);
                bindActClick();
            }else{
                $D.show(_dom.main);//_dom.main.style.display = &#x27;&#x27;;
            }*/
            //屏蔽鼠标点击事件
            /*if(isIE){
                _dom.main.attachEvent(&quot;onclick&quot;,oSpanClick);
            }else{
                _dom.main.addEventListener(&quot;click&quot;,oSpanClick,false);
                //inputObj.addEventListener(&quot;click&quot;,oSpanClick,false);
            }*/
            opt = opt || {};
            opt.showBottom = opt.showBottom || false;
            _hightList = opt.hightList || [];//高亮指定日期列表.dateList:{&#x27;2011-01-01&#x27;,&#x27;2010-01-02&#x27;}
            _isOnlyHight = opt.isOnlyHight || false;//是否只是高亮列表才可以点击
            _needSelect = J.isUndefined(opt.needSelect) ? true : opt.needSelect;
            opt.today = opt.today || 0;
            if( !J.isUndefined(callBack) ){
                _callBack = callBack;//设置成功后回调  
            }
            if( !_dom.main ){                
                _dom.main = document.createElement(&quot;span&quot;);
                _dom.main.id = &quot;calenderspan_&quot; + ( calendarCount++ );
                _today = new Date();
                if( opt.today != 0 ){
                    _today.setTime(opt.today);
                }
                _dom.main.innerHTML = HS_calender( _today ); ;
                _dom.main.className = &#x27;calendarBox&#x27;;//style.position = &quot;absolute&quot;;
                _dom.main.style.display = &#x27;none&#x27;;
                document.body.insertBefore(_dom.main, document.body.lastChild);
                
                _dom.title  = $D.mini(&#x27;.calenderTitle&#x27;, _dom.main)[0];
                _dom.date = $D.mini(&#x27;.date&#x27;, _dom.main)[0];
                bindTitleClick();
                bindActClick();
                bindDateClick();
                bindSelectClick();
                if( !opt.showBottom ){
                    if( _dom.main ){
                        $D.hide( $D.mini(&#x27;.calenderBottom&#x27;, _dom.main)[0] );
                    }
                }
                $E.on(_dom.main, &#x27;mouseout&#x27;,function(evt){ 
                    var el = _dom.main; 
                    var reltg = (evt.relatedTarget) ? evt.relatedTarget : evt.toElement;  
                    try{
                        var _ic = el.contains ? el != reltg &amp;&amp; el.contains(reltg) : !!(el.compareDocumentPosition(reltg) &amp; 16);    
                        if(!_ic){
                            _classContext.close();
                        } 
                    }catch(e){}
                });              
            }
            _dom.target = targetObj;                        
        }
        
         
        
    };
    J.ui = J.ui || {};
    if(!J.ui.calendar ){
        /**
         * 默认初始化的日历实例, 可以直接使用
         * @link ui.CalendarClass
         * @field
         * @memberOf ui
         * @name calendar
         */
        J.ui.calendar = new CalendarClass;
    }
    //日历类，可以实例化多个
    J.ui.CalendarClass = CalendarClass;

});









    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
