(function(){var e=this,b=e.Jx,k={},m={},g={NO_DEBUG:0,SHOW_ALL:1},i={debug:1},d=function(h,q,n){h=String(h);if(i.debug)if(this.console)this.console.out?this.console.out(h,q,n):alert(h+" - \u6d88\u606f\u7c7b\u578b["+n+"]");return h};try{if(typeof b==="undefined"||b.mark&&b.mark==="JxMark"){if(b){k=b.VERSIONS;m=b.PACKAGES}b=function(h,q){var n=this;if(q)this._init();else if(h){h=String(h);try{if(b.VERSIONS[h])n=b.VERSIONS[h];else{n=b.VERSIONS[b.DEFAULT_VERSION];throw Error("\u6ca1\u6709\u627e\u5230 JET version "+
h+", \u6240\u4ee5\u8fd4\u56de\u9ed8\u8ba4\u7248\u672c JET version "+b.DEFAULT_VERSION+"!");}}catch(s){n.out("A.\u9519\u8bef\uff1a["+s.name+"] "+s.message+", "+s.fileName+", \u884c\u53f7:"+s.lineNumber+"; stack:"+typeof s.stack,2)}}else n=b.VERSIONS[b.DEFAULT_VERSION];return n};b.prototype={version:"1.0",DEBUG:g,option:i,_init:function(){this.constructor=b},$namespace:function(h){var q,n=h.split("."),s=window;for(h=0;h<n.length;h+=1){q=n[h];s[q]=s[q]||{};s=s[n[h]]}return s},$package:function(){var h=
arguments[0],q=arguments[arguments.length-1],n=e;if(typeof q==="function"){if(typeof h==="string"){n=this.$namespace(h);b.PACKAGES[h]||(b.PACKAGES[h]={isLoaded:true,returnValue:void 0});n.packageName=h}else if(typeof h==="object")n=h;q.call(n,this)}else throw Error("Function required");},checkPackage:function(h){return b.PACKAGES[h]},out:d,debug:function(){},profile:function(){},warn:function(){},error:function(){},startTime:+new Date,about:function(){return this.out("JET (Javascript Extend Tools)\nversion: "+
this.version+"\n\nCopyright (c) 2009, All rights reserved.")},toString:function(){return"JET version "+this.version+" !"}};b.VERSIONS=k;b.PACKAGES=m;b.VERSIONS["1.0"]=new b("1.0",true);b.DEFAULT_VERSION="1.0";b.mark="JxMark";e.Jet=e.Jx=b}else throw Error('"Jx" name is defined in other javascript code !!!');}catch(f){d("JET \u5fae\u5185\u6838\u521d\u59cb\u5316\u5931\u8d25! B.\u9519\u8bef\uff1a["+f.name+"] "+f.message+", "+f.fileName+", \u884c\u53f7:"+f.lineNumber+"; stack:"+typeof f.stack,1)}})();
Jx().$package(function(e){var b,k,m,g,i,d,f,h,q,n,s;b=function(a){return typeof a==="undefined"};k=function(a){return a===null};m=function(a){return(a===0||a)&&a.constructor===Number};i=function(a){return(a===false||a)&&a.constructor===Boolean};g=function(a){return(a===""||a)&&a.constructor===String};d=function(a){return a&&a.constructor===Object||String(a)==="[object Object]"};f=function(a){return a&&a.constructor===Array||Object.prototype.toString.call(a)==="[object Array]"};h=function(a){return a&&
a.callee&&m(a.length)?true:false};q=function(a){return a&&a.constructor===Function};n=function(a){var c=arguments,j,l;if(c.length===1){a=this;c=0}else{a=c[0]||{};c=1}for(;c<arguments.length;c++){l=arguments[c];for(j in l){var r=a[j],u=l[j];if(r!==u)if(u&&d(u)&&!f(u)&&!u.nodeType&&!q(u)){r=a[j]||{};a[j]=n(r,u||(u.length!=null?[]:{}))}else if(u!==undefined)a[j]=u}}return a};s=function(){var a=arguments.length,c=arguments[a-1];c.init=c.init||function(){};if(a===2){a=arguments[0].extend;var j=function(){};
j.prototype=a.prototype;var l=function(){this.init.apply(this,arguments)};l.superClass=a.prototype;l.callSuper=function(r,u){var x=Array.prototype.slice,w=x.call(arguments,2);(u=l.superClass[u])&&u.apply(r,w.concat(x.call(arguments)))};l.prototype=new j;l.prototype.constructor=l;e.extend(l.prototype,c);l.prototype.init=function(){c.init.apply(this,arguments)};return l}else if(a===1){a=function(){return this.init.apply(this,arguments)};a.prototype=c;return a}};var o=new s({init:function(a,c,j,l,r){var u=
a.concat();if(l)u=a;this.timeout=window.setTimeout(function(){var x=+new Date;do c.call(j,u.shift());while(u.length>0&&+new Date-x<50);if(u.length>0)this.timeout=window.setTimeout(arguments.callee,25);else r&&r(a)},25)},stop:function(){clearTimeout(this.timeout)}});e.isUndefined=b;e.isNull=k;e.isNumber=m;e.isString=g;e.isBoolean=i;e.isObject=d;e.isArray=f;e.isArguments=h;e.isFunction=q;e.$typeof=function(a){return b(a)?"undefined":k(a)?"null":m(a)?"number":i(a)?"boolean":g(a)?"string":d(a)?"object":
f(a)?"array":h(a)?"arguments":q(a)?"function":"other"};e.$return=function(a){return e.isFunction(a)?a:function(){return a}};e.$try=function(){var a,c=arguments.length,j;for(a=0;a<c;a++)try{j=arguments[a]();break}catch(l){e.out("C.\u9519\u8bef\uff1a["+l.name+"] "+l.message+", "+l.fileName+", \u884c\u53f7:"+l.lineNumber+"; stack:"+typeof l.stack,2)}return j};e.emptyFunc=function(){};e.clone=function(a){var c=function(){};c.prototype=a;return new c};e.getLength=function(a){var c,j=0;for(c in a)a.hasOwnProperty(c)&&
j++;return j};e.checkJSON=function(){return true};e.random=function(a,c){return Math.floor(Math.random()*(c-a+1)+a)};e.extend=n;e.now=function(){return+new Date};e.timedChunk=function(a,c,j,l,r){var u=a.concat();if(l)u=a;window.setTimeout(function(){var x=+new Date;do c.call(j,u.shift());while(u.length>0&&+new Date-x<50);if(u.length>0)window.setTimeout(arguments.callee,25);else r&&r(a)},25)};e.rebuild=function(a,c){c=c||{};a.$$rebuildedFunc=a.$$rebuildedFunc||function(){var j,l;j=c.contextObj||this;
l=Array.prototype.slice.call(arguments,0);if(l!==undefined)l=l.concat(c.arguments);if(c.event===false)l=l.slice(1);return a.apply(j,l)};return a.$$rebuildedFunc};e.pass=function(a){var c=Array.prototype.slice,j=c.call(arguments,1);return function(){return a.apply(this,j.concat(c.call(arguments)))}};e.bind=function(a,c){var j=Array.prototype.slice,l=j.call(arguments,2);return function(){return a.apply(c,l.concat(j.call(arguments)))}};e.bindNoEvent=void 0;e.Class=s;e.Chunk=o});
Jx().$package(function(e){e.array=e.array||{};var b=e.array,k,m,g,i,d,f,h,q,n,s,o,a;k=Array.prototype.indexOf?function(){var c=Array.prototype.slice.call(arguments,1);return Array.prototype.indexOf.apply(arguments[0],c)}:function(c,j,l){if(l==null)l=0;else if(l<0)l=Math.max(0,c.length+l);for(l=l;l<c.length;l++)if(c[l]===j)return l;return-1};m=Array.prototype.lastIndexOf?function(){var c=Array.prototype.slice.call(arguments,1);return Array.prototype.lastIndexOf.apply(arguments[0],c)}:function(c,j,
l){if(l==null)l=c.length-1;else if(l<0)l=Math.max(0,c.length+l);for(l=l;l>=0;l--)if(c[l]===j)return l;return-1};g=Array.prototype.forEach?function(){var c=Array.prototype.slice.call(arguments,1);return Array.prototype.forEach.apply(arguments[0],c)}:function(c,j,l){var r=c.length;if(typeof j!="function")throw new TypeError;for(var u=0;u<r;u++)u in c&&j.call(l,c[u],u,c)};i=Array.prototype.filter?function(){var c=Array.prototype.slice.call(arguments,1);return Array.prototype.filter.apply(arguments[0],
c)}:function(c,j,l){var r=c.length;if(typeof j!="function")throw new TypeError;for(var u=[],x=0;x<r;x++)if(x in c){var w=c[x];j.call(l,w,x,c)&&u.push(w)}return u};d=Array.prototype.some?function(){var c=Array.prototype.slice.call(arguments,1);return Array.prototype.some.apply(arguments[0],c)}:function(c,j,l){var r=c.length;if(typeof j!="function")throw new TypeError;for(var u=0;u<r;u++)if(u in c&&j.call(l,c[u],u,c))return true;return false};f=Array.prototype.map?function(){var c=Array.prototype.slice.call(arguments,
1);return Array.prototype.map.apply(arguments[0],c)}:function(c,j,l){var r=c.length;if(typeof j!="function")throw new TypeError;for(var u=Array(r),x=0;x<r;x++)if(x in c)u[x]=j.call(l,c[x],x,c);return u};h=Array.prototype.every?function(){var c=Array.prototype.slice.call(arguments,1);return Array.prototype.every.apply(arguments[0],c)}:function(c,j,l){var r=c.length;if(typeof j!="function")throw new TypeError;for(var u=0;u<r;u++)if(u in c&&!j.call(l,c[u],u,c))return false;return true};q=Array.prototype.reduce?
function(){var c=Array.prototype.slice.call(arguments,1);return Array.prototype.reduce.apply(arguments[0],c)}:function(c,j){var l=c.length>>>0;if(typeof j!="function")throw new TypeError;if(l==0&&arguments.length==2)throw new TypeError;var r=0;if(arguments.length>=3)var u=arguments[2];else{do{if(r in c){u=c[r++];break}if(++r>=l)throw new TypeError;}while(1)}for(;r<l;r++)if(r in c)u=j.call(null,u,c[r],r,c);return u};n=Array.prototype.reduceRight?function(){var c=Array.prototype.slice.call(arguments,
1);return Array.prototype.reduceRight.apply(arguments[0],c)}:function(c,j){var l=c.length>>>0;if(typeof j!="function")throw new TypeError;if(l==0&&arguments.length==2)throw new TypeError;l=l-1;if(arguments.length>=3)var r=arguments[2];else{do{if(l in c){r=c[l--];break}if(--l<0)throw new TypeError;}while(1)}for(;l>=0;l--)if(l in c)r=j.call(null,r,c[l],l,c);return r};s=function(c){var j=e.$typeof(c);return j?j!="array"&&j!="arguments"?[c]:c:[]};o=function(c,j){return k(c,j)>-1};a=function(c){for(var j=
[],l=0,r=c.length;l<r;l++)o(j,c[l])||j.push(c[l]);return j};b.indexOf=k;b.lastIndexOf=m;b.forEach=g;b.filter=i;b.some=d;b.map=f;b.every=h;b.reduce=q;b.reduceRight=n;b.toArray=s;b.remove=function(c,j){j=s(j);var l,r,u=false;for(l=0;l<j.length;l++)for(r=0;r<c.length;r++)if(c[r]===j[l]){c.splice(r,1);u=true}return u};b.replace=function(c,j,l){for(;0<c.length;ij++)if(c[0]===j){c[0]=l;return true}return false};b.bubbleSort=function(c,j){j=j||function(E,C){return E-C};for(var l=c.length,r,u,x=0;x<l-1;x++){u=
false;for(var w=l-1;w>x;w--)if(j(c[w],c[w-1])<0){u=true;r=c[w-1];c[w-1]=c[w];c[w]=r}if(!u)break}return c};b.binarySearch=function(c,j,l){for(var r=0,u=c.length,x=Math.floor(c.length/2);u!=x;){if(l(j,c[x])>0)r=x+1;else u=x;x=Math.floor((r+u)/2)}return x};b.contains=o;b.uniquelize=a;b.intersect=function(c,j){for(var l=[],r=0,u=c.length;r<u;r++)o(j,c[r])&&l.push(c[r]);return l};b.minus=function(c,j){for(var l=[],r=0,u=c.length;r<u;r++)o(j,c[r])||l.push(c[r]);return l};b.union=function(c,j){return a(c.concat(j))}});
Jx().$package(function(e){e.browserOptions={adjustBehaviors:true,htmlClass:true};e.host=window.location.host;var b=navigator.platform.toLowerCase(),k=navigator.userAgent.toLowerCase(),m=navigator.plugins,g,i,d,f,h;f=function(s,o){s=(""+s).replace(/_/g,".");o=o||1;s=String(s).split(".");s=s[0]+"."+(s[1]||"0");return s=Number(s).toFixed(o)};g={getPlatform:function(){return b},name:window.orientation!=undefined?"iPod":(b.match(/mac|win|linux/i)||["unknown"])[0],version:0,iPod:0,iPad:0,iPhone:0,android:0,
win:0,linux:0,mac:0,set:function(s,o){this.name=s;this.version=o;this[s]=o}};g[g.name]=true;(h=k.match(/windows ([\d.]+)/))?g.set("win",f(h[1])):(h=k.match(/windows nt ([\d.]+)/))?g.set("win",f(h[1])):(h=k.match(/linux ([\d.]+)/))?g.set("linux",f(h[1])):(h=k.match(/mac ([\d.]+)/))?g.set("mac",f(h[1])):(h=k.match(/ipod ([\d.]+)/))?g.set("iPod",f(h[1])):(h=k.match(/ipad[\D]*os ([\d_]+)/))?g.set("iPad",f(h[1])):(h=k.match(/iphone ([\d.]+)/))?g.set("iPhone",f(h[1])):(h=k.match(/android ([\d.]+)/))&&g.set("android",
f(h[1]));i={features:{xpath:!!document.evaluate,air:!!window.runtime,query:!!document.querySelector},getPlugins:function(){return m},plugins:{flash:function(){var s=0;if(m&&m.length){var o=m["Shockwave Flash"];if(o&&o.description)s=f(o.description.match(/\b(\d+)\.\d+\b/)[1],1)||s}else for(o=13;o--;)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+o);s=f(o);break}catch(a){}return s}()},getUserAgent:function(){return k},name:"unknown",version:0,ie:0,firefox:0,chrome:0,opera:0,safari:0,mobileSafari:0,
adobeAir:0,set:function(s,o){this.name=s;this.version=o;this[s]=o}};(h=k.match(/msie ([\d.]+)/))?i.set("ie",f(h[1])):(h=k.match(/firefox\/([\d.]+)/))?i.set("firefox",f(h[1])):(h=k.match(/chrome\/([\d.]+)/))?i.set("chrome",f(h[1])):(h=k.match(/opera.([\d.]+)/))?i.set("opera",f(h[1])):(h=k.match(/adobeair\/([\d.]+)/))?i.set("adobeAir",f(h[1])):(h=k.match(/version\/([\d.]+).*safari/))&&i.set("safari",f(h[1]));(h=k.match(/version\/([\d.]+).*mobile.*safari/))&&i.set("mobileSafari",f(h[1]));g.iPad&&i.set("mobileSafari",
"0.0");if(i.ie)if(document.documentMode)document.documentMode!==Math.floor(i.ie)&&i.set("ie",f(document.documentMode));else document.documentMode=Math.floor(i.ie);d={name:"unknown",version:0,trident:0,gecko:0,webkit:0,presto:0,set:function(s,o){this.name=s;this.version=o;this[s]=o}};(h=k.match(/trident\/([\d.]+)/))?d.set("trident",f(h[1])):(h=k.match(/gecko\/([\d.]+)/))?d.set("gecko",f(h[1])):(h=k.match(/applewebkit\/([\d.]+)/))?d.set("webkit",f(h[1])):(h=k.match(/presto\/([\d.]+)/))&&d.set("presto",
f(h[1]));if(i.ie)if(i.ie==6)d.set("trident",f("4"));else if(i.ie==7||i.ie==8)d.set("trident",f("5"));if(e.browserOptions.adjustBehaviors)if(i.ie&&i.ie<7)try{document.execCommand("BackgroundImageCache",false,true)}catch(q){}var n=function(s){return String(s).replace(/\./gi,"_")};h=function(){var s=document.documentElement,o=[s.className];o.push("javascriptEnabled");o.push(g.name);o.push(g.name+n(g.version));o.push(i.name);o.push(i.name+n(i.version));document.documentMode&&o.push("documentMode_"+document.documentMode);
o.push(d.name);o.push(d.name+n(d.version));if(i.plugins.flash){o.push("flash");o.push("flash"+n(i.plugins.flash))}typeof window.webTop!="undefined"&&window.webTop&&o.push("webTop");s.className=o.join(" ")};e.browserOptions.htmlClass&&h();e.platform=g;e.browser=i;e.browser.engine=d});
Jx().$package(function(e){var b,k,m,g,i,d,f,h,q,n,s,o,a,c,j,l,r=null,u,x,w,E;e.dom=e.dom||{};b=e.dom;k=e.browser;m=b.win?b.win.contentWindow:b.win||window;b.win=m;b.doc=m.document;var C=document&&Object.prototype.hasOwnProperty.call(document.documentElement,"classList");x=function(){if(w)return w;return w=document.compatMode==="CSS1Compat"?document.documentElement:document.body};l=function(p){if(p){p=p||window.document;r=p.nodeType===9?p:p.ownerDocument||b.doc}else if(!r){p=p||window.document;r=p.nodeType===
9?p:p.ownerDocument||b.doc}return r};u=function(p){var t=l(p);return p.document?p:t.defaultView||t.parentWindow||b.win};m=function(p,t){t=t||l();return t.getElementsByTagName(p)};s=function(p){return(p?p.scrollLeft:Math.max(document.documentElement.scrollLeft,document.body.scrollLeft))||0};o=function(p){return(p?p.scrollTop:Math.max(document.documentElement.scrollTop,document.body.scrollTop))||0};g=function(){return C?function(p,t){if(!p||!t)return false;return p.classList.contains(t)}:function(p,
t){if(!p||!t)return false;return-1<(" "+p.className+" ").indexOf(" "+t+" ")}}();i=function(){return C?function(p,t){!p||!t||g(p,t)||p.classList.add(t)}:function(p,t){!p||!t||g(p,t)||(p.className+=" "+t)}}();d=function(){return C?function(p,t){!p||!t||!g(p,t)||p.classList.remove(t)}:function(p,t){if(!(!p||!t||!g(p,t)))p.className=p.className.replace(RegExp("(?:^|\\s)"+t+"(?:\\s|$)")," ")}}();f=function(){return C?function(p,t){p&&t&&p.classList.toggle(t)}:function(p,t){if(p&&t)g(p,t)?d(p,t):i(p,t)}}();
h=function(p,t,v){if(p){var D=e.browser.name;if(t==="float"||t==="cssFloat")t=D==="ie"?"styleFloat":"cssFloat";if(t==="opacity"&&D==="ie"&&e.browser.ie<9){p.style.filter='alpha(opacity="'+v*100+'")';if(!p.style.zoom)p.style.zoom=1}else p.style[t]=v}};q=function(p,t){if(p){var v=u(p),D=e.browser.name;if(t==="float"||t==="cssFloat")t=D==="ie"?"styleFloat":"cssFloat";if(t==="opacity"&&D==="ie"&&e.browser.ie<9){v=1;if((D=p.style.filter.match(/opacity=(\d+)/))&&D[1])v=D[1]/100;return v}if(p.style[t])return p.style[t];
else if(p.currentStyle)return p.currentStyle[t];else if(v.getComputedStyle)return v.getComputedStyle(p,null)[t];else if(document.defaultView&&document.defaultView.getComputedStyle){t=t.replace(/([/A-Z])/g,"-$1");t=t.toLowerCase();return(v=document.defaultView.getComputedStyle(p,""))&&v.getPropertyValue(t)}}};n=function(p,t){p.style.cssText=t};a=function(p){var t=0,v=0;if(p)if(document.documentElement.getBoundingClientRect&&p.getBoundingClientRect){v={left:0,top:0,right:0,bottom:0};try{v=p.getBoundingClientRect()}catch(D){return[0,
0]}p=p.ownerDocument;var J=e.browser.ie?2:0;t=v.top-J+o(p);v=v.left-J+s(p)}else for(;p.offsetParent;){t+=p.offsetTop;v+=p.offsetLeft;p=p.offsetParent}return[v,t]};c=function(p){p=a(p);p[0]+=s();p[1]+=o();return p};j=function(p,t,v){var D=parseInt(q(p,"marginLeft"))||0,J=parseInt(q(p,"marginTop"))||0;h(p,"left",parseInt(t)-D+"px");h(p,"top",parseInt(v)-J+"px")};for(var K=function(p){return!p||p=="auto"?0:parseInt(p.substr(0,p.length-2))},G=m("script"),z=0;z<G.length;z++)if(G[z].getAttribute("hasJx")==
"true")e.src=G[z].src;if(!e.src)e.src=G[G.length-1].src;e.filename=e.src.replace(/(.*\/){0,}([^\\]+).*/ig,"$2");e.path=e.src.split(e.filename)[0];b.getDoc=l;b.id=function(p,t){return l(t).getElementById(p)};b.name=function(p,t){return l(t).getElementsByName(p)};b.tagName=m;b.getText=function(p){var t=p?p[TEXT_CONTENT]:"";if(t===UNDEFINED&&INNER_TEXT in p)t=p[INNER_TEXT];return t||""};b.getAttributeByParent=function(p,t,v){var D=false;t=t;var J;do{J=t.getAttribute(p);if(e.isUndefined(J)||e.isNull(J))if(t===
v)D=true;else t=t.parentNode;else D=true}while(!D);return J};b.node=function(p,t){var v,D=document.createElement(p),J={"class":function(){D.className=t["class"]},style:function(){n(D,t.style)}};for(v in t)J[v]?J[v]():D.setAttribute(v,t[v]);return D};b.setClass=function(p,t){p.className=t};b.getClass=function(p){return p.className};b.hasClass=g;b.addClass=i;b.removeClass=d;b.toggleClass=f;b.replaceClass=function(p,t,v){d(p,t);i(p,v)};b.createStyleNode=function(p,t){var v=b.node("style",{id:t||"",type:"text/css"});
if(v.styleSheet)v.styleSheet.cssText=p;else{var D=document.createTextNode(p);v.appendChild(D)}b.getDocHead().appendChild(v);return v};b.setStyle=h;b.getStyle=q;b.setCssText=n;b.getCssText=function(p){return p.style.cssText};b.addCssText=function(p,t){p.style.cssText+=";"+t};b.show=function(p,t){var v;v=(v=p.getAttribute("_oldDisplay"))?v:q(p,"display");if(t)h(p,"display",t);else v==="none"?h(p,"display","block"):h(p,"display",v)};b.isShow=function(p){return q(p,"display")==="none"?false:true};b.recover=
function(p){var t;t=(t=p.getAttribute("_oldDisplay"))?t:q(p,"display");t==="none"?h(p,"display",""):h(p,"display",t)};b.hide=function(p){var t=q(p,"display");p.getAttribute("_oldDisplay")||(t==="none"?p.setAttribute("_oldDisplay",""):p.setAttribute("_oldDisplay",t));h(p,"display","none")};b.getScrollLeft=s;b.getScrollTop=o;b.getScrollHeight=function(p){return(p?p.scrollHeight:Math.max(document.documentElement.scrollHeight,document.body.scrollHeight))||0};b.getScrollWidth=function(p){return(p?p.scrollWidth:
Math.max(document.documentElement.scrollWidth,document.body.scrollWidth))||0};b.getClientHeight=function(p){p=p||x();return p.clientHeight};b.getClientWidth=function(p){p=p||x();return p.clientWidth};b.getOffsetHeight=function(p){p=p||x();return p.offsetHeight};b.getOffsetWidth=function(p){p=p||x();return p.offsetWidth};b.getClientXY=a;b.setClientXY=function(p,t,v){t=parseInt(t)+s();v=parseInt(v)+o();j(p,t,v)};b.getXY=c;b.setXY=j;b.getRelativeXY=function(p,t){var v=c(p),D=c(t),J=[];J[0]=v[0]-D[0];
J[1]=v[1]-D[1];return J};b.getPosX=function(p){return K(b.getStyle(p,"left"))};b.getPosY=function(p){return K(b.getStyle(p,"top"))};b.getWidth=function(p){return K(b.getStyle(p,"width"))};b.getHeight=function(p){return K(b.getStyle(p,"height"))};b.getSelection=void 0;b.getSelectionText=function(p){p=p||window;var t=p.document;if(p.getSelection)return p.getSelection().toString();else if(t.getSelection)return t.getSelection();else if(t.selection)return t.selection.createRange().text};b.getTextFieldSelection=
function(p){return p.selectionStart!=undefined&&p.selectionEnd!=undefined?p.value.substring(p.selectionStart,p.selectionEnd):""};b.getDocumentElement=x;b.getDocHead=function(){if(!E){var p=l();E=p.getElementsByTagName("head")?p.getElementsByTagName("head")[0]:p.documentElement}return E};b.contains=function(p,t,v){if(!v&&p===t)return false;if(p.compareDocumentPosition){p=p.compareDocumentPosition(t);if(p==20||p==0)return true}else if(p.contains(t))return true;return false};b.getHref=function(p){return(k.ie&&
k.ie<=7?p.getAttribute("href",4):p.href)||null}});
Jx().$package(function(e){var b,k,m,g,i,d,f=[],h,q,n,s,o;e.event=e.event||{};b=e.event;o=function(a,c){if(!a)a=window.event;c=c||a.srcElement;var j=document,l=j.documentElement;j=j.body;l={_event:a,type:a.type,target:a.srcElement,currentTarget:c,relatedTarget:a.fromElement?a.fromElement:a.toElement,eventPhase:a.srcElement==c?2:3,clientX:a.clientX,clientY:a.clientY,screenX:a.screenX,screenY:a.screenY,layerX:a.offsetX,layerY:a.offsetY,pageX:a.clientX+(l&&l.scrollLeft||j&&j.scrollLeft||0)-(l&&l.clientLeft||
j&&j.clientLeft||0),pageY:a.clientY+(l&&l.scrollTop||j&&j.scrollTop||0)-(l&&l.clientTop||j&&j.clientTop||0),wheelDelta:a.wheelDelta,altKey:a.altKey,ctrlKey:a.ctrlKey,shiftKey:a.shiftKey,charCode:a.keyCode,keyCode:a.keyCode,stopPropagation:function(){this._event.cancelBubble=true},preventDefault:function(){this._event.returnValue=false}};j=a.type.toLowerCase();if(j=="mouseover")l.relatedTarget=a.fromElement;else if(j=="mouseout")l.relatedTarget=a.toElement;if(!e.isUndefined(a.button)){j=a.button;var r=
{0:-1,1:0,2:2,3:-1,4:1};l.button=e.isUndefined(r[j])?j:r[j]}return l};if(e.browser.ie){k=function(a,c,j,l){d["on"+c]?d["on"+c](a,c,j,l):m(a,c,j)};m=function(a,c,j){if(b._find(arguments)==-1){var l=function(x){x=o(x,a);if(Function.prototype.call)j.call(a,x);else{a._currentHandler=j;a._currentHandler(x);a._currentHandler=null}};a.attachEvent("on"+c,l);l={element:a,eventType:c,handler:j,wrappedEvent:l};var r=(a.document||a).parentWindow||window,u=b._uid();if(!r._allHandlers)r._allHandlers={};r._allHandlers[u]=
l;if(!a._handlers)a._handlers=[];a._handlers.push(u);if(!r._onunloadEventRegistered){r._onunloadEventRegistered=true;r.attachEvent("onunload",b._removeAllEvents)}}};g=function(a,c,j){if(d["off"+c])d["off"+c](a,c,j);else arguments.length==3?i(a,c,j):i(a,c)};i=function(a){var c=b._find(arguments);if(c!=-1){for(var j=(a.document||a).parentWindow||window,l=0;l<c.length;l++){var r=c[l],u=a._handlers[r],x=j._allHandlers[u];a.detachEvent("on"+x.eventType,x.wrappedEvent);a._handlers[r]=null;a._handlers.splice(r,
1);delete j._allHandlers[u]}if(a._handlers&&a._handlers.length==0)a._handlers=null}};b._find=function(a){var c=a[0],j=a[1],l=a[2],r=c._handlers;if(!r)return-1;c=(c.document||c).parentWindow||window;var u=[];if(a.length===3)for(a=r.length-1;a>=0;a--){var x=r[a];x=c._allHandlers[x];if(x.eventType==j&&x.handler==l){u.push(a);return u}}else if(a.length===2){for(a=r.length-1;a>=0;a--){x=r[a];x=c._allHandlers[x];x.eventType==j&&u.push(a)}if(u.length>0)return u}else if(a.length===1){for(a=r.length-1;a>=
0;a--)u.push(a);if(u.length>0)return u}return-1};b._removeAllEvents=function(){for(var a in this._allHandlers){var c=this._allHandlers[a];c.element.detachEvent("on"+c.eventType,c.wrappedEvent);c.element._handlers=null;delete this._allHandlers[a]}};b._counter=0;b._uid=function(){return"h"+b._counter++}}else if(document.addEventListener){k=function(a,c,j,l){d["on"+c]?d["on"+c](a,c,j,l):m(a,c,j)};m=function(a,c,j){var l=false;a||e.out("targetModel undefined:"+c+j);if(!a._eventTypes)a._eventTypes={};
a._eventTypes[c]||(a._eventTypes[c]=[]);a.addEventListener(c,j,false);a=a._eventTypes[c];for(c=0;c<a.length;c++)if(a[c]==j){l=true;break}l||a.push(j)};g=function(a,c,j){if(d["off"+c])d["off"+c](a,c,j);else arguments.length==3?i(a,c,j):i(a,c)};i=function(a,c,j){if(c)if(arguments.length==3){if(j){a.removeEventListener(c,j,false);if(a._eventTypes&&a._eventTypes[c])for(var l=a._eventTypes[c],r=0;r<l.length;r++)if(l[r]===j){l[r]=null;l.splice(r,1);break}}}else{if(a._eventTypes&&a._eventTypes[c]){l=a._eventTypes[c];
for(r=0;r<l.length;r++)a.removeEventListener(c,l[r],false);a._eventTypes[c]=[]}}else if(a._eventTypes){var u=a._eventTypes,x;for(x in u){l=a._eventTypes[x];for(r=0;r<l.length;r++)a.removeEventListener(x,l[r],false)}}}}d={ondrag:function(a,c,j){var l,r,u=false,x=function(C){if(!(!e.browser.mobileSafari&&C.button!==0)){if(e.browser.mobileSafari){C.stopPropagation();C=C.touches[0];l=C.pageX;r=C.pageY}else{C.stopPropagation();C.preventDefault();l=C.clientX;r=C.clientY}u=false;if(e.browser.mobileSafari){b.addEventListener(document,
"touchmove",w);b.addEventListener(a,"touchend",E)}else b.addEventListener(document,"mousemove",w)}},w=function(C){if(!(!e.browser.mobileSafari&&C.button!==0)){var K,G;C.stopPropagation();if(e.browser.mobileSafari){G=C.changedTouches[0];K=G.pageX;G=G.pageY}else{K=C.clientX;G=C.clientY}if(Math.abs(l-K)+Math.abs(r-G)>2){if(e.browser.mobileSafari){b.removeEventListener(document,"touchmove",w);b.removeEventListener(a,"touchend",E)}else b.removeEventListener(document,"mousemove",w);if(!u){j.call(a,C);u=
true}}}},E=function(C){if(!(!e.browser.mobileSafari&&C.button!==0))if(e.browser.mobileSafari){b.removeEventListener(document,"touchmove",w);if(u){C.stopPropagation();C.preventDefault()}}else b.removeEventListener(document,"mousemove",w)};if(e.browser.mobileSafari)b.addEventListener(a,"touchstart",x);else{b.addEventListener(a,"mousedown",x);b.addEventListener(a,"mouseup",E)}f.push({element:a,eventType:c,handler:j,actions:[x,E]})},offdrag:function(a,c,j){for(var l in f)if(f[l].handler==j&&f[l].element==
a&&f[l].eventType==c){if(e.browser.mobileSafari){b.removeEventListener(a,"touchstart",f[l].actions[0]);b.removeEventListener(a,"touchend",f[l].actions[1])}else{b.removeEventListener(a,"mousedown",f[l].actions[0]);b.removeEventListener(a,"mouseup",f[l].actions[1])}f.splice(l,1);break}},oncustomclick:function(a,c,j,l){var r,u,x=false,w=false,E;l=l?l:{};var C=l.longtouchable,K=-1;l=function(t){x=false;if(!(!e.browser.mobileSafari&&t.button!==0)){var v;if(e.browser.mobileSafari){v=t.changedTouches[0];
r=v.pageX;u=v.pageY}else{r=t.clientX;u=t.clientY}w=false;if(C)E=setTimeout(function(){if(!(x||w)){if(e.browser.mobileSafari){b.removeEventListener(a,"touchmove",z);b.removeOriginalEventListener(a,"touchend",p)}else{b.removeEventListener(a,"mousemove",z);b.removeOriginalEventListener(a,"click",p)}j.call(a,t,2E3)}},1E3);if(e.browser.mobileSafari){b.addEventListener(a,"touchmove",z);b.addOriginalEventListener(a,"touchend",p)}else{b.addEventListener(a,"mousemove",z);b.addOriginalEventListener(a,"click",
p)}}};var G=function(t){K=t.button;if(!(!e.browser.mobileSafari&&t.button!==0))if(e.browser.mobileSafari)touch=t.changedTouches[0]},z=function(t){if(e.browser.mobileSafari){touch=t.changedTouches[0];var v=touch.pageX;t=touch.pageY}else{v=t.clientX;t=t.clientY}if(x=Math.abs(r-v)+Math.abs(u-t)>1){clearTimeout(E);E=null;if(e.browser.mobileSafari){b.removeEventListener(a,"touchmove",z);b.removeOriginalEventListener(a,"touchend",p)}else{b.removeEventListener(a,"mousemove",z);b.removeOriginalEventListener(a,
"click",p)}}},p=function(t){clearTimeout(E);E=null;w=true;if(!(!e.browser.mobileSafari&&K!==0)){var v;if(e.browser.mobileSafari){v=t.changedTouches[0];var D=v.pageX;v=v.pageY}else{D=t.clientX;v=t.clientY}if(Math.abs(r-D)+Math.abs(u-v)<1){x=false;j.call(a,t,0)}}};if(e.browser.mobileSafari)b.addEventListener(a,"touchstart",l);else{b.addEventListener(a,"mousedown",l);b.addEventListener(a,"mouseup",G)}f.push({element:a,eventType:c,handler:j,actions:[l,z,G,p]})},offcustomclick:function(a,c,j){for(var l in f)if(f[l].handler==
j&&f[l].element==a&&f[l].eventType==c){if(e.browser.mobileSafari){b.removeEventListener(a,"touchstart",f[l].actions[0]);b.removeEventListener(a,"touchmove",f[l].actions[1]);b.removeOriginalEventListener(a,"touchend",f[l].actions[3])}else{b.removeEventListener(a,"mousedown",f[l].actions[0]);b.removeEventListener(a,"mousemove",f[l].actions[1]);b.removeEventListener(a,"mouseup",f[l].actions[2]);b.removeOriginalEventListener(a,"click",f[l].actions[3])}f.splice(l,1);break}},oncontextmenu:function(a,c,
j){if(e.browser.ie==9){var l=function(r){r=o(r,a);j.call(a,r)};a.attachEvent("oncontextmenu",l);f.push({element:a,eventType:c,handler:j,actions:[l]})}else b.addOriginalEventListener(a,c,j)},offcontextmenu:function(a,c,j){if(e.browser.ie==9)for(var l in f){if(f[l].handler==j&&f[l].element==a&&f[l].eventType==c){a.detachEvent("oncontextmenu",f[l].actions[0]);f.splice(l,1);break}}else b.removeOriginalEventListener(a,c,j)},onmousewheel:function(a,c,j){if(e.browser.firefox){var l=function(r){r.wheelDelta=
-40*r.detail;j.call(a,r)};b.addOriginalEventListener(a,"DOMMouseScroll",l);f.push({element:a,eventType:c,handler:j,actions:[l]})}else b.addOriginalEventListener(a,"mousewheel",j)},offmousewheel:function(a,c,j){if(e.browser.firefox)for(var l in f){if(f[l].handler==j&&f[l].element==a&&f[l].eventType==c){b.removeOriginalEventListener(a,"DOMMouseScroll",f[l].actions[0]);f.splice(l,1);break}}else b.removeOriginalEventListener(a,"mousewheel",j)},onmouseenter:function(a,c,j){var l=function(r){var u=r.relatedTarget;
if(u)if(this.compareDocumentPosition){var x=this.compareDocumentPosition(u);u==this||x==20||x==0||j.call(this,r)}else u==this||this.contains(u)||j.call(this,r);else j.call(this,r)};b.addEventListener(a,"mouseover",l);f.push({element:a,eventType:c,handler:j,actions:[l]})},offmouseenter:function(a,c,j){for(var l in f)if(f[l].handler==j&&f[l].element==a&&f[l].eventType==c){b.removeEventListener(a,"mouseover",f[l].actions[0]);f.splice(l,1);break}},onmouseleave:function(a,c,j){var l=function(r){var u=
r.relatedTarget;if(u)if(this.compareDocumentPosition){u=this.compareDocumentPosition(u);u==20||u==0||j.call(this,r)}else this.contains(u)||j.call(this,r);else j.call(this,r)};b.addEventListener(a,"mouseout",l);f.push({element:a,eventType:c,handler:j,actions:[l]})},offmouseleave:function(a,c,j){for(var l in f)if(f[l].handler==j&&f[l].element==a&&f[l].eventType==c){b.removeEventListener(a,"mouseout",f[l].actions[0]);f.splice(l,1);break}},oninput:function(a,c,j){if(e.browser.ie){var l=function(r){if(r.propertyName.toLowerCase()==
"value"){r=o(r,a);j.call(a,r)}};a.attachEvent("onpropertychange",l);f.push({element:a,eventType:c,handler:j,actions:[l]});e.browser.ie==9&&b.addOriginalEventListener(a,"change",j)}else b.addOriginalEventListener(a,"input",j)},offinput:function(a,c,j){if(e.browser.ie){for(var l in f)if(f[l].handler==j&&f[l].element==a&&f[l].eventType==c){a.detachEvent("onpropertychange",f[l].actions[0]);f.splice(l,1);break}e.browser.ie==9&&b.removeOriginalEventListener(a,"change",j)}else b.removeOriginalEventListener(a,
"input",j)}};h=function(a){if(h.done)return a();if(h.timer)h.ready.push(a);else{h.ready=[a];b.on(window,"load",q);h.timer=window.setInterval(q,300)}};q=function(){if(h.done)return true;if(document&&document.getElementsByTagName&&document.getElementById&&document.body){h.done=true;window.clearInterval(h.timer);h.timer=null;for(var a=0;a<h.ready.length;a++)h.ready[a]();h.ready=null;return true}};n=function(){this.subscribers=[]};n.prototype.subscribe=function(a){e.array.some(this.subscribers,function(c){return c===
a})||this.subscribers.push(a);return a};n.prototype.deliver=function(a){e.array.forEach(this.subscribers,function(c){c(a)})};n.prototype.unsubscribe=function(a){this.subscribers=e.array.filter(this.subscribers,function(c){return c!==a});return a};s=function(a,c,j){var l,r;if(j){c="on"+c;if(!a._$events)a._$events={};if(a._$events[c]){if(a._$events[c].length==0)a._$events[c]=[]}else a._$events[c]=[];a=a._$events[c];c=a.length;l=-1;for(r=0;r<c;r++)if(a[r]==j){l=r;break}l===-1&&a.push(j)}else e.out(">>> \u6dfb\u52a0\u7684\u89c2\u5bdf\u8005\u65b9\u6cd5\u4e0d\u5b58\u5728\uff1a"+
a+c+j)};b.addEventListener=k;b.removeEventListener=g;b.addOriginalEventListener=m;b.removeOriginalEventListener=i;b.on=b.addEventListener;b.off=b.removeEventListener;b.onDomReady=h;b.Publish=n;b.addObserver=s;b.addObservers=function(a){var c=a.targetModel;a=a.eventMapping;for(var j in a)s(c,j,a[j])};b.notifyObservers=function(a,c,j){var l;c="on"+c;var r=true;if(a._$events&&a._$events[c]){c=a._$events[c];if(c.length>0)for(l=0;l<c.length;l++)if(c[l].apply(a,[j])===false)r=false}return r};b.removeObserver=
function(a,c,j){var l,r=false,u,x=a._$events;if(j){if(x){c="on"+c;if(a=x[c]){u=a.length;for(l=0;l<u;l++)if(a[l]==j){a[l]=null;a.splice(l,1);r=true;break}}}}else if(c){if(x){c="on"+c;if(a=x[c]){u=a.length;for(l=0;l<u;l++)a[l]=null;delete x[c];r=true}}}else if(a)if(x){for(l in x)delete x[l];delete a._$events;r=true}return r}});
Jx().$package(function(e){var b=e.dom.id,k=e.dom,m=e.event,g;if(typeof window.XMLHttpRequest==="undefined")window.XMLHttpRequest=function(){return new window.ActiveXObject(navigator.userAgent.indexOf("MSIE 5")>=0?"Microsoft.XMLHTTP":"Msxml2.XMLHTTP")};e.http=e.http||{};g=function(f,h,q){var n,s,o,a,c=document.getElementsByTagName("head")?document.getElementsByTagName("head")[0]:document.documentElement,j,l=false,r=false;q=q||{};var u=q.isDefer||false;s=q.query||null;arguments=q.arguments||null;var x=
q.onSuccess||function(){},w=q.onError||function(){},E=q.onComplete||function(){},C,K=q.onTimeout||function(){},G=q.timeout,z=q.charset?q.charset:"utf-8",p=q.win||window,t;h=h||"";if(s!==null)h=h+"?"+s;a=g.Id++;C=function(v){(v=b("jet_load_"+v))&&c.removeChild(v)};s=function(v,D,J){return k.node("link",{id:"jet_load_"+a,type:"text/css",charset:J||"utf-8",rel:"stylesheet",href:v},D)};o=function(v,D,J,N){v=k.node("script",{id:"jet_load_"+a,type:"text/javascript",charset:J||"utf-8",src:v},D);N&&v.setAttribute("defer",
"defer");return v};if(f==="script")n=q.node||o(h,p,z,u);else if(f==="css")n=q.node||s(h,p,z);if(e.browser.engine.trident&&parseInt(e.browser.ie)<9)n.onreadystatechange=function(){var v=this.readyState;if(v==="loaded"||v==="complete"){n.onreadystatechange=null;if(!l){r=true;window.clearTimeout(j);j=null;t={};t.id=a;t.uri=h;t.arguments=arguments;x(t);E(t)}}};else if(e.browser.engine.webkit)m.on(n,"load",function(){var v;if(!l){r=true;window.clearTimeout(j);j=null;v={};v.id=a;v.uri=h;v.arguments=arguments;
x(v);E(v);f==="script"&&C(a)}});else{n.onload=function(){var v;if(!l){r=true;window.clearTimeout(j);j=null;v={};v.id=a;v.uri=h;v.arguments=q.arguments;x(v);E(v);f==="script"&&C(a)}};n.onerror=function(v){var D;if(!l){r=true;window.clearTimeout(j);j=null;D={};D.id=a;D.uri=h;D.arguments=arguments;D.error=v;w(D);E(D);C(a)}}}if(q.node)if(f==="script")n.src=h;else{if(f==="css")n.href=h}else c.appendChild(n);if(f==="script")if(G)j=window.setTimeout(function(){var v;if(!r){l=true;v={};v.uri=h;v.arguments=
arguments;K(v);E(v);C(a)}},G);u=function(v){this._node=v;this._head=c};u.prototype={abort:function(){this._node.src="";this._head.removeChild(this._node);delete this._node}};return new u(n)};g.Id=0;var i,d={_iframes:[],_tick:0,_select:function(){this._tick++;return this._iframes[(this._tick-1)%this._len]},init:function(f){if(this._isInit!=true){this._len=f;for(var h=document.body,q=0;q<f;q++){i=k.node("div",{"class":"RPCService_hDiv"});k.hide(i);i.innerHTML='<iframe id="RPCService_hIframe_'+q+'" name="RPCService_hIframe_'+
q+'" src="'+alloy.CONST.MAIN_URL+'domain.html"></iframe>';h.appendChild(i);this._iframes[q]=[i,null,"RPCService_hIframe_"+q]}this._isInit=true}},take:function(f){var h=this._select();h[1]&&h[0].removeChild(h[1]);f.setAttribute("target",h[2]);h[1]=f;h[0].appendChild(f)}};e.http.ajax=function(f,h){var q,n,s,o=false,a=false;h={method:h.method||"GET",data:h.data||null,arguments:h.arguments||null,onSuccess:h.onSuccess||function(){},onError:h.onError||function(){},onComplete:h.onComplete||function(){},
onTimeout:h.onTimeout||function(){},isAsync:h.isAsync||true,timeout:h.timeout?h.timeout:3E4,contentType:h.contentType?h.contentType:"utf-8",type:h.type||"xml"};f=f||"";s=h.timeout;q=new window.XMLHttpRequest;q.open(h.method,f,h.isAsync);q.setRequestHeader("Content-Type",h.contentType);n=function(c){try{return!c.status&&location.protocol=="file:"||c.status>=200&&c.status<300||c.status==304||navigator.userAgent.indexOf("Safari")>-1&&typeof c.status=="undefined"}catch(j){}return false};q.onreadystatechange=
function(){if(q.readyState==4){if(!o){var c={};c.responseText=q.responseText;c.responseXML=q.responseXML;c.data=h.data;c.status=q.status;c.uri=f;c.arguments=h.arguments;if(n(q)){h.type==="script"&&eval.call(window,data);h.onSuccess(c)}else h.onError(c);h.onComplete(c)}a=true;q=null}};q.send(h.data);window.setTimeout(function(){var c;if(!a){o=true;c={};c.uri=f;c.arguments=h.arguments;h.onTimeout(c);h.onComplete(c)}},s);return q};e.http.comet=function(f,h){f=f||"";h={method:h.method||"GET",data:h.data||
null,arguments:h.arguments||null,callback:h.callback||function(){},onLoad:h.onLoad||function(){},contentType:h.contentType?h.contentType:"utf-8"};var q;if(e.browser.ie){q=new ActiveXObject("htmlfile");q.open();q.close();var n=q.createElement("div");q.appendChild(n);q.parentWindow._parent=self;n.innerHTML='<iframe id="_cometIframe" src="'+f+"?callback=window.parent._parent."+h.callback+'"></iframe>';q=q.getElementById("_cometIframe")}else{q=k.node("iframe");q.setAttribute("id","_cometIframe");q.setAttribute("src",
f+"?callback=window.parent._parent."+h.callback);q.style.position="absolute";q.style.visibility="hidden";q.style.left=q.style.top="-999px";q.style.width=q.style.height="1px";document.body.appendChild(q);self._parent=self}m.on(q,"load",h.onLoad);return q};e.http.load=g;e.http.loadCss=function(f,h){return g("css",f,h)};e.http.loadScript=function(f,h){return g("script",f,h)};e.http.formSend=function(f,h){d.init(2);var q={method:h.method||"GET",enctype:h.enctype||"",data:h.data||{},onSuccess:h.onSuccess||
function(){},onError:h.onError||function(){},onComplete:h.onComplete||function(){},onTimeout:h.onTimeout||function(){},timeout:h.timeout?h.timeout:1E4},n=k.node("form",{"class":"RPCService_form",method:q.method,action:f+"?t="+(new Date).getTime(),enctype:q.enctype});if(Object.prototype.toString.call(q.data).indexOf("String")>-1){var s=k.node("input");s.type="text";s.name=q.data;n.appendChild(s)}else for(var o in q.data){s=k.node("input");s.type="text";s.name=o;s.setAttribute("value",q.data[o]);n.appendChild(s)}d.take(n);
n.submit()}});
Jx().$package(function(e){e.string=e.string||{};var b=e.string,k,m,g,i,d,f,h,q,n,s,o={};k=function(a,c){var j=!/\W/.test(a)?o[a]=o[a]||k(document.getElementById(a).innerHTML):new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+a.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');");return c?j(c):
j};m=function(a){return m.RE.test(a)};m.RE=/^(?:ht|f)tp(?:s)?\:\/\/(?:[\w\-\.]+)\.\w+/i;g=function(a){var c=null;if(null!==(c=g.RE.exec(a))){a={};for(var j=0,l=g.SPEC.length;j<l;j++)a[g.SPEC[j]]=c[j+1];c=a}return c};g.SPEC=["scheme","user","pass","host","port","path","query","fragment"];g.RE=/^([^:]+):\/\/(?:([^:@]+):?([^@]*)@)?(?:([^/?#:]+):?(\d*))([^?#]*)(?:\?([^#]+))?(?:#(.+))?$/;i=function(a){return String(a).replace(/^\s+|\s+$/g,"")};d=function(a,c){return encodeURIComponent(String(a))+"="+encodeURIComponent(String(c))};
f=function(a,c){c=c||2;return a.replace(/[^\x00-\xff]/g,{2:"aa",3:"aaa"}[c]).length};h=function(a,c){return a.substring(0,a.length-c)};q=function(a){return a.replace(/[&'"<>\/\\\-\x00-\x09\x0b-\x0c\x1f\x80-\xff]/g,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/ /g,"&nbsp;").replace(/\r\n/g,"<br />").replace(/\n/g,"<br />").replace(/\r/g,"<br />")};n=function(a){return escape(a).replace(/\+/g,"%2B")};s=function(a,c){var j=document.createElement("div");j.style.visibility="hidden";j.style.width=
"auto";if(c)j.style.fontSize=c+"px";j.style.position="absolute";j.innerHTML=e.string.encodeHtmlSimple(a);document.body.appendChild(j);var l=j.offsetWidth;document.body.removeChild(j);return l};b.cutByWidth=function(a,c,j){for(var l=a.length;l>=0;--l){a=a.substring(0,l);if(s(a,c)<j)return a}return""};b.toString=function(a){return a+""};b.template=k;b.isURL=m;b.parseURL=g;b.buildURL=function(a){for(var c="",j={},l={},r=0,u=g.SPEC.length;r<u;r++){var x=g.SPEC[r];if(a[x]){switch(x){case "scheme":l[x]=
"://";break;case "pass":j[x]=":";case "user":j.host="@";break;case "port":j[x]=":";break;case "query":j[x]="?";break;case "fragment":j[x]="#"}if(x in j)c+=j[x];if(x in a)c+=a[x];if(x in l)c+=l[x]}}return c};b.mapQuery=function(a){var c,j;a=a||window.location.href;var l=a.indexOf("?"),r=a.substring(l+1).split("&"),u={};if(l===-1)return u;for(a=0;a<r.length;a++)try{l=r[a].indexOf("=");c=r[a].substring(0,l);j=r[a].substring(l+1);if(!(u[c]=unescape(j)))throw Error("uri has wrong query string when run mapQuery.");
}catch(x){}return u};b.test=function(a,c,j){return(typeof c=="string"?RegExp(c,j):c).test(a)};b.contains=function(a,c,j){return j?(j+a+j).indexOf(j+c+j)>-1:a.indexOf(c)>-1};b.trim=i;b.clean=function(a){return i(a.replace(/\s+/g," "))};b.camelCase=function(a){return a.replace(/-\D/g,function(c){return c.charAt(1).toUpperCase()})};b.hyphenate=function(a){return a.replace(/[A-Z]/g,function(c){return"-"+c.charAt(0).toLowerCase()})};b.capitalize=function(a){return a.replace(/\b[a-z]/g,function(c){return c.toUpperCase()})};
b.escapeRegExp=function(a){return a.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")};b.toInt=function(a,c){return parseInt(a,c||10)};b.toFloat=function(a){return parseFloat(a)};b.toSingleLine=function(a){return String(a).replace(/\r/gi,"").replace(/\n/gi,"")};b.toHtml=function(a){return String(a).replace(/&/gi,"&amp;").replace(/\\/gi,"&#92;").replace(/\'/gi,"&#39;").replace(/\"/gi,"&quot;").replace(/</gi,"&lt;").replace(/>/gi,"&gt;").replace(/ /gi,"&nbsp;").replace(/\r\n/g,"<br />").replace(/\n\r/g,"<br />").replace(/\n/g,
"<br />").replace(/\r/g,"<br />")};b.toTitle=function(a){return String(a).replace(/\\/gi,"\\").replace(/\'/gi,"'").replace(/\"/gi,"'")};b.toQueryPair=d;b.toQueryString=function(a){var c=[],j;for(j in a)c.push(d(j,a[j]));return c.join("&")};b.hexToRgb=function(a,c){var j=a.match(/^#?(\w{1,2})(\w{1,2})(\w{1,2})$/);return j?j.slice(1).hexToRgb(c):null};b.rgbToHex=function(a,c){var j=a.match(/\d{1,3}/g);return j?j.rgbToHex(c):null};b.stripScripts=function(a,c){var j="",l=a.replace(/<script[^>]*>([\s\S]*?)<\/script>/gi,
function(r,u){j+=u+"\n";return""});if(c===true)$exec(j);else $type(c)=="function"&&c(j,l);return l};b.substitute=function(a,c,j){return a.replace(j||/\\?\{([^{}]+)\}/g,function(l,r){if(l.charAt(0)=="\\")return l.slice(1);return c[r]!=undefined?c[r]:""})};b.replaceAll=function(a,c,j,l){return RegExp.prototype.isPrototypeOf(c)?a.replace(c,j):a.replace(RegExp(c,l?"gi":"g"),j)};b.byteLength=f;b.cutRight=h;b.isNumber=function(a){return a.search(/^\d+$/)!==-1?true:false};b.isEmail=function(a){return a.search(/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/)!==
-1?true:false};b.cutByBytes=function(a,c){for(var j=a;f(j)>c;)j=h(j,1);return j};b.encodeHtmlSimple=function(a){a=a.replace(/&/g,"&amp;");a=a.replace(/>/g,"&gt;");a=a.replace(/</g,"&lt;");a=a.replace(/"/g,"&quot;");return a=a.replace(/'/g,"&#39;")};b.decodeHtmlSimple=function(a){a=a.replace(/&amp;/g,"&");a=a.replace(/&gt;/g,">");a=a.replace(/&lt;/g,"<");a=a.replace(/&quot;/g,'"');return a=a.replace(/&#39;/g,"'")};b.decodeHtmlSimple2=function(a){a=a.replace(/&amp;/g,"&");a=a.replace(/&gt;/g,">");a=
a.replace(/&lt;/g,"<");a=a.replace(/\\\\"/g,'"');return a=a.replace(/\\\\'/g,"'")};b.encodeHtmlAttributeSimple=function(a){a=a.replace(/&/g,"&amp;");a=a.replace(/>/g,"&gt;");a=a.replace(/</g,"&lt;");a=a.replace(/"/g,"&quot;");a=a.replace(/'/g,"&#39;");a=a.replace(/=/g,"&#61;");return a=a.replace(/`/g,"&#96;")};b.encodeHtmlAttribute=function(a){return a.replace(/[&'"<>\/\\\-\x00-\x1f\x80-\xff]/g,function(c){return"&#"+c.charCodeAt(0)+";"})};b.encodeHtml=q;b.encodeScript=function(a){a+="";return a.replace(/[\\"']/g,
function(c){return"\\"+c}).replace(/%/g,"\\x25").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\x01/g,"\\x01")};b.encodeHrefScript=function(a){return q(n(escScript(a)))};b.encodeRegExp=function(a){return a.replace(/[\\\^\$\*\+\?\{\}\.\(\)\[\]]/g,function(c){return"\\"+c})};b.encodeUrl=n;b.encodeUriComponent=function(a){a=encodeURIComponent(a);a=a.replace(/~/g,"%7E");a=a.replace(/!/g,"%21");a=a.replace(/\*/g,"%2A");a=a.replace(/\(/g,"%28");a=a.replace(/\)/g,"%29");a=a.replace(/'/g,"%27");a=a.replace(/\?/g,
"%3F");return a=a.replace(/;/g,"%3B")};b.vaildTencentUrl=function(a){return/^(https?:\/\/)?[\w\-.]+\.(qq|paipai|soso|taotao)\.com($|\/|\\)/i.test(a)||/^[\w][\w\/\.\-_%]+$/i.test(a)||/^[\/\\][^\/\\]/i.test(a)?true:false};b.vaildUrl=function(a){a=encodeURI(a).replace(/(^\s*)|(\s*$)/g,"");var c=/(^[a-zA-Z0-9]+[^.]):/,j=/^[\S.]+\.[\S.]+$/,l=/[\w.]+\/(\S*)/,r=/^[\s*]*javascript[\s*]*:/;if(!c.test(a)&&!j.test(a))a="";else{c.test(a)||(a="http://"+a);l.test(a)||(a+="/");if(r.test(a))a=""}return a};b.getCharWidth=
s});
Jx().$package(function(e){var b=e.dom.id,k=e.dom,m=e.event,g=e.string,i=e.http,d=this,f=e.string.mapQuery(window.location.search),h=window.open;window.open=function(n,s,o,a){if(s==undefined)s="_blank";if(o==undefined)o="";if(a==undefined)a=false;if(!h(n,s,o,a)){e.out("\u4f60\u7684\u673a\u5668\u4e0a\u6709\u8f6f\u4ef6\u62e6\u622a\u4e86\u5f39\u51fa\u7a97\u53e3");return false}return true};var q=new e.Class({_defaultType:3,_defaultTag:"information",_defaultTemplate:"<%=msg%>(<%=type%>#<%=tag%>@<%=time%>)",TYPE:["PROFILE",
"WARNING","ERROR","INFO","DEBUG"],init:function(n){this.msg=n.msg||"";this.tag=n.tag||this._defaultTag;this.type=e.isUndefined(n.type)?this._defaultType:n.type;this.time=(new Date).valueOf();this._template=n.template||this._defaultTemplate},format:function(n,s,o){o=o||this._template;return s?g.encodeHtml(g.template(o,n)):g.template(o,n)},parseOption:function(){return{msg:this.msg,time:this.time,type:this.TYPE[this.type],tag:this.tag}},toString:function(n,s){return this.format(this.parseOption(),n,
s||this._template)}});e.config={debugLevel:1};e.console={};e.Report={receive:e.emptyFunc,addRule:e.emptyFunc};e.extend(e.console,{_isCreated:false,_maxLength:1E3,_html:'<div id="ConsoleBoxHead" class="consoleBoxHead">\t\t\t\t\t\t<a href="###" id="ConsoleCloseButton" class="consoleCloseButton" title="\u5173\u95ed">X</a>\t\t\t\t\t\t<a href="###" id="ConsoleClearButton" class="consoleCloseButton" title="\u6e05\u9664\u6240\u6709\u65e5\u5fd7">cls</a>\t\t\t\t\t\t<a href="###" id="ConsoleRefreshButton" class="consoleCloseButton" title="\u8fd8\u539f\u6240\u6709\u65e5\u5fd7">r</a>\t\t\t\t\t\t<a href="###" id="ConsoleHelpButton" class="consoleCloseButton" title="\u63a7\u5236\u53f0\u5e2e\u52a9">H</a>\t\t\t\t\t\t<h5 class="title" title="\u63a7\u5236\u53f0">Console</h5>\t\t\t\t\t</div>\t\t\t\t\t<div id="consoleMain" class="consoleMain">\t\t\t\t\t\t<ul id="ConsoleOutput" class="consoleOutput"></ul>\t\t\t\t\t</div>\t\t\t\t\t<div class="consoleInputBox">\t\t\t\t\t\t&gt;<input id="ConsoleInput" class="consoleInput" title="\u8bf7\u8f93\u5165\u63a7\u5236\u53f0\u6307\u4ee4\u6216\u8005Javascript\u8bed\u53e5..." />\t\t\t\t\t</div>',
_opened:false,_log_record:[],_cmd_history:[],_cmd_last_index:0,isCustomConsole:true,_templateArr:["<%=msg%>","<%=msg%>(<%=type%>#<%=tag%>@<%=time%>)"],_templateType:0,_typeInfo:[["log_profile_type","\u2514"],["log_warning_type","!"],["log_error_type","x"],["log_info_type","i"],["log_debug_type","\u221a"]],TYPE:{PROFILE:0,WARNING:1,ERROR:2,INFO:3,DEBUG:4},show:function(){this._isCreated||this._create();this._opened=true;this._main.style.display="block";this.render();window.setTimeout(e.bind(this.focusCommandLine,
this),0)},hide:function(n){n&&n.preventDefault();this.clear();e.console._main.style.display="none";e.console._opened=false},enable:function(){e.option.console=true;this.show()},disable:function(){e.option.console=false;this.hide()},_init:function(){m.on(document,"keydown",e.bind(this.handleDocumentKeydown,this));e.option.console&&this.show();this.setToDebug()},_create:function(){i.loadCss(e.path+"style/jet.css");this._main=document.createElement("div");this._main.id="JxConsole";this._main.style.display=
"none";this._main.className="consoleBox";this._main.innerHTML=this._html;window.document.body.appendChild(this._main);var n=k.getClientWidth(),s=k.getClientHeight();n=n-210-300;k.setStyle(this._main,"top",s-50-310+"px");k.setStyle(this._main,"left",n+"px");this._headEl=b("ConsoleBoxHead");this._inputEl=b("ConsoleInput");this._closeButtonEl=b("ConsoleCloseButton");this._clsButtonEl=b("ConsoleClearButton");this._refreshButtonEl=b("ConsoleRefreshButton");this._helpButtonEl=b("ConsoleHelpButton");this._outputEl=
b("ConsoleOutput");this._consoleMainEl=b("consoleMain");e.ui&&e.ui.Drag&&new e.ui.Drag(this._headEl,this._main);m.on(this._inputEl,"keyup",e.bind(this.onInputKeyup,this));m.on(this._clsButtonEl,"click",e.bind(this.clear,this));m.on(this._refreshButtonEl,"click",e.bind(this.refresh,this));m.on(this._helpButtonEl,"click",e.bind(this.help,this));m.on(this._closeButtonEl,"click",e.bind(this.hide,this));s={hScrollbar:true,vScrollbar:true,checkDOMChanges:false,desktopCompatibility:true};if(e.browser.mobileSafari)if(e.ui&&
e.ui.iScroll&&!this.consoleScroller){this.consoleScroller=new e.ui.iScroll(this._outputEl,s);e.debug("!!!!2","console")}this._isCreated=true},handleDocumentKeydown:function(n){switch(n.keyCode){case 192:if(n.ctrlKey&&n.shiftKey){this.toggleShow();n.preventDefault()}}},focusCommandLine:function(){this._inputEl.focus()},toggleShow:function(){this._opened?this.hide():this.show()},outConsoleShow:function(n,s){this.outConsole(n,s);!this._opened&&e.option.console&&this.show()},outConsole:function(n){if(this._opened){var s=
document.createElement("li");this._outputEl.appendChild(s);var o=e.console._typeInfo[n.type]||e.console._typeInfo[0],a=this._templateArr[this._templateType];s.className=o[0];s.innerHTML='<div class="log_icon" title="'+o[0]+'">'+o[1]+'</div><div class="log_text">'+n.toString(true,a)+"</div>";this.consoleScroller&&this.consoleScroller.refresh();this._consoleMainEl.scrollTop=this._consoleMainEl.scrollHeight}},print:function(n){var s=document.createElement("li");this._outputEl.appendChild(s);s.innerHTML=
n;this._consoleMainEl.scrollTop=this._consoleMainEl.scrollHeight},out:function(n,s,o){var a=this._templateArr[this._templateType];n=new q({msg:n,tag:s,type:o});this.logRecord(n);if(f&&f.consolefilter){if(n.tag==f.consolefilter)this.isCustomConsole?this.outConsole(n):d.console.log(n.toString(false,a))}else this.isCustomConsole?this.outConsole(n):d.console.log(n.toString(false,a))},profile:function(n,s){s=s||"system";this.out(n,s,0)},warn:function(n,s){this.out(n,s,1)},error:function(n,s){this.out(n,
s,2)},info:function(n,s){this.out(n,s,3)},debug:function(n,s){this.out(n,s,4)},setToDebug:function(){this.isCustomConsole=f.console&&f.console=="firebug"?false:true},setToNoDebug:function(){this.out=e.emptyFunc},logRecord:function(n){this._log_record.push(n);f.console||this._log_record.length>this._maxLength&&this._log_record.shift()},setTemplate:function(n){if(this._templateArr[n])this._templateType=n},filter:function(n){var s=RegExp(n,"i"),o=[];e.array.forEach(this._log_record,function(a){var c=
a.toString(true);s.test(c)&&o.push(a)});return o},filterByType:function(n,s){var o=[];n=n||[];e.array.forEach(n,function(a){var c=false;e.array.forEach(s,function(j){if(a.type==j)c=true});c&&o.push(a)});return o},filterByTag:function(n,s){var o=[];n=n||[];e.array.forEach(n,function(a){var c=false;e.array.forEach(s,function(j){if(a.tag==j)c=true});c&&o.push(a)});return o},filterByMsg:function(n,s){var o=[];n=n||[];e.array.forEach(n,function(a){var c=false;e.array.forEach(s,function(j){if(a.msg.indexOf(j)>
-1)c=true});c&&o.push(a)});return o},getReport:function(n,s,o){var a=[],c=this._log_record,j=this;if(!n||n=="")n=false;else e.isArray(n)||(n=[n]);if(!s||s=="")s=false;else e.isArray(s)||(s=[s]);if(!o||o=="")o=false;else e.isArray(o)||(o=[o]);if(n)c=this.filterByType(c,n);if(s)c=this.filterByTag(c,s);if(o)c=this.filterByMsg(c,o);e.array.forEach(c,function(l){a.push(l.toString(false,j._templateArr[1]))});return a.join(",")},render:function(n,s){n=n||this._log_record;s||(n=n.slice(-15));var o=this;o.clear();
e.array.forEach(n,function(a){o.outConsole(a)})},clear:function(n){n&&n.preventDefault();e.console._outputEl.innerHTML=""},refresh:function(n){n&&n.preventDefault();this.clear();this.render()},help:function(n){n&&n.preventDefault();this.print("&lt;&lt; Console Help &gt;&gt;<br/>\t\t\t\t\t\t\t\thelp|h  : \u63a7\u5236\u53f0\u5e2e\u52a9<br/>\t\t\t\t\t\t\t\tclear|cls : \u6e05\u7a7a\u63a7\u5236\u53f0\u8f93\u51fa<br/>\t\t\t\t\t\t\t\trefresh|r : \u5237\u65b0\u63a7\u5236\u53f0\u8f93\u51fa<br/>\t\t\t\t\t\t\t\tfilter|f : \u8fc7\u6ee4\u63a7\u5236\u53f0\u8f93\u51fa<br/>\t\t\t\t\t\t\t\tsetTemplate|s : \u8bbe\u7f6e\u8f93\u51fa\u6a21\u7248\u7c7b\u578b<br/>\t\t\t\t\t\t\t\thide  : \u9690\u85cf\u63a7\u5236\u53f0\uff0c\u6216\u8005\u4f7f\u7528 Ctrl+Shift+`[~] \u5feb\u6377\u952e")},
onInputKeyup:function(n){switch(n.keyCode){case 13:this._cmd_history.push(e.console._inputEl.value);this._cmd_last_index=this._cmd_history.length;this._execCommand(e.console._inputEl.value);break;case 38:if(this._cmd_history.length==0)break;n="";if(this._cmd_last_index>0){this._cmd_last_index--;n=this._cmd_history[this._cmd_last_index]}else this._cmd_last_index=-1;e.console._inputEl.value=n;break;case 40:if(this._cmd_history.length==0)break;n="";if(this._cmd_last_index<this._cmd_history.length-1){this._cmd_last_index++;
n=this._cmd_history[this._cmd_last_index]}else this._cmd_last_index=this._cmd_history.length;e.console._inputEl.value=n}},_execCommand:function(n){if(n=="help"||n=="h")this.help();else if(n=="clear"||n=="cls")e.console.clear();else if(n=="hide")e.console.hide();else if(n=="refresh"||n=="r")this.refresh();else if(n=="showall"||n=="sa"){this.clear();this.render(null,true)}else if(RegExp(/^(?:filter|f)(?:\(|\s+)(.+)(?:\)|\s*)$/i).test(n)){n=eval("this.filter('"+RegExp.$1+"')");if(n.length>0)this.render(n,
true);else{this.clear();this.out("NO RESULT!",1)}}else if(RegExp(/^(?:setTemplate|s)(?:\(|\s+)(\d+)(?:\)|\s*)$/i).test(n)){this.setTemplate(parseInt(RegExp.$1));this.refresh()}else this._execScript(n);e.console._inputEl.value=""},_execScript:function(n){var s='<span style="color:#ccff00">'+n+"</span><br/>";try{s+=(eval(n)||"").toString().replace(/</g,"&lt;").replace(/>/g,"&gt;");e.console.print(s,0)}catch(o){s+=o.description;e.console.print(s,1)}}});e.profile=e.console.profile;e.warn=e.console.warn;
e.error=e.console.error;e.info=e.console.info;e.debug=e.console.debug;m.onDomReady(function(){e.console._init();if(f.console=="true"){e.console=e.extend(e.console,{profile:e.emptyFunc,warn:e.emptyFunc,error:e.emptyFunc,info:e.emptyFunc,debug:e.emptyFunc});e.console.show()}});e.runtime=function(){function n(){return e.config.debugLevel>0}function s(a,c){var j;if(n())j=a+"\n=STACK=\n"+o();else if(c=="error")j=a;e.Debug.errorLogs.push(j)}function o(a,c){function j(u,x){if(u.stack)return u.stack;else if(u.message.indexOf("\nBacktrace:\n")>=
0){var w=0;return u.message.split("\nBacktrace:\n")[1].replace(/\s*\n\s*/g,function(){w++;return w%2==0?"\n":" @ "})}else{for(var E=x.callee==o?x.callee.caller:x.callee,C=E.arguments,K=[],G=0,z=C.length;G<z;G++)K.push(typeof C[G]=="undefined"?"<u>":C[G]===null?"<n>":C[G]);C=/function\s+([^\s\(]+)\(/;return((C.test(E.toString())?C.exec(E.toString())[1]:"<ANON>")+"("+K.join()+");").replace(/\n/g,"")}}var l;if(a instanceof Error&&typeof arguments=="object"&&arguments.callee)l=j(a,c);else try{({}).sds()}catch(r){l=
j(r,arguments)}return l.replace(/\n/g," <= ")}return{stack:o,warn:function(){s(write.apply(null,arguments),"warn")},error:function(){s(write.apply(null,arguments),"error")},isDebugMode:n}}()});
Jx().$package(function(e){var b=window.location.host;e.cookie={set:function(k,m,g,i,d){if(d){var f=new Date;f.setTime((new Date).getTime()+36E5*d)}window.document.cookie=k+"="+m+"; "+(d?"expires="+f.toGMTString()+"; ":"")+(i?"path="+i+"; ":"path=/; ")+(g?"domain="+g+";":"domain="+b+";");return true},get:function(k){k=window.document.cookie.match(RegExp("(?:^|;+|\\s+)"+k+"=([^;]*)"));return!k?"":k[1]},remove:function(k,m,g){window.document.cookie=k+"=; expires=Mon, 26 Jul 1997 05:00:00 GMT; "+(g?"path="+
g+"; ":"path=/; ")+(m?"domain="+m+";":"domain="+b+";")}}});Jx().$package(function(e){e.localStorage={setItem:function(b,k){this.isSupports()&&window.localStorage.setItem(b,k)},getItem:function(b){if(this.isSupports())return window.localStorage.getItem(b);return null},removeItem:function(b){this.isSupports()&&window.localStorage.removeItem(b)},clear:function(){this.isSupports()&&window.localStorage.clear()},isSupports:function(){return"localStorage"in window&&window.localStorage!==null}}});
Jx().$package(function(e){e.format=e.format||{};e.format.date=function(b,k){var m={"M+":b.getMonth()+1,"D+":b.getDate(),"h+":b.getHours(),"m+":b.getMinutes(),"s+":b.getSeconds(),"q+":Math.floor((b.getMonth()+3)/3),S:b.getMilliseconds()};if(/(Y+)/.test(k))k=k.replace(RegExp.$1,(b.getFullYear()+"").substr(4-RegExp.$1.length));for(var g in m)if(RegExp("("+g+")").test(k))k=k.replace(RegExp.$1,RegExp.$1.length==1?m[g]:("00"+m[g]).substr((""+m[g]).length));return k};e.format.number=function(b,k){for(var m=
b?b.toString().split("."):["0"],g=k?k.split("."):[""],i="",d=m[0],f=g[0],h=d.length-1,q=false,n=f.length-1;n>=0;n--)switch(f.substr(n,1)){case "":if(h>=0)i=d.substr(h--,1)+i;break;case "0":i=h>=0?d.substr(h--,1)+i:"0"+i;break;case ",":q=true;i=","+i}if(h>=0)if(q)for(f=d.length;h>=0;h--){i=d.substr(h,1)+i;if(h>0&&(f-h)%3==0)i=","+i}else i=d.substr(0,h+1)+i;i+=".";d=m.length>1?m[1]:"";f=g.length>1?g[1]:"";for(n=h=0;n<f.length;n++)switch(f.substr(n,1)){case "":if(h<d.length)i+=d.substr(h++,1);break;
case "0":i+=h<d.length?d.substr(h++,1):"0"}return i.replace(/^,+/,"").replace(/\.$/,"")}});Jx().$package(function(e){e.date=e.date||{};e.date.format=e.format.date});Jx().$package(function(e){if(window.console)for(var b=["profile","warn","error","info","debug"],k=function(d,f){return function(h){d[f](h)}},m=0,g=b.length,i;m<g;m++){i=b[m];e[i]=console[i]?k(console,i=="profile"?"log":i):k(console,"log")}});
Jx().$package(function(e){var b=e.Class({init:function(){var k=this;this.op=[{".":function(m,g){return g.className==m},"+":function(m,g){return g.getAttribute(m)},"#":function(m,g){return g.id==m},".~":function(m,g){return $D.hasClass(g,m)}},{">":function(m,g){var i,d,f;f=m.split(">");d=f[0];f=f[1];if((f=="*"?true:k.match(f,g))&&(i=k.operate(k.detectAncestor,d,g)()))return k.packEvent(g,i);return false}},{"!":function(m,g){m=m.substr(1);return!k.match(m,g)}},{"&&":function(m,g){var i,d;d=m.split("&&");
i=d[0];d=d.slice(1).join("");if(k.match(i,g))return d.indexOf("&&")==-1?k.match(d,g):arguments.callee(d,g);return false}}];this.op2Level=[[".","#","+",".~"],">","!","&&"]},detectAncestor:function(k,m,g){var i=5,d=m.target;return function(){if(g(k,d))return d;else if(i>0){i--;if(d.parentNode)d=d.parentNode;else i=0;return arguments.callee()}return null}},detect:function(k,m,g){var i=m.target;if(i.nodeType!=1){i=i.parentNode;if(g(k,i))return this.packEvent(m,i)}else return g(k,i);return false},packEvent:function(k,
m){return[true,{target:m,oTarget:k.target,stopPropagation:function(){k.stopPropagation()},preventDefault:function(){k.preventDefault()},pageX:k.pageX,pageY:k.pageY}]},operate:function(k,m,g){for(var i,d=3;d>0;){if(i=this.op[0][m.substr(0,d)]){var f=null;if(f=k(m.substr(d),g,i))return f}d--}return false},match:function(k,m){for(var g=this.op2Level.length;g>0;g--){var i=this.op2Level[g];if(k.indexOf(i)!=-1)return this.op[g][i](k,m,void 0)}return this.operate(this.detect,k,m)},router:function(k,m,g){k=
k.split(",");var i;for(g=k.length-1;g>=0;g--)if(i=this.match(k[g],m))return i;return false},parse:function(k,m,g){k=this.router(k,g);if(k.length==2)m(k[1]);else k&&m(g)}});e.event.eventParser=new b});
Jx().$package(function(e){var b=e.event,k={"#":"id",".":"className","@":"el","!":"!"},m={blur:1,focus:1,change:1};e.event.eventProxy=function(g,i){var d={},f,h;for(f in i){h=i[f];var q=f.split(" "),n=q[0];q=q[1];d[q]=d[q]||[];d[q].push([n,h])}f=h=null;for(f in d){h=d[f];if(m[f]||f.charAt(0)=="@")for(q=h.length-1;q>=0;q--){n=h[q][0].split(",");for(var s=n.length-1;s>=0;s--){var o=k[n[s].charAt(0)];if(o=="id")b.on($D.id(n[s].substr(1)),f,h[q][1]);else o=="el"&&b.on(g,f.substr(1),h[q][1])}}else b.on(g,
f,function(a){for(var c=h.length-1;c>=0;c--)e.event.eventParser.parse(h[c][0],h[c][1],a)})}}});Jx().$package(function(e){e.fx=e.fx||{}});
Jx().$package(function(e){var b=e.dom,k=e.event,m=new e.Class({init:function(a,c){c=e.array.toArray(c);return e.extend(a,{easeIn:function(j){return a(j,c)},easeOut:function(j){return 1-a(1-j,c)},easeInOut:function(j){return j<=0.5?a(2*j,c)/2:(2-a(2*(1-j),c))/2}})}}),g={linear:function(a){return a},extend:function(a){for(var c in a)this[c]=new m(a[c])}};g.extend({pow:function(a,c){return Math.pow(a,c&&c[0]||6)},exponential:function(a){return Math.pow(2,8*(a-1))},circular:function(a){return 1-Math.sin(Math.acos(a))},
sinusoidal:function(a){return 1-Math.sin((1-a)*Math.PI/2)},back:function(a,c){c=c&&c[0]||1.618;return Math.pow(a,2)*((c+1)*a-c)},bounce:function(a){for(var c,j=0,l=1;;j+=l,l/=2)if(a>=(7-4*j)/11){c=l*l-Math.pow((11-6*j-11*a)/4,2);break}return c},elastic:function(a,c){return Math.pow(2,10*--a)*Math.cos(20*a*Math.PI*(c&&c[0]||1)/3)}});e.array.forEach(["quadratic","cubic","quartic","quintic"],function(a,c){g[a]=new m(function(j){return Math.pow(j,[c+2])})});var i=new e.Class({init:function(a){this.setOption(a)},
setOption:function(a){this.option=e.extend({duration:500,loop:1,fps:1E3/(a&&a.duration||500)},a)},start:function(){if(!this.check())return this;var a=this.option;this.time=0;this.loop=a.loop;this.onStart.apply(this,arguments);this.startTimer();return this},pause:function(){this.stopTimer();return this},resume:function(){this.startTimer();return this},end:function(){this.stopTimer()&&this.onEnd.apply(this,arguments);return this},cancel:function(){this.stopTimer()&&this.onCancel.apply(this,arguments);
return this},onStart:function(){k.notifyObservers(this,"start")},onEnd:function(){k.notifyObservers(this,"end")},onCancel:function(){k.notifyObservers(this,"cancel")},onLoop:function(){k.notifyObservers(this,"loop")},onBeater:function(){k.notifyObservers(this,"beater")},check:function(){if(!this.timer)return true;return false},setDuration:function(a){this.option.duration=a||500},update:function(){var a=e.now(),c=this.option;if(a<this.time+this.option.duration)this.onBeater((a-this.time)/c.duration);
else{this.onBeater(1);this.onLoop();if(c.loop<=0||--this.loop)this.time=a;else{this.stopTimer();this.onEnd()}}},stopTimer:function(){if(!this.timer)return false;this.time=e.now()-this.time;this.timer=q(this);return true},startTimer:function(){if(this.timer)return false;this.time=e.now()-this.time;this.timer=h(this);return true}}),d={},f={},h=function(a){var c=a.option.fps,j=d[c]||(d[c]=[]);j.push(a);f[c]||(f[c]=setInterval(function(){for(var l=j.length;l--;)j[l]&&j[l].update()},Math.round(1E3/c)));
return true},q=function(a){var c=a.option.fps,j=d[c]||[];e.array.remove(j,a);if(!j.length&&f[c])f[c]=clearInterval(f[c]);return false},n=new e.Class({extend:i},{init:function(a){n.superClass.init.apply(this,arguments);this.option=this.option||{};a=e.extend(this.option,{element:null,property:"",from:0,to:1,unit:false,transition:g.linear,fps:25,converter:s},a);this.from=a.from;this.to=a.to},getTransition:function(){return this.option.transition||g.sinusoidal.easeInOut},set:function(a){var c=this.option;
this.render(c.element,c.property,a,c.unit);return this},setFromTo:function(a,c){this.from=a;this.to=c},render:function(a,c,j,l){b.setStyle(a,c,this.option.converter(j,l))},compute:function(a,c,j){return(c-a)*j+a},onStart:function(a,c){var j=this.option;this.from=e.isNumber(a)?a:j.from;this.to=e.isNumber(c)?c:j.to;k.notifyObservers(this,"start")},onEnd:function(){this.set(this.compute(this.from,this.to,this.option.transition(1)));k.notifyObservers(this,"end")},onCancel:function(){this.set(this.compute(this.from,
this.to,this.option.transition(0)));k.notifyObservers(this,"cancel")},onBeater:function(a){this.set(this.compute(this.from,this.to,this.option.transition(a)))}}),s=function(a,c){return c?a+c:a},o=new e.Class({init:function(a){this.option=a=e.extend({element:null,property:"",from:0,to:0,unit:false,duration:500,transition:g.linear,fps:25},a);this.from=a.from;this.to=a.to},getTransition:function(){return this.option.transition||g.sinusoidal.easeInOut},update:function(){var a=e.now(),c=this.option;if(a<
this.time+this.option.duration)this.set(this.compute(this.from,this.to,c.transition((a-this.time)/c.duration)));else{this.set(this.compute(this.from,this.to,1));this.end()}},set:function(a){var c=this.option;this.render(c.element,c.property,a,c.unit);return this},setDuration:function(a){this.option.duration=a||500},setFromTo:function(a,c){this.from=a;this.to=c},render:function(a,c,j,l){j=l?j+l:j;b.setStyle(a,c,j)},compute:function(a,c,j){return(c-a)*j+a},check:function(){if(!this.timer)return true;
return false},start:function(a,c){if(!this.check(a,c))return this;var j=this.option;this.from=e.isNumber(a)?a:j.from;this.to=e.isNumber(c)?c:j.to;this.time=0;this.startTimer();this.onStart();return this},end:function(){this.stopTimer()&&this.onEnd();return this},cancel:function(){this.stopTimer()&&this.onCancel();return this},onStart:function(){k.notifyObservers(this,"start")},onEnd:function(){k.notifyObservers(this,"end")},onCancel:function(){k.notifyObservers(this,"cancel")},pause:function(){this.stopTimer();
return this},resume:function(){this.startTimer();return this},stopTimer:function(){if(!this.timer)return false;this.time=e.now()-this.time;this.timer=q(this);return true},startTimer:function(){if(this.timer)return false;this.time=e.now()-this.time;this.timer=h(this);return true}});e.fx.Beater=i;e.fx.Animation=n;e.fx.Animation2=o;e.fx.transitions=g});
Jx().$package(function(e){var b=window.JSON||{};(function(){function k(n){i.lastIndex=0;return i.test(n)?'"'+n.replace(i,function(s){var o=h[s];return typeof o==="string"?o:"\\u"+("0000"+s.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function m(n,s){var o,a,c,j,l=d,r,u=s[n];if(u&&typeof u==="object"&&typeof u.toJSON==="function")u=u.toJSON(n);if(typeof q==="function")u=q.call(s,n,u);switch(typeof u){case "string":return k(u);case "number":return isFinite(u)?String(u):"null";case "boolean":case "null":return String(u);
case "object":if(!u)return"null";d+=f;r=[];if(Object.prototype.toString.apply(u)==="[object Array]"){j=u.length;for(o=0;o<j;o+=1)r[o]=m(o,u)||"null";c=r.length===0?"[]":d?"[\n"+d+r.join(",\n"+d)+"\n"+l+"]":"["+r.join(",")+"]";d=l;return c}if(q&&typeof q==="object"){j=q.length;for(o=0;o<j;o+=1){a=q[o];if(typeof a==="string")if(c=m(a,u))r.push(k(a)+(d?": ":":")+c)}}else for(a in u)if(Object.hasOwnProperty.call(u,a))if(c=m(a,u))r.push(k(a)+(d?": ":":")+c);c=r.length===0?"{}":d?"{\n"+d+r.join(",\n"+d)+
"\n"+l+"}":"{"+r.join(",")+"}";d=l;return c}}var g=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,d,f,h={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},q;if(typeof b.stringify!=="function")b.stringify=function(n,s,o){var a;f=d="";if(typeof o==="number")for(a=0;a<o;a+=1)f+=" ";
else if(typeof o==="string")f=o;if((q=s)&&typeof s!=="function"&&(typeof s!=="object"||typeof s.length!=="number"))throw Error("JSON.stringify");return m("",{"":n})};if(typeof b.parse!=="function")b.parse=function(n,s){function o(c,j){var l,r,u=c[j];if(u&&typeof u==="object")for(l in u)if(Object.hasOwnProperty.call(u,l)){r=o(u,l);if(r!==undefined)u[l]=r;else delete u[l]}return s.call(c,j,u)}var a;g.lastIndex=0;if(g.test(n))n=n.replace(g,function(c){return"\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4)});
if(/^[\],:{}\s]*$/.test(n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){a=eval("("+n+")");return typeof s==="function"?o({"":a},""):a}throw new SyntaxError("JSON.parse");}})();e.json=b});
Jx().$package(function(e){var b=function(){function k(s,o){o=o||document;if(!/^[\w\-_#]+$/.test(s)&&o.querySelectorAll)return m(o.querySelectorAll(s));if(s.indexOf(",")>-1){for(var a=s.split(/,/g),c=[],j=0,l=a.length;j<l;++j)c=c.concat(k(a[j],o));return n(c)}a=s.match(i);j=a.pop();c=(j.match(f)||q)[1];l=!c&&(j.match(d)||q)[1];j=!c&&(j.match(h)||q)[1];if(l&&!j&&o.getElementsByClassName)j=m(o.getElementsByClassName(l));else{j=!c&&m(o.getElementsByTagName(j||"*"));if(l){j=j;l=RegExp("(^|\\s)"+l+"(\\s|$)");
for(var r=-1,u,x=-1,w=[];u=j[++r];)if(l.test(u.className))w[++x]=u;j=w}if(c)return(a=o.getElementById(c))?[a]:[]}return a[0]&&j[0]?g(a,j):j}function m(s){try{return Array.prototype.slice.call(s)}catch(o){for(var a=[],c=0,j=s.length;c<j;++c)a[c]=s[c];return a}}function g(s,o,a){var c=s.pop();if(c===">")return g(s,o,true);var j=[],l=-1,r=(c.match(f)||q)[1],u=!r&&(c.match(d)||q)[1];c=!r&&(c.match(h)||q)[1];var x=-1,w,E,C;for(c=c&&c.toLowerCase();w=o[++x];){E=w.parentNode;do{C=(C=(C=!c||c==="*"||c===
E.nodeName.toLowerCase())&&(!r||E.id===r))&&(!u||RegExp("(^|\\s)"+u+"(\\s|$)").test(E.className));if(a||C)break}while(E=E.parentNode);if(C)j[++l]=w}return s[0]&&j[0]?g(s,j):j}var i=/(?:[\w\-\\.#]+)+(?:\[\w+?=([\'"])?(?:\\\1|.)+?\1\])?|\*|>/ig,d=/^(?:[\w\-_]+)?\.([\w\-_]+)/,f=/^(?:[\w\-_]+)?#([\w\-_]+)/,h=/^([\w\*\-_]+)/,q=[null,null],n=function(){var s=+new Date,o=function(){var a=1;return function(c){var j=c[s],l=a++;if(!j){c[s]=l;return true}return false}}();return function(a){for(var c=a.length,
j=[],l=-1,r=0,u;r<c;++r){u=a[r];if(o(u))j[++l]=u}s+=1;return j}}();return k}();e.dom.mini=b});Jx().$package(function(e){e.number=e.number||{};e.number.format=e.format.number});
Jx().$package(function(e){var b=function(){function k(){if(!V){try{var y=z.getElementsByTagName("body")[0].appendChild(z.createElement("span"));y.parentNode.removeChild(y)}catch(A){return}V=true;y=v.length;for(var B=0;B<y;B++)v[B]()}}function m(y){if(V)y();else v[v.length]=y}function g(y){if(typeof G.addEventListener!=w)G.addEventListener("load",y,false);else if(typeof z.addEventListener!=w)z.addEventListener("load",y,false);else if(typeof G.attachEvent!=w)j(G,"onload",y);else if(typeof G.onload==
"function"){var A=G.onload;G.onload=function(){A();y()}}else G.onload=y}function i(){var y=z.getElementsByTagName("body")[0],A=z.createElement(E);A.style.position="absolute";A.style.left="-9999px";A.style.top="-9999px";A.style.width="1px";A.style.height="1px";A.setAttribute("type",C);var B=y.appendChild(A);if(B){var F=0;(function(){if(typeof B.GetVariable!=w){var H=B.GetVariable("$version");if(H){H=H.split(" ")[1].split(",");I.pv=[parseInt(H[0],10),parseInt(H[1],10),parseInt(H[2],10)]}}else if(F<
10){F++;setTimeout(arguments.callee,10);return}y.removeChild(A);B=null;d()})()}else d()}function d(){var y=D.length;if(y>0)for(var A=0;A<y;A++){var B=D[A].id,F=D[A].callbackFn,H={success:false,id:B};if(I.pv[0]>0){var M=c(B);if(M)if(l(D[A].swfVersion)&&!(I.wk&&I.wk<312)){u(B,true);if(F){H.success=true;H.ref=f(B);F(H)}}else if(D[A].expressInstall&&h()){H={};H.data=D[A].expressInstall;H.width=M.getAttribute("width")||"0";H.height=M.getAttribute("height")||"0";if(M.getAttribute("class"))H.styleclass=
M.getAttribute("class");if(M.getAttribute("align"))H.align=M.getAttribute("align");var L={};M=M.getElementsByTagName("param");for(var O=M.length,P=0;P<O;P++)if(M[P].getAttribute("name").toLowerCase()!="movie")L[M[P].getAttribute("name")]=M[P].getAttribute("value");q(H,L,B,F)}else{n(M);F&&F(H)}}else{u(B,true);if(F){if((B=f(B))&&typeof B.SetVariable!=w){H.success=true;H.ref=B}F(H)}}}}function f(y){var A=null;if((y=c(y))&&y.nodeName=="OBJECT")if(typeof y.SetVariable!=w)A=y;else if(y=y.getElementsByTagName(E)[0])A=
y;return A}function h(){return!Y&&l("6.0.65")&&(I.win||I.mac)&&!(I.wk&&I.wk<312)}function q(y,A,B,F){Y=true;W=F||null;ca={success:false,id:B};var H=c(B);if(H){if(H.nodeName=="OBJECT"){Q=s(H);R=null}else{Q=H;R=B}y.id=K;if(typeof y.width==w||!/%$/.test(y.width)&&parseInt(y.width,10)<310)y.width="310";if(typeof y.height==w||!/%$/.test(y.height)&&parseInt(y.height,10)<137)y.height="137";z.title=z.title.slice(0,47)+" - Flash Player Installation";F=I.ie&&I.win?"ActiveX":"PlugIn";F="MMredirectURL="+G.location.toString().replace(/&/g,
"%26")+"&MMplayerType="+F+"&MMdoctitle="+z.title;if(typeof A.flashvars!=w)A.flashvars+="&"+F;else A.flashvars=F;if(I.ie&&I.win&&H.readyState!=4){F=z.createElement("div");B+="SWFObjectNew";F.setAttribute("id",B);H.parentNode.insertBefore(F,H);H.style.display="none";(function(){H.readyState==4?H.parentNode.removeChild(H):setTimeout(arguments.callee,10)})()}o(y,A,B)}}function n(y){if(I.ie&&I.win&&y.readyState!=4){var A=z.createElement("div");y.parentNode.insertBefore(A,y);A.parentNode.replaceChild(s(y),
A);y.style.display="none";(function(){y.readyState==4?y.parentNode.removeChild(y):setTimeout(arguments.callee,10)})()}else y.parentNode.replaceChild(s(y),y)}function s(y){var A=z.createElement("div");if(I.win&&I.ie)A.innerHTML=y.innerHTML;else if(y=y.getElementsByTagName(E)[0])if(y=y.childNodes)for(var B=y.length,F=0;F<B;F++)!(y[F].nodeType==1&&y[F].nodeName=="PARAM")&&y[F].nodeType!=8&&A.appendChild(y[F].cloneNode(true));return A}function o(y,A,B){var F,H=c(B);if(I.wk&&I.wk<312)return F;if(H){if(typeof y.id==
w)y.id=B;if(I.ie&&I.win){var M="",L;for(L in y)if(y[L]!=Object.prototype[L])if(L.toLowerCase()=="data")A.movie=y[L];else if(L.toLowerCase()=="styleclass")M+=' class="'+y[L]+'"';else if(L.toLowerCase()!="classid")M+=" "+L+'="'+y[L]+'"';L="";for(var O in A)if(A[O]!=Object.prototype[O])L+='<param name="'+O+'" value="'+A[O]+'" />';H.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+M+">"+L+"</object>";J[J.length]=y.id;F=c(y.id)}else{O=z.createElement(E);O.setAttribute("type",C);
for(var P in y)if(y[P]!=Object.prototype[P])if(P.toLowerCase()=="styleclass")O.setAttribute("class",y[P]);else P.toLowerCase()!="classid"&&O.setAttribute(P,y[P]);for(M in A)if(A[M]!=Object.prototype[M]&&M.toLowerCase()!="movie"){y=O;L=M;P=A[M];B=z.createElement("param");B.setAttribute("name",L);B.setAttribute("value",P);y.appendChild(B)}H.parentNode.replaceChild(O,H);F=O}}return F}function a(y){var A=c(y);if(A&&A.nodeName=="OBJECT")if(I.ie&&I.win){A.style.display="none";(function(){if(A.readyState==
4){var B=c(y);if(B){for(var F in B)if(typeof B[F]=="function")B[F]=null;B.parentNode.removeChild(B)}}else setTimeout(arguments.callee,10)})()}else A.parentNode.removeChild(A)}function c(y){var A=null;try{A=z.getElementById(y)}catch(B){}return A}function j(y,A,B){y.attachEvent(A,B);N[N.length]=[y,A,B]}function l(y){var A=I.pv;y=y.split(".");y[0]=parseInt(y[0],10);y[1]=parseInt(y[1],10)||0;y[2]=parseInt(y[2],10)||0;return A[0]>y[0]||A[0]==y[0]&&A[1]>y[1]||A[0]==y[0]&&A[1]==y[1]&&A[2]>=y[2]?true:false}
function r(y,A,B,F){if(!(I.ie&&I.mac)){var H=z.getElementsByTagName("head")[0];if(H){B=B&&typeof B=="string"?B:"screen";if(F)ba=S=null;if(!S||ba!=B){F=z.createElement("style");F.setAttribute("type","text/css");F.setAttribute("media",B);S=H.appendChild(F);if(I.ie&&I.win&&typeof z.styleSheets!=w&&z.styleSheets.length>0)S=z.styleSheets[z.styleSheets.length-1];ba=B}if(I.ie&&I.win)S&&typeof S.addRule==E&&S.addRule(y,A);else S&&typeof z.createTextNode!=w&&S.appendChild(z.createTextNode(y+" {"+A+"}"))}}}
function u(y,A){if(da){var B=A?"visible":"hidden";if(V&&c(y))c(y).style.visibility=B;else r("#"+y,"visibility:"+B)}}function x(y){return/[\\\"<>\.;]/.exec(y)!=null&&typeof encodeURIComponent!=w?encodeURIComponent(y):y}var w="undefined",E="object",C="application/x-shockwave-flash",K="SWFObjectExprInst",G=window,z=document,p=navigator,t=false,v=[function(){t?i():d()}],D=[],J=[],N=[],Q,R,W,ca,V=false,Y=false,S,ba,da=true,I=function(){var y=typeof z.getElementById!=w&&typeof z.getElementsByTagName!=w&&
typeof z.createElement!=w,A=p.userAgent.toLowerCase(),B=p.platform.toLowerCase(),F=B?/win/.test(B):/win/.test(A);B=B?/mac/.test(B):/mac/.test(A);A=/webkit/.test(A)?parseFloat(A.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false;var H=!+"\u000b1",M=[0,0,0],L=null;if(typeof p.plugins!=w&&typeof p.plugins["Shockwave Flash"]==E){if((L=p.plugins["Shockwave Flash"].description)&&!(typeof p.mimeTypes!=w&&p.mimeTypes[C]&&!p.mimeTypes[C].enabledPlugin)){t=true;H=false;L=L.replace(/^.*\s+(\S+\s+\S+$)/,"$1");
M[0]=parseInt(L.replace(/^(.*)\..*$/,"$1"),10);M[1]=parseInt(L.replace(/^.*\.(.*)\s.*$/,"$1"),10);M[2]=/[a-zA-Z]/.test(L)?parseInt(L.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else if(typeof G.ActiveXObject!=w)try{var O=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(O)if(L=O.GetVariable("$version")){H=true;L=L.split(" ")[1].split(",");M=[parseInt(L[0],10),parseInt(L[1],10),parseInt(L[2],10)]}}catch(P){}return{w3:y,pv:M,wk:A,ie:H,win:F,mac:B}}();(function(){if(I.w3){if(typeof z.readyState!=w&&
z.readyState=="complete"||typeof z.readyState==w&&(z.getElementsByTagName("body")[0]||z.body))k();if(!V){typeof z.addEventListener!=w&&z.addEventListener("DOMContentLoaded",k,false);if(I.ie&&I.win){z.attachEvent("onreadystatechange",function(){if(z.readyState=="complete"){z.detachEvent("onreadystatechange",arguments.callee);k()}});G==top&&function(){if(!V){try{z.documentElement.doScroll("left")}catch(y){setTimeout(arguments.callee,0);return}k()}}()}I.wk&&function(){V||(/loaded|complete/.test(z.readyState)?
k():setTimeout(arguments.callee,0))}();g(k)}}})();(function(){I.ie&&I.win&&window.attachEvent("onunload",function(){for(var y=N.length,A=0;A<y;A++)N[A][0].detachEvent(N[A][1],N[A][2]);y=J.length;for(A=0;A<y;A++)a(J[A]);for(var B in I)I[B]=null;I=null;for(var F in b)b[F]=null;b=null})})();return{registerObject:function(y,A,B,F){if(I.w3&&y&&A){var H={};H.id=y;H.swfVersion=A;H.expressInstall=B;H.callbackFn=F;D[D.length]=H;u(y,false)}else F&&F({success:false,id:y})},getObjectById:function(y){if(I.w3)return f(y)},
embedSWF:function(y,A,B,F,H,M,L,O,P,X){var Z={success:false,id:A};if(I.w3&&!(I.wk&&I.wk<312)&&y&&A&&B&&F&&H){u(A,false);m(function(){B+="";F+="";var U={};if(P&&typeof P===E)for(var T in P)U[T]=P[T];U.data=y;U.width=B;U.height=F;T={};if(O&&typeof O===E)for(var $ in O)T[$]=O[$];if(L&&typeof L===E)for(var aa in L)if(typeof T.flashvars!=w)T.flashvars+="&"+aa+"="+L[aa];else T.flashvars=aa+"="+L[aa];if(l(H)){$=o(U,T,A);U.id==A&&u(A,true);Z.success=true;Z.ref=$}else if(M&&h()){U.data=M;q(U,T,A,X);return}else u(A,
true);X&&X(Z)})}else X&&X(Z)},switchOffAutoHideShow:function(){da=false},ua:I,getFlashPlayerVersion:function(){return{major:I.pv[0],minor:I.pv[1],release:I.pv[2]}},hasFlashPlayerVersion:l,createSWF:function(y,A,B){if(I.w3)return o(y,A,B)},showExpressInstall:function(y,A,B,F){I.w3&&h()&&q(y,A,B,F)},removeSWF:function(y){I.w3&&a(y)},createCSS:function(y,A,B,F){I.w3&&r(y,A,B,F)},addDomLoadEvent:m,addLoadEvent:g,getQueryParamValue:function(y){var A=z.location.search||z.location.hash;if(A){if(/\?/.test(A))A=
A.split("?")[1];if(y==null)return x(A);A=A.split("&");for(var B=0;B<A.length;B++)if(A[B].substring(0,A[B].indexOf("="))==y)return x(A[B].substring(A[B].indexOf("=")+1))}return""},expressInstallCallback:function(){if(Y){var y=c(K);if(y&&Q){y.parentNode.replaceChild(Q,y);if(R){u(R,true);if(I.ie&&I.win)Q.style.display="block"}W&&W(ca)}Y=false}}}}();e.swfobject=b;(function(){var k=navigator.appVersion.indexOf("MSIE")!=-1?true:false,m=navigator.appVersion.toLowerCase().indexOf("win")!=-1?true:false,g=
navigator.userAgent.indexOf("Opera")!=-1?true:false;e.GetSwfVer=function(){var i=-1;if(navigator.plugins!=null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){i=navigator.plugins["Shockwave Flash"+(navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"")].description.split(" ");var d=i[2].split("."),f=d[0];d=d[1];var h=i[3];if(h=="")h=i[4];if(h[0]=="d")h=h.substring(1);else if(h[0]=="r"){h=h.substring(1);if(h.indexOf("d")>0)h=h.substring(0,
h.indexOf("d"))}i=f+"."+d+"."+h}}else if(navigator.userAgent.toLowerCase().indexOf("webtv/2.6")!=-1)i=4;else if(navigator.userAgent.toLowerCase().indexOf("webtv/2.5")!=-1)i=3;else if(navigator.userAgent.toLowerCase().indexOf("webtv")!=-1)i=2;else if(k&&m&&!g){try{d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");f=d.GetVariable("$version")}catch(q){}if(!f)try{d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");f="WIN 6,0,21,0";d.AllowScriptAccess="always";f=d.GetVariable("$version")}catch(n){}if(!f)try{d=
new ActiveXObject("ShockwaveFlash.ShockwaveFlash.3");f=d.GetVariable("$version")}catch(s){}if(!f)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash.3");f="WIN 3,0,18,0"}catch(o){}if(!f)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash");f="WIN 2,0,0,11"}catch(a){f=-1}i=f}return i}})()});
Jx().$package(function(e){var b=e.dom,k=e.event,m=e.browser,g,i,d,f,h,q,n,s;e.sound=e.sound||{};q={_volume:100,_boolMute:false,_url:"",_id:-1,init:function(){throw"init does not implement a required interface";},load:function(){throw"load does not implement a required interface";},getVolume:function(){return this._volume},setVolume:function(o){if(!isNaN(o)&&o>=0&&o<=100){this._volume=o;this._correctVolume();return true}return false},_correctVolume:function(){this._setDirectVolume(this._volume*e.sound.Global._volume*
!this._boolMute*!e.sound.Global._boolMute/100)},_setDirectVolume:function(){throw"_setDirectVolume does not implement a required interface";},mute:function(){if(!this._boolMute){this._boolMute=true;this._correntVolume()}},unMute:function(){if(this._boolMute){this._boolMute=false;this._correntVolume()}},isMute:function(){return this._boolMute},play:function(){throw"play does not implement a required interface";},pause:function(){throw"pause does not implement a required interface";},stop:function(){throw"stop does not implement a required interface";
},getDuration:function(){throw"getDuration does not implement a required interface";},getPosition:function(){throw"getPosition does not implement a required interface";},setPosition:function(){throw"setPosition does not implement a required interface";},free:function(){throw"free does not implement a required interface";}};i={init:function(o,a,c){var j=this;a=a||false;this._needEventSupport=!!c;this._url=o;this._id=f.length;if(a){a=new Audio;a.id="audioSoundObject_"+this._id;this._onloadCallback=
function(){j.play();j._obj.removeEventListener("canplay",j._onloadCallback,false);j._onloadCallback=null};a.addEventListener("canplay",this._onloadCallback,false);b.id("sound_object_container").appendChild(a);this._obj=a;this.load.call(this,o)}f.push(this)},load:function(o){var a=this;if(o)this._url=o;else if(!this._url)return;if(!this._obj){o=new Audio;o.id="audioSoundObject_"+this._id;if(this._needEventSupport){o.addEventListener("durationchange",function(){k.notifyObservers(a,"durationchange")},
false);o.addEventListener("timeupdate",function(){k.notifyObservers(a,"timeupdate")},false);o.addEventListener("canplay",function(){k.notifyObservers(a,"canplay")},false);o.addEventListener("ended",function(){k.notifyObservers(a,"ended")},false);o.addEventListener("play",function(){k.notifyObservers(a,"play")},false);o.addEventListener("pause",function(){k.notifyObservers(a,"pause")},false);o.addEventListener("progress",function(){k.notifyObservers(a,"progress")},false);o.addEventListener("error",
function(){k.notifyObservers(a,"error")},false)}b.id("sound_object_container").appendChild(o);this._obj=o}this._obj.src=this._url;m.mobileSafari&&this._obj.load()},_setDirectVolume:function(o){if(this._obj)this._obj.volume=o/100},play:function(){this._obj&&this._obj.play()},pause:function(){if(this._obj){if(this._onloadCallback){this._obj.removeEventListener("canplay",this._onloadCallback,false);this._onloadCallback=null}this._obj.pause()}},stop:function(){if(this._obj){this._obj.pause();this.setPosition(0)}},
getDuration:function(){if(!this._obj)return 0;return this._obj.duration},getPosition:function(){if(!this._obj)return 0;return this._obj.currentTime},setPosition:function(o){if(!this._obj)return false;var a=this._obj;try{if(o>=0&&o<a.duration){a.currentTime=parseFloat(o);return true}else return false}catch(c){return false}},buffered:function(){if(!this._obj)return 0;var o=this._obj;if(!o.buffered.length)return 0;return o.buffered.end(0)},free:function(){if(this._obj){var o=this._obj;o.pause();b.id("sound_object_container").removeChild(o);
this._obj=null}f[this._id]=null}};d={init:function(o,a,c){a=a||false;this._needEventSupport=!!c;this._url=o;this._id=f.length;if(a)if(h)this._obj=h;else{a=new Audio;a.id="audioSoundObject_"+this._id;b.id("sound_object_container").appendChild(a);h=this._obj=a;this.load.call(this,o)}f.push(this)},load:function(o){var a=this;if(o)this._url=o;else if(!this._url)return;if(!this._obj)if(h)this._obj=h;else{var c=new Audio;c.id="audioSoundObject_"+this._id;b.id("sound_object_container").appendChild(c);h=
this._obj=c}if(this._needEventSupport&&!this._hashEventSupport){c=this._obj;this._hashEventSupport=true;c.addEventListener("durationchange",function(){c._inject||k.notifyObservers(a,"durationchange")},false);c.addEventListener("timeupdate",function(){c._inject||k.notifyObservers(a,"timeupdate")},false);c.addEventListener("canplay",function(){c._inject||k.notifyObservers(a,"canplay")},false);c.addEventListener("ended",function(){c._inject||k.notifyObservers(a,"ended")},false);c.addEventListener("play",
function(){c._inject||k.notifyObservers(a,"play")},false);c.addEventListener("pause",function(){c._inject||k.notifyObservers(a,"pause")},false);c.addEventListener("progress",function(){c._inject||k.notifyObservers(a,"progress")},false);c.addEventListener("error",function(){c._inject||k.notifyObservers(a,"error")},false)}this._obj.src=this._url;m.mobileSafari&&this._obj.load()},_setDirectVolume:function(o){if(this._obj)this._obj.volume=o/100},play:function(o,a){if(this._obj){if(o){this._obj._inject=
true;var c,j,l=this;if(!this._obj.paused){c=this._obj.src;this._obj.ended||(j=this._obj.currentTime+0.01)}this.load(a);var r=function(){l._obj.removeEventListener("ended",r,false);l._obj._inject=false;if(c){l._obj.src=c;l._obj.muted=true;l._obj.load();if(j){var u=function(){try{l._obj.currentTime=j;l._obj.muted=false;l._obj.play()}catch(x){setTimeout(u,1E3)}};u()}}};this._obj.addEventListener("ended",r,false);setTimeout(function(){l._obj._inject&&r()},3E3)}this._obj.play()}},pause:function(){this._obj&&
this._obj.pause()},stop:function(){if(this._obj){this._obj.pause();this.setPosition(0)}},getDuration:function(){if(!this._obj)return 0;return this._obj.duration},getPosition:function(){if(!this._obj)return 0;return this._obj.currentTime},setPosition:function(o){if(!this._obj)return false;var a=this._obj;try{if(o>=0&&o<a.duration){a.currentTime=parseFloat(o);return true}else return false}catch(c){return false}},buffered:function(){if(!this._obj)return 0;var o=this._obj;if(!o.buffered.length)return 0;
return o.buffered.end(0)},free:function(){if(this._obj){var o=this._obj;o.pause();b.id("sound_object_container").removeChild(o);this._obj=null}f[this._id]=null}};g={init:function(o,a,c){this._fid=-1;a=a||false;this._needEventSupport=!!c;this._url=o;this._id=f.length;if(a){this._fid=b.id("JxSwfSound_Flash").loadSound(this._url,-1,true);this._correctVolume()}f.push(this)},load:function(o){if(o)this._url=o;else if(!this._url)return;o=b.id("JxSwfSound_Flash");this._fid!=-1&&o.free(this._fid);this._fid=
o.loadSound(this._url,this._needEventSupport?this._id:-1,false);this._correctVolume()},_setDirectVolume:function(o){this._fid!=-1&&b.id("JxSwfSound_Flash").setVolume(this._fid,o)},play:function(){this._fid!=-1&&b.id("JxSwfSound_Flash").playSound(this._fid)},pause:function(){this._fid!=-1&&b.id("JxSwfSound_Flash").pauseSound(this._fid)},stop:function(){this._fid!=-1&&b.id("JxSwfSound_Flash").stopSound(this._fid)},getDuration:function(){if(this._fid==-1)return 0;return b.id("JxSwfSound_Flash").getDuration(this._fid)},
getPosition:function(){if(this._fid==-1)return 0;return b.id("JxSwfSound_Flash").getPosition(this._fid)},setPosition:function(o){if(this._fid==-1)return false;return b.id("JxSwfSound_Flash").setPosition(this._fid,o)},buffered:function(){if(this._fid==-1)return 0;return b.id("JxSwfSound_Flash").getBuffered(this._fid)},free:function(){this._fid!=-1&&b.id("JxSwfSound_Flash").free(this._fid);f[this._id]=null}};n=function(o){if(o==undefined)o="./swf/jxswfsound.swf";var a={id:"JxSwfSound_Flash",name:"JxSwfSound_Flash"},
c={menu:"false",wmode:"transparent",swLiveConnect:"true",allowScriptAccess:"always"},j=b.node("div",{id:"swfSound_Flash_div"}),l=b.id("sound_object_container");l.appendChild(j);b.setStyle(l,"display","");try{e.swfobject.embedSWF(o,"swfSound_Flash_div","1","1","8.0.0","./swf/expressInstall.swf",false,c,a)}catch(r){e.error("J.Sound module error: "+r.message,"Sound")}};s=function(o,a){var c=f[o];c&&k.notifyObservers(c,a)};f=[];switch(e.browser.chrome?1:e.platform.iPad?4:window.Audio&&(new Audio).canPlayType("audio/mpeg")?
3:e.browser.plugins.flash>=9?1:0){case 1:e.sound=new e.Class(e.extend({},q,g));e.sound.isReady=false;e.sound.init=function(o){if(!e.sound.isReady){window.JxSwfSoundOnLoadCallback=function(){e.sound.isReady=true;var c=b.id("sound_object_container");b.setStyle(c,"width","1px");b.setStyle(c,"height","1px");k.notifyObservers(e.sound,"ready")};window.soundEventDispatcher=s;var a=b.node("div",{id:"sound_object_container",style:"position:absolute;left:0;top:0;width:100px;height:100px;overflow:hidden;"});
(document.body||document.documentElement).appendChild(a);n(o&&o.path)}};break;case 3:e.sound=new e.Class(e.extend({},q,i));e.sound.isReady=false;e.sound.init=function(){if(!e.sound.isReady){var o=b.node("div",{id:"sound_object_container",style:"position:absolute;left:0;top:0;width:1px;height:1px;overflow:hidden;"});(document.body||document.documentElement).appendChild(o);e.sound.isReady=true}};break;case 4:e.sound=new e.Class(e.extend({},q,d));e.sound.isReady=false;e.sound.init=function(){if(!e.sound.isReady){var o=
b.node("div",{id:"sound_object_container",style:"position:absolute;left:0;top:0;width:1px;height:1px;overflow:hidden;"});(document.body||document.documentElement).appendChild(o);e.sound.isReady=true}};break;default:e.sound=new e.Class(e.extend({},q,{init:function(){},load:function(){},_correctVolume:function(){},play:function(){},pause:function(){},stop:function(){},getDuration:function(){return-1},getPosition:function(){return 0},setPosition:function(){return true},free:function(){}}));e.sound.init=
function(){};e.sound.isReady=false}e.sound.Global={_volume:100,_boolMute:false,getVolume:function(){return this._volume},setVolume:function(o){if(!isNaN(o)&&o>=0&&o<=100){this._volume=o;o=0;for(var a=f.length;o<a;o++)f[o]!=null&&f[o]._correctVolume();return true}return false},mute:function(){if(!this._boolMute){this._boolMute=true;for(var o=0,a=f.length;o<a;o++)f[o]!=null&&f[o]._correctVolume()}},unMute:function(){if(this._boolMute){this._boolMute=false;for(var o=0,a=f.length;o<a;o++)f[o]!=null&&
f[o]._correctVolume()}},isMute:function(){return this._boolMute},removeAll:function(){for(var o=0,a=f.length;o<a;o++)f[o]!=null&&f[o].free()}}});
Jx().$package(function(e){var b=e.dom,k=e.event;e.ui=e.ui||{};var m=0;e.ui.MaskLayer=new e.Class({_getMaskId:function(){return m++},init:function(g){g=g||{};var i=this._getMaskId(),d=this;this._initZIndex=g.zIndex=!e.isUndefined(g.zIndex)?g.zIndex:9E6;this._initOpacity=g.opacity=!e.isUndefined(g.opacity)?g.opacity:0.5;g.appendTo=g.appendTo||document.body;g.className=g.className||"";this.option=g;this.container=b.node("div",{id:"ui_maskLayer_"+i,"class":"ui_maskLayer "+g.className});var f='<div id="ui_maskLayerBody_'+
i+'" class="ui_maskLayerBody"></div>';if(e.browser.ie)f+='<iframe class="ui_maskBgIframe"></iframe>';this.container.innerHTML=f;this.reset();g.appendTo.appendChild(this.container);k.on(this.container,"click",{onMaskLayerClick:function(){k.notifyObservers(d,"click",d)}}.onMaskLayerClick);this.body=b.id("ui_maskLayerBody_"+i)},getElement:function(){return this.container},append:function(g){this.body.appendChild(g)},show:function(){b.show(this.container);k.notifyObservers(this,"show");this._isShow=true},
hide:function(){b.hide(this.container);k.notifyObservers(this,"hide");this._isShow=false},isShow:function(){return this._isShow},toggleShow:function(){this.isShow()?this.hide():this.show()},getZIndex:function(){return this._zIndex},setZIndex:function(g){b.setStyle(this.container,"zIndex",g);this._zIndex=g},setOpacity:function(g){b.setStyle(this.container,"opacity",g)},reset:function(){this.setOpacity(this._initOpacity);this.setZIndex(this._initZIndex);return this},fadeIn:function(){this.show()},fadeOut:function(){this.hide()},
remove:function(){this.option.appendTo&&this.option.appendTo.removeChild(this.container)},about:function(){}})});
Jx().$package(function(e){var b=e.dom,k=e.event,m=function(r){r.preventDefault()},g=false,i=false,d,f,h=false,q=false,n,s,o,a,c,j,l;e.ui=e.ui||{};e.ui.Drag=new e.Class({init:function(r,u,x){var w=this,E,C,K,G;this.apperceiveEl=r;x=x||{};this.isLimited=x.isLimited||false;this.dragType=x.dragType;this.isLocked=x.isLocked||false;this.isLockCursorInScreen=x.isLockCursorInScreen||false;var z=false;if(this.isLimited){this._leftMargin=x.leftMargin||0;this._topMargin=x.topMargin||0;this._rightMargin=x.rightMargin||
0;this._bottomMargin=x.bottomMargin||0}if(x.xOnly)this._xOnly=x.xOnly||false;if(x.yOnly)this._yOnly=x.yOnly||false;this.effectEl=u===false?false:u||r;this.dragStart=function(p){if(p.changedTouches){if(p.changedTouches.length>1)return;p=p.changedTouches[0];document.body.style.WebkitTouchCallout="none"}else{p.preventDefault();p.stopPropagation()}w.dragStartIn(p.pageX,p.pageY)};this.dragStartIn=function(p,t){if(!w.isLocked){k.notifyObservers(w,"beforeStart");k.notifyObservers(document,"beforeStart");
d=b.getClientWidth();f=b.getClientHeight();g=x.clientEl?b.getClientWidth(x.clientEl):d;i=x.clientEl?b.getClientHeight(x.clientEl):f;h=w.effectEl?parseInt(b.getClientWidth(w.effectEl)):0;q=w.effectEl?parseInt(b.getClientHeight(w.effectEl)):0;if(w.isLimited){n=g-h-w._rightMargin;s=w._leftMargin;o=w._topMargin;a=i-q-w._bottomMargin}l||(l=new e.ui.MaskLayer({opacity:0}));l.setZIndex(9E6);l.show();w._oldX=E=w.effectEl?parseInt(b.getStyle(w.effectEl,"left"))||0:0;w._oldY=C=w.effectEl?parseInt(b.getStyle(w.effectEl,
"top"))||0:0;K=p;G=t;if(e.browser.mobileSafari){k.on(document,"touchmove",w.dragMove);k.on(document,"touchend",w.dragStop);var v=new WebKitCSSMatrix(window.getComputedStyle(w.apperceiveEl).webkitTransform);c=p-v.m41;j=t-v.m42}else{k.on(document,"mousemove",w.dragMove);k.on(document,"mouseup",w.dragStop)}e.browser.ie&&k.on(document.body,"selectstart",m);e.browser.mobileSafari?k.notifyObservers(w,"start",{x:p,y:t}):k.notifyObservers(w,"start",{x:E,y:C})}};this.dragMove=function(p){if(!w.isLocked){if(p.browserEvent){p.browserEvent.preventDefault();
p.browserEvent.stopPropagation()}else{p.preventDefault();p.stopPropagation()}if(p.changedTouches)p=p.changedTouches[0];var t,v,D=p.pageX,J=p.pageY;if(w.isLockCursorInScreen){D<0?D=0:D>d&&(D=d);J<0?J=0:J>f&&(J=f)}if(!e.browser.mobileSafari){t=E+(D-K);v=C+(J-G)}if(w.isLimited){if(t>n&&!x.isOverRight)t=n;if(t<s&&!x.isOverLeft)t=s}if(w._oldX!==t&&!w._yOnly){w._oldX=t;if(w.effectEl&&!e.browser.mobileSafari)w.effectEl.style.left=t+"px";z=true}if(w.isLimited){if(v>a&&!x.isOverBottom)v=a;if(v<o&&!x.isOverTop)v=
o}if(w._oldY!==v&&!w._xOnly){w._oldY=v;if(w.effectEl&&!e.browser.mobileSafari)w.effectEl.style.top=v+"px";z=true}t=t;v=v;if(w.effectEl&&e.browser.mobileSafari){w._oldX=E+(D-K);w._oldY=C+(J-G);v=J;t=w._yOnly?E:D-c;v=w._xOnly?C:v-j;w.effectEl.style.webkitTransform="translate3d("+t+"px, "+v+"px, 0px)";t=D;v=J}z&&k.notifyObservers(w,"move",{x:t,y:v,orientEvent:p})}};this.dragStop=function(p){l.hide();if(!w.isLocked){document.body.style.WebkitTouchCallout="auto";if(z||e.browser.mobileSafari){var t=w._oldX,
v=w._oldY;if(w.isLimited){if(t>n&&!x.isOverRight)t=n;if(t<s&&!x.isOverLeft)t=s}if(w.isLimited){if(v>a&&!x.isOverBottom)v=a;if(v<o&&!x.isOverTop)v=o}if(e.browser.mobileSafari){p.preventDefault();if(x.noEndCallback&&w.effectEl){w.effectEl.style.webkitTransform="none";b.setStyle(w.effectEl,"left",t+"px");b.setStyle(w.effectEl,"top",v+"px")}k.notifyObservers(w,"end",{x:t,y:v,orientEvent:p.changedTouches[0]})}else k.notifyObservers(w,"end",{x:t,y:v,orientEvent:p})}else k.notifyObservers(w,"end",{orientEvent:p});
if(w.isLimited&&(w.isOverRight||w.isOverLeft||w.isOverTop||w.isOverBottom)){t=E+(p.pageX-K);v=C+(p.pageY-G);p=w._leftMargin;var D=i-w._bottomMargin,J=w._topMargin;if(t>g-h-w._rightMargin||t<p||v>D||v<J)k.notifyObservers(w,"overFlowBorder",{x:t,y:v})}q=h=i=g=false;if(e.browser.mobileSafari){k.off(document,"touchmove",w.dragMove);k.off(document,"touchend",w.dragStop)}else{k.off(document,"mousemove",w.dragMove);k.off(document,"mouseup",w.dragStop)}e.browser.ie&&k.off(document.body,"selectstart",m);z=
false}};k.on(this.apperceiveEl,"drag",this.dragStart)},setEffect:function(r){this.effectEl=r},lock:function(){this.isLocked=true;k.off(this.apperceiveEl,"drag",this.dragStart)},unlock:function(){this.isLocked=false;k.on(this.apperceiveEl,"drag",this.dragStart)},show:function(){b.show(this.apperceiveEl)},hide:function(){b.hide(this.apperceiveEl)},setLimite:function(r){r=r||{};if(this.isLimited=r.isLimited||true){this._leftMargin=r.leftMargin||0;this._topMargin=r.topMargin||0;this._rightMargin=r.rightMargin||
0;this._bottomMargin=r.bottomMargin||0}}})});
Jx().$package(function(e){e.ui=e.ui||{};var b=e.dom,k=e.event,m=0,g={t:"t",r:"r",b:"b",l:"l",rt:"rt",rb:"rb",lb:"lb",lt:"lt"};e.ui.Resize=new e.Class({init:function(i,d,f){var h=this;f=f||{};this.apperceiveEl=i;this.effectEl=d===false?false:d||i;this.size=f.size||5;this.minWidth=f.minWidth||0;this.minHeight=f.minHeight||0;this._dragProxy=f.dragProxy;if(this.isLimited=f.isLimited||false){this._leftMargin=f.leftMargin||0;this._topMargin=f.topMargin||0;this._rightMargin=f.rightMargin||0;this._bottomMargin=
f.bottomMargin||0}this._left=this.getLeft();this._top=this.getTop();this._width=this.getWidth();this._height=this.getHeight();this.id=this.getId();i={t:"cursor:n-resize; z-index:1; left:0; top:-5px; width:100%; height:5px;",r:"cursor:e-resize; z-index:1; right:-5px; top:0; width:5px; height:100%;",b:"cursor:s-resize; z-index:1; left:0; bottom:-5px; width:100%; height:5px;",l:"cursor:w-resize; z-index:1; left:-5px; top:0; width:5px; height:100%;",rt:"cursor:ne-resize; z-index:2; right:-5px; top:-5px; width:5px; height:5px;",
rb:"cursor:se-resize; z-index:2; right:-5px; bottom:-5px; width:5px; height:5px;",lt:"cursor:nw-resize; z-index:2; left:-5px; top:-5px; width:5px; height:5px;",lb:"cursor:sw-resize; z-index:2; left:-5px; bottom:-5px; width:5px; height:5px;"};this._onMousedown=function(){k.notifyObservers(h,"mousedown",{width:h._width,height:h._height})};this._onDragEnd=function(){k.notifyObservers(h,"end",{x:h.getLeft(),y:h.getTop(),width:h.getWidth(),height:h.getHeight()})};for(var q in g){d=b.node("div",{id:"window_"+
this.id+"_resize_"+g[q]});this.apperceiveEl.appendChild(d);b.setCssText(d,"position:absolute; overflow:hidden; background:url("+e.path+"style/image/transparent.gif);"+i[q]);this["_dragController_"+g[q]]=new e.ui.Drag(d,false)}this._onDragLeftStart=function(){k.notifyObservers(h,"mousedown",{width:h._width,height:h._height});h._startLeft=h._left=h.getLeft();h._startWidth=h._width=h.getWidth();h._startHeight=h._height=h.getHeight()};this._onDragLeft=function(n){var s=h._startWidth-n.x;n=h._startLeft+
n.x;if(s<h.minWidth){s=h.minWidth;n=h._startLeft+(h._startWidth-s)}if(h.isLimited&&n-h._leftMargin<0){n=h._leftMargin;s=h._startLeft+h._startWidth-h._leftMargin}h.setLeft(n);h.setWidth(s);k.notifyObservers(h,"resize",{width:h._width,height:h._height})};this._onDragTopStart=function(){k.notifyObservers(h,"mousedown",{width:h._width,height:h._height});h._startTop=h._top=h.getTop();h._startHeight=h._height=h.getHeight()};this._onDragTop=function(n){var s=h._startHeight-n.y;n=h._startTop+n.y;if(s<h.minHeight){s=
h.minHeight;n=h._startTop+(h._startHeight-s)}if(h.isLimited&&n-h._topMargin<0){n=h._topMargin;s=h._startTop+h._startHeight-h._topMargin}h.setTop(n);h.setHeight(s);k.notifyObservers(h,"resize",{width:h._width,height:h._height})};this._onDragRightStart=function(){k.notifyObservers(h,"mousedown",{width:h._width,height:h._height});h._startWidth=h._width=h.getWidth();h._startLeft=h._left=h.getLeft();h._startHeight=h._height=h.getHeight();qqweb.layout.getClientWidth()};this._onDragRight=function(n){n=h._startWidth+
n.x;if(n<h.minWidth)n=h.minWidth;var s=(b.getClientWidth()||0)-h._startLeft-h._rightMargin;if(h.isLimited&&s<n)n=s;h.setWidth(n);k.notifyObservers(h,"resize",{width:h._width,height:h._height})};this._onDragBottomStart=function(){k.notifyObservers(h,"mousedown",{width:h._width,height:h._height});h._startHeight=h._height=h.getHeight();h._startTop=h._top=h.getTop();b.getClientHeight()};this._onDragBottom=function(n){n=h._startHeight+n.y;if(n<h.minHeight)n=h.minHeight;var s=(b.getClientHeight()||0)-h._startTop-
h._bottomMargin;if(h.isLimited&&s<n)n=s;h.setHeight(n);k.notifyObservers(h,"resize",{width:h._width,height:h._height})};this._onDragLeftTopStart=function(n){h._onDragLeftStart(n);h._onDragTopStart(n)};this._onDragLeftTop=function(n){h._onDragLeft(n);h._onDragTop(n)};this._onDragLeftBottomStart=function(n){h._onDragLeftStart(n);h._onDragBottomStart(n)};this._onDragLeftBottom=function(n){h._onDragLeft(n);h._onDragBottom(n)};this._onDragRightBottomStart=function(n){h._onDragRightStart(n);h._onDragBottomStart(n)};
this._onDragRightBottom=function(n){h._onDragRight(n);h._onDragBottom(n)};this._onDragRightTopStart=function(n){h._onDragRightStart(n);h._onDragTopStart(n)};this._onDragRightTop=function(n){h._onDragRight(n);h._onDragTop(n)};k.addObserver(this["_dragController_"+g.t],"start",this._onDragTopStart);k.addObserver(this["_dragController_"+g.t],"move",this._onDragTop);k.addObserver(this["_dragController_"+g.t],"end",this._onDragEnd);k.addObserver(this["_dragController_"+g.r],"start",this._onDragRightStart);
k.addObserver(this["_dragController_"+g.r],"move",this._onDragRight);k.addObserver(this["_dragController_"+g.r],"end",this._onDragEnd);k.addObserver(this["_dragController_"+g.b],"start",this._onDragBottomStart);k.addObserver(this["_dragController_"+g.b],"move",this._onDragBottom);k.addObserver(this["_dragController_"+g.b],"end",this._onDragEnd);k.addObserver(this["_dragController_"+g.l],"start",this._onDragLeftStart);k.addObserver(this["_dragController_"+g.l],"move",this._onDragLeft);k.addObserver(this["_dragController_"+
g.l],"end",this._onDragEnd);k.addObserver(this["_dragController_"+g.rb],"start",this._onDragRightBottomStart);k.addObserver(this["_dragController_"+g.rb],"move",this._onDragRightBottom);k.addObserver(this["_dragController_"+g.rb],"end",this._onDragEnd);k.addObserver(this["_dragController_"+g.rt],"start",this._onDragRightTopStart);k.addObserver(this["_dragController_"+g.rt],"move",this._onDragRightTop);k.addObserver(this["_dragController_"+g.rt],"end",this._onDragEnd);k.addObserver(this["_dragController_"+
g.lt],"start",this._onDragLeftTopStart);k.addObserver(this["_dragController_"+g.lt],"move",this._onDragLeftTop);k.addObserver(this["_dragController_"+g.lt],"end",this._onDragEnd);k.addObserver(this["_dragController_"+g.lb],"start",this._onDragLeftBottomStart);k.addObserver(this["_dragController_"+g.lb],"move",this._onDragLeftBottom);k.addObserver(this["_dragController_"+g.lb],"end",this._onDragEnd)},setWidth:function(i){b.setStyle(this.effectEl,"width",i+"px");this._width=i},setHeight:function(i){b.setStyle(this.effectEl,
"height",i+"px");this._height=i},setLeft:function(i){b.setStyle(this.effectEl,"left",i+"px");this._left=i},setTop:function(i){b.setStyle(this.effectEl,"top",i+"px");this._top=i},getWidth:function(){return parseInt(b.getStyle(this.effectEl,"width"))},getHeight:function(){return parseInt(b.getStyle(this.effectEl,"height"))},getLeft:function(){return parseInt(b.getStyle(this.effectEl,"left"))},getTop:function(){return parseInt(b.getStyle(this.effectEl,"top"))},getId:function(){return m++},lock:function(){for(var i in g)this["_dragController_"+
g[i]].lock()},unlock:function(){for(var i in g)this["_dragController_"+g[i]].unlock()},show:function(){for(var i in g)this["_dragController_"+g[i]].show()},hide:function(){for(var i in g)this["_dragController_"+g[i]].hide()},setLimite:function(i){i=i||{};if(this.isLimited=i.isLimited||true){this._leftMargin=i.leftMargin||0;this._topMargin=i.topMargin||0;this._rightMargin=i.rightMargin||0;this._bottomMargin=i.bottomMargin||0}},setMinLimite:function(i){i=i||{};this.minWidth=i.minWidth||0;this.minHeight=
i.minHeight||0}})});
Jx().$package(function(e){e.ui=e.ui||{};var b=e.dom,k=e.event,m,g=function(){if(!m){var d=b.node("div",{"class":"dragMask"}),f=b.node("div",{"class":"dragProxy"});d.appendChild(f);b.getDoc().body.appendChild(d);m={maskEl:d,proxyEl:f}}return m},i=new e.Class({_zIndex:1,_inBorder:5,_outBorder:5,_windowFlag:0,init:function(d){e.profile("windowCreat"+d.windowId,"baseWindow");d=this.parseOption(d);this.subWinMarginLeft=this.subWinWidth=0;this.desktopIndex=d.desktopIndex;this.setPrivateProperty();this.appendTo=
d.appendTo;if(e.isUndefined(this._windowId))throw"[BaseWindow.init]: _windowId is undefined!";this.createDom();b.setStyle(this._window_outer,"zIndex",this.option.zIndex);this.createEvent();this.option.hideWinBorder&&this.hideWinBorder();this.option.hasToolBar&&this.showToolBar()},parseOption:function(){throw"parseOption does not implement a required interface(Error in BaseWindow.parseOption())";},setPrivateProperty:function(){throw"setPrivateProperty does not implement a required interface(Error in BaseWindow.setPrivateProperty())";
},getTemplate:function(){throw"getTemplate does not implement a required interface(Error in BaseWindow.getTemplate())";},initObserver:function(){var d=this;this.observer={onMousedown:function(){if(!e.browser.ie){b.setStyle(d._dragProxy.proxyEl,"left",d.getX()+d._outBorder+"px");b.setStyle(d._dragProxy.proxyEl,"top",d.getY()+d._outBorder+"px");b.setStyle(d._dragProxy.proxyEl,"width",d._width-d._outBorder*2+"px");b.setStyle(d._dragProxy.proxyEl,"height",d._height-d._outBorder*2+"px");b.setStyle(d._dragProxy.maskEl,
"zIndex",60002);b.show(d._dragProxy.maskEl)}},onMove:function(f){d._x=f.x;d._y=f.y;if(d.subMode==1&&d.isSubWinFloat&&d.subWin){var h=b.getRelativeXY(d._subBodyOuter,d.container.parentNode);d.subWin.setXY(h[0],h[1]+(e.browser.ie?2:0))}if(d.subMode==2){h=d.getX();var q=d.getY();d.subWin.setXY(h+d.getWidth(),q)}k.notifyObservers(d,"dragMove",f)},onBeforeDragStart:function(){k.notifyObservers(d,"beforeDragStart")},onDragStart:function(f){k.notifyObservers(d,"dragStart",f)},onDragEnd:function(f){d.mask&&
d.mask.hide();k.notifyObservers(d,"dragEnd",f)},onResize:function(f){f.width&&d.setWinWidth(f.width);f.height&&d.setWinHeight(f.height);k.notifyObservers(d,"resize",d.getBodySize())},onDragProxyEnd:function(f){if(f){b.hide(d._dragProxy.maskEl);d.setXY(f.x-d._outBorder,f.y-d._outBorder)}},onDragProxyResizeEnd:function(f){b.hide(d._dragProxy.maskEl);d.setXY(f.x-d._outBorder,f.y-d._outBorder);d.setWidth(f.width+d._outBorder*2);d.setHeight(f.height+d._outBorder*2);k.notifyObservers(d,"resize",d.getBodySize())}}},
initDomReference:function(){throw"initDomReference does not implement a required interface(Error in BaseWindow.initDomReference())";},initButtons:function(){throw"initButtons does not implement a required interface(Error in BaseWindow.initButtons())";},createEvent:function(){throw"createEvent does not implement a required interface(Error in BaseWindow.createEvent())";},getAppId:function(){return this._appId},getButton:function(d){return this["_"+d+"Button"]||null},getWindowFlags:function(){return this._windowFlag},
setWindowFlags:function(d){this._windowFlag=d},createDom:function(){e.out("CreateDom","baseWindow");var d=this._windowId;this.getId=function(){return d};var f=this.getTemplate();this.container=b.node("div",{id:"appWindow_"+d,"class":"window window_current"});this.container.innerHTML=f;this.appendTo.appendChild(this.container);this.initDomReference();e.out("initDomReference","baseWindow");this.initObserver();e.out("initObserver","baseWindow");this.initButtons();e.out("initButtons","baseWindow");this._width=
Number(this._width);this._height=Number(this._height);this.setWidth(this._width);this.setHeight(this._height);this._toolbarHeight=0;!e.isUndefined(this.option.x)&&!e.isUndefined(this.option.y)&&this.setXY(this.option.x,this.option.y);this.setTitle(this.option.title);this.option.html&&this.setHtml(this.option.html)},getTitleBarHeight:function(){return this._titleBarHeight||(this._titleBarHeight=b.getHeight(this._titleBar))},setTitle:function(d){d=e.string.encodeHtml(d);if(this.option.titleIcon)d='<span class="window_title_icon" style="background:url('+
this.option.titleIcon+') no-repeat center center;">&nbsp;&nbsp;&nbsp;&nbsp;</span>'+d;this._title.innerHTML=d},setTitleHtml:function(d){this._title.innerHTML=d},setToolBarHtml:function(d){this._toolBar.innerHTML=d},showToolBarBtn:function(){b.show(this._toggleToolbar)},hideToolBarBtn:function(){b.hide(this._toggleToolbar)},setToolbar:function(d){d?this.showToolBar():this.hideToolBar()},toggleToolBar:function(){this._toolbarIsShow?this.hideToolBar():this.showToolBar()},showToolBar:function(){},hideToolBar:function(){this._toolbarIsShow=
false;b.hide(this._toolBar);b.setStyle(this.body,"top","0px");this._toolbarHeight=0;this.setHeight(this.getBodyHeight());b.replaceClass(this._toggleToolbar,"app_toolbar_toggle_up","app_toolbar_toggle_down");this._toggleToolbar.title="\u5c55\u5f00\u5de5\u5177\u6761";alloy.util.report2app("apptoolbar|close")},isToolBarShow:function(){return this._toolbarIsShow},getToolBarHeight:function(){return this._toolbarHeight},getToolBar:function(){return this._toolButtonBar},setButton:function(d){for(var f in d){var h=
!!d[f],q=[];switch(f){case "hasRefreshButton":break;default:switch(this.windowType){case "window":switch(f){case "hasMaxButton":q.push(this._maxButton);q.push(this._restoreButton);break;case "hasMinButton":q.push(this._minButton)}break;case "widget":switch(f){case "hasPinUpButton":q.push(this._pinUpButton);q.push(this._pinDownButton)}}}if(q.length){e.array.forEach(q,function(n){n&&n.setAvailability(h)});q=null}}},showCloseButton:function(){this._closeButton&&this._closeButton.show()},showFullButton:function(){this._fullButton&&
this._fullButton.hide()},showMaxButton:function(){this._restoreButton&&this._restoreButton.hide();this._maxButton&&this._maxButton.show()},showRestoreButton:function(){this._maxButton&&this._maxButton.hide();this._restoreButton&&this._restoreButton.show()},showMinButton:function(){this._minButton&&this._minButton.show()},showRefreshButton:function(){this._refreshButton&&this._refreshButton.show()},showPinUpButton:function(){this._pinDownButton&&this._pinDownButton.hide();this._pinUpButton&&this._pinUpButton.show()},
showPinDownButton:function(){this._pinUpButton&&this._pinUpButton.hide();this._pinDownButton&&this._pinDownButton.show()},disableOkButton:function(d){this._okButton.disable(d)},showControlButton:function(d){b.show(this._controlArea);b.setStyle(this.body,"bottom","29px");b.addClass(this._window_outer,"window_has_controlArea");d.show()},hideControlArea:function(){b.hide(this._controlArea);b.setStyle(this.body,"bottom","0");b.removeClass(this._window_outer,"window_has_controlArea")},getButtons:function(){if(this._buttons)return this._buttons},
show:function(){b.show(this.container);b.getStyle(this.container,"visibility")&&b.setStyle(this.container,"visibility","visible");e.info(">>>> Window: show","baseWindow");k.notifyObservers(this,"show",this.getBodySize());this._isShow=true},hide:function(d){d?b.setStyle(this.container,"visibility","hidden"):b.hide(this.container);k.notifyObservers(this,"hide");this._isShow=false},isShow:function(){return this._isShow},toggleShow:function(){this.isShow()?this.hide():this.show()},setCurrent:function(d){this.setCurrentWithoutFocus(d);
this.focus()},setNotCurrent:function(){this.setWindowFlags(this.getWindowFlags()&~i.CONST.WINDOW_FLAG_CURRENT|i.CONST.WINDOW_FLAG_NOT_CURRENT);this.setStyleNotCurrent();k.notifyObservers(this,"setNotCurrent")},setCurrentWithoutFocus:function(d){if(d&&d.fromInit&&this.windowType==="widget"){this.show();this.setNotCurrent()}else{if(!(this.getWindowFlags()&i.CONST.WINDOW_FLAG_CURRENT)){this.setStyleCurrent();this.show();this.setWindowFlags(this.getWindowFlags()|i.CONST.WINDOW_FLAG_CURRENT)}k.notifyObservers(this,
"setCurrent")}},setStyleCurrent:function(){b.addClass(this.container,"window_current")},setStyleNotCurrent:function(){this.container&&b.removeClass(this.container,"window_current")},focus:function(){k.notifyObservers(this,"focus")},setBoxStatus:function(d){this._status=d},getBoxStatus:function(){return this._status},adjustSize:function(d,f,h,q){!e.isUndefined(h)&&!e.isUndefined(q)&&this.setXY(h,q);this.setWinWidth(d);this.setWinHeight(f);k.notifyObservers(this,"resize",this.getBodySize())},max:function(){if(!(this.getWindowFlags()&
i.CONST.WINDOW_FLAG_FULLSCREEN)){this._restoreX=this._x;this._restoreY=this._y}var d=this.getBoxStatus();this.setDisableDrag();this.setWindowFlags(this.getWindowFlags()&~i.CONST.WINDOW_FLAG_NORMAL|i.CONST.WINDOW_FLAG_MAX);this.setBoxStatus("max");this.showRestoreButton();k.notifyObservers(this,"max",d);k.notifyObservers(this,"resize",this.getBodySize())},fullscreen:function(){if(this.getWindowFlags()&i.CONST.WINDOW_FLAG_NORMAL){this._restoreX=this._x;this._restoreY=this._y}this.setDisableDrag();this.setWindowFlags(this.getWindowFlags()|
i.CONST.WINDOW_FLAG_FULLSCREEN);this.setBoxStatus("fullscreen");this._maxButton.hide();this._restoreButton.hide();this._fullButton.hide();this._restorefullButton.show();k.notifyObservers(this,"fullscreen",this.getBodySize());k.notifyObservers(this,"resize",this.getBodySize())},restorefull:function(){this.getWindowFlags()&i.CONST.WINDOW_FLAG_NORMAL?this.restore():this.max();this.setWindowFlags(this.getWindowFlags()&~i.CONST.WINDOW_FLAG_FULLSCREEN);k.notifyObservers(this,"restorefull",this.getBoxStatus());
k.notifyObservers(this,"resize",this.getBodySize())},min:function(){var d=this.getBoxStatus();this.setWindowFlags(this.getWindowFlags()&~i.CONST.WINDOW_FLAG_CURRENT|i.CONST.WINDOW_FLAG_NOT_CURRENT|i.CONST.WINDOW_FLAG_MIN);if(this.option.isVisibilityMode)this.hide(true);else this.option.flashMode||this.hide();this.setBoxStatus(d||"min");this._isShow=false;k.notifyObservers(this,"min");k.notifyObservers(this,"resize",this.getBodySize())},restore:function(){this.setWindowFlags(this.getWindowFlags()&
~i.CONST.WINDOW_FLAG_MAX|i.CONST.WINDOW_FLAG_NORMAL);this.setXY(this._restoreX,this._restoreY);if(this._restoreWidth<0)this._restoreWidth=0;if(this._restoreHeight<0)this._restoreHeight=0;this.setWidth(this._restoreWidth);this.setHeight(this._restoreHeight);this._dragController&&this._dragController.lock();this.setEnableDrag();if(this.option.hasMaxButton){this.showMaxButton();this._restorefullButton.hide();this.option.noFullButton&&this._fullButton.hide()}this.setBoxStatus("restore");k.notifyObservers(this,
"restore");k.notifyObservers(this,"resize",this.getBodySize())},setZIndexLevel:function(d){this.zIndexLevel=d},getZIndexLevel:function(){return this.zIndexLevel},setLockZIndex:function(d){this._isLockZIndex=d},isLockZIndex:function(){return this._isLockZIndex},setWidth:function(d){this.setBodyWidth(d)},setWinWidth:function(d){d=d||this._width;var f=this.isBorderHide?0:10;this._bodyWidth=d-f*2-this.option.bodyBorder*2-this.subWinWidth-this.subWinMarginLeft;this._width=d;b.setStyle(this.container,"width",
d+"px");b.setStyle(this._bodyOuter,"width",this._bodyWidth+this.subWinWidth+this.subWinMarginLeft+"px");b.setStyle(this.body,"width",this._bodyWidth+"px");b.setStyle(this._window_outer,"padding",f+"px");if(this.getBoxStatus()!=="max"&&this.getBoxStatus()!=="fullscreen")this._restoreWidth=this._bodyWidth},setBodyWidth:function(d){d=d||this._bodyWidth;var f;f=this.option.bodyBorder*2;if(this.isBorderHide){f=d+f;b.setStyle(this._window_outer,"padding","0px")}else{f=d+f+20;b.setStyle(this._window_outer,
"padding","10px")}this._bodyWidth=d;this._width=f=f+this.subWinWidth+this.subWinMarginLeft;b.setStyle(this.container,"width",f+"px");b.setStyle(this._bodyOuter,"width",d+this.subWinWidth+this.subWinMarginLeft+"px");b.setStyle(this.body,"width",d+"px");if(this.getBoxStatus()!=="max"&&this.getBoxStatus()!=="fullscreen")this._restoreWidth=this._bodyWidth},getBodyWidth:function(){return this._bodyWidth},getWidth:function(){return this._width},getWinWidth:function(){return this._width},getHeight:function(){return this._height},
getWinHeight:function(){return this._height},setHeight:function(d){this.setBodyHeight(d)},setWinHeight:function(d){d=d||this._height;var f=this.getTitleBarHeight(),h=this.option.bodyBorder*2,q=0,n=0;if(this._controlArea&&b.isShow(this._controlArea))q=29;if(this._toolbarHeight)n=this._toolbarHeight;if(this.isBorderHide){q=d;b.setStyle(this._window_outer,"padding","0px");b.setStyle(this._bodyOuter,"top","0");f=d-h}else{q=d-f-n-q-20-h;b.setStyle(this._window_outer,"padding","10px");b.setStyle(this._bodyOuter,
"top",f+"px");f=d-20-h}if(e.browser.ie==6)f-=f%2;b.setStyle(this._window_outer,"height",f+"px");this._bodyHeight=q+1;this._height=d;b.setStyle(this.body,"height",this._bodyHeight-h+"px");b.setStyle(this._bodyOuter,"height",this._bodyHeight+n-h+"px");b.setStyle(this.container,"height",d+"px");if(this.getBoxStatus()!=="max"&&this.getBoxStatus()!=="fullscreen")this._restoreHeight=this._bodyHeight;k.notifyObservers(this,"setNewHeight",d)},setBodyHeight:function(d){d=d||this._bodyHeight;var f=this.getTitleBarHeight(),
h=this.option.bodyBorder*2,q=0,n=0;if(this._controlArea&&b.isShow(this._controlArea))q=29;if(this._toolbarHeight)n=this._toolbarHeight;if(this.isBorderHide){q=d;b.setStyle(this._window_outer,"padding","0px");b.setStyle(this._bodyOuter,"top","0");f=q-h}else{q=d+f+n+q+20+h;b.setStyle(this._window_outer,"padding","10px");b.setStyle(this._bodyOuter,"top",f+"px");f=q-20-h}if(e.browser.ie==6)f-=f%2;b.setStyle(this._window_outer,"height",f+"px");this._bodyHeight=d+1;this._height=q;b.setStyle(this.body,"height",
this._bodyHeight-h+"px");b.setStyle(this._bodyOuter,"height",this._bodyHeight+n-h+"px");b.setStyle(this.container,"height",q+"px");if(this.getBoxStatus()!=="max"&&this.getBoxStatus()!=="fullscreen")this._restoreHeight=this._bodyHeight;k.notifyObservers(this,"setNewHeight",this._height)},getBodyHeight:function(){return this._bodyHeight},setWinSize:function(d){this.setWinWidth(d.width);this.setWinHeight(d.height);k.notifyObservers(this,"resize",this.getBodySize())},setBodySize:function(d){this.setBodyWidth(d.width);
this.setBodyHeight(d.height);k.notifyObservers(this,"resize",this.getBodySize())},getZIndex:function(){return this._zIndex},setZIndex:function(d){b.setStyle(this.container,"zIndex",d);b.setStyle(this._window_inner,"zIndex",d);this._zIndex=d},setXY:function(d,f){if(d||d===0)this.setX(d);if(f||f===0)this.setY(f)},setX:function(d){this._x=d;b.setStyle(this.container,"left",d+"px");k.notifyObservers(this,"positionChanged")},setY:function(d){this._y=d;b.setStyle(this.container,"top",d+"px");k.notifyObservers(this,
"positionChanged")},getX:function(){return parseInt(b.getStyle(this.container,"left"))},getRestoreX:function(){return this._restoreX},getRestoreY:function(){return this._restoreY},getLeft:function(){return this._x},getY:function(){return parseInt(b.getStyle(this.container,"top"))},getXY:function(){return{x:this.getX(),y:this.getY()}},getRestoreXY:function(){return{x:this.getRestoreX(),y:this.getRestoreY()}},setLeft:function(d){b.setStyle(this.container,"left",d+"px");b.setStyle(this.container,"right",
"")},setTop:function(d){b.setStyle(this.container,"top",d+"px");b.setStyle(this.container,"bottom","")},setRight:function(d){b.setStyle(this.container,"right",d+"px");b.setStyle(this.container,"left","")},setBottom:function(d){b.setStyle(this.container,"bottom",d+"px");b.setStyle(this.container,"top","")},setWindowCentered:function(){k.notifyObservers(this,"setCenter")},setWindowCenteredRelative:function(d){this.setX(d.getX()+(d.getWidth()-this._width)/2)},enableDrag:function(){this.option.dragable=
true;this.getBoxStatus()!=="max"&&this.getBoxStatus()!=="fullscreen"&&this.setEnableDrag()},disableDrag:function(){this.option.dragable=false;this.setDisableDrag()},enableDragProxy:function(){this.option.dragProxy=true},disableDragProxy:function(){this.option.dragProxy=false},setEnableDrag:function(){if(this.option.dragable){if(this._dragController){this.option.dragProxy&&k.on(this.container,"mousedown",this.observer.onMousedown);this._dragController.unlock()}else{if(this.option.dragProxy){this._dragProxy=
g();k.on(this.container,"mousedown",this.observer.onMousedown);this._dragController=new e.ui.Drag(this.container,this._dragProxy.proxyEl,{isLimited:true,clientEl:this.option.dragLimitEl||this.option.appendTo,leftMargin:this._leftMargin+this._outBorder,topMargin:this._topMargin+this._outBorder,rightMargin:this._rightMargin+this._outBorder,bottomMargin:this._bottomMargin+this._outBorder,isOverLeft:true,isOverRight:true,isLockCursorInScreen:true});k.addObserver(this._dragController,"end",this.observer.onDragProxyEnd)}else{this._dragController=
new e.ui.Drag(this.container,this.container,{isLimited:true,clientEl:this.option.dragLimitEl||this.option.appendTo,leftMargin:this._leftMargin,topMargin:this._topMargin,rightMargin:this._rightMargin,bottomMargin:this._bottomMargin,isOverLeft:true,isOverRight:true,isLockCursorInScreen:true});k.addObserver(this._dragController,"move",this.observer.onMove)}k.addObserver(this._dragController,"beforeStart",this.observer.onBeforeDragStart);k.addObserver(this._dragController,"start",this.observer.onDragStart);
k.addObserver(this._dragController,"end",this.observer.onDragEnd)}this.setEnableResize()}},setDisableDrag:function(){if(this._dragController){this._dragController.lock();this.option.dragProxy&&k.off(this.container,"mousedown",this.observer.onMousedown)}this.setDisableResize()},setDragLimite:function(d){this._dragController.setLimite(d)},onDrag:function(d){e.browser.ie&&e.browser.ie<=6&&(d.target.tagName=="A"||d.target.parentNode&&d.target.parentNode.tagName=="A")||this.startDrag([d.pageX,d.pageY])},
startDrag:function(d){var f=this,h=f.container.children[0];b.hide(h);f.mask&&f.mask.remove();f.mask=new e.ui.MaskLayer({appendTo:f.container,opacity:0});f.mask.show();b.show(h);if(typeof d!="undefined"){h=b.getClientXY(this.body);this._dragController.dragStartIn(d[0]+h[0],d[1]+h[1])}else{var q=function(n){f._dragController.dragStart(n);k.off(document,"mousemove",q)};k.on(document,"mousemove",q)}},enableResize:function(){this.option.resize=true;this.getBoxStatus()!=="max"&&this.setEnableResize()},
disableResize:function(){this.option.dragable=false;this.setDisableResize()},setEnableResize:function(){if(this.option.resize)if(this._resizeController){this.option.dragProxy&&k.addObserver(this._resizeController,"mousedown",this.observer.onMousedown);this._resizeController.show()}else{if(this.option.dragProxy){this._dragProxy=g();this._resizeController=new e.ui.Resize(this._window_inner,this._dragProxy.proxyEl,{isLimited:true,leftMargin:this._leftMargin,topMargin:this._topMargin,rightMargin:this._rightMargin,
bottomMargin:this._bottomMargin,minWidth:this._minWidth,minHeight:this._minHeight,dragProxy:this._dragProxy});k.addObserver(this._resizeController,"mousedown",this.observer.onMousedown);k.addObserver(this._resizeController,"end",this.observer.onDragProxyResizeEnd)}else{this._resizeController=new e.ui.Resize(this._window_inner,this.container,{isLimited:true,leftMargin:this._leftMargin,topMargin:this._topMargin,rightMargin:this._rightMargin,bottomMargin:this._bottomMargin,minWidth:this._minWidth,minHeight:this._minHeight});
k.addObserver(this._resizeController,"resize",this.observer.onResize)}k.addObserver(this._resizeController,"mousedown",this.observer.onDragStart);k.addObserver(this._resizeController,"end",this.observer.onDragEnd)}},setDisableResize:function(){if(this._resizeController){this._resizeController.hide();this.option.dragProxy&&k.removeObserver(this._resizeController,"mousedown",this.observer.onMousedown)}},setLimite:function(d){d=d||{};if(this.isLimited){this._leftMargin=d.leftMargin;this._topMargin=d.topMargin;
this._rightMargin=d.rightMargin;this._bottomMargin=d.bottomMargin}},setMinLimite:function(d){if(this._resizeController){this._resizeController.setWidth(this._width);this._resizeController.setMinLimite(d)}},setHtml:function(d){this.html=d;this.body.innerHTML=d},setBorderOpacity:function(d){e.browser.ie&&e.browser.ie<9||b.setStyle(this._bg_container,"opacity",d)},setOpacity:function(d){e.browser.ie&&e.browser.ie<9||b.setStyle(this.container,"opacity",d)},append:function(d){this.body.appendChild(d)},
getSize:function(){return{width:b.getClientWidth(this.container),height:b.getClientHeight(this.container)}},getBodySize:function(){return{width:parseInt(b.getStyle(this.body,"width"),10),height:parseInt(b.getStyle(this.body,"height"),10)}},getSelfDomObj:function(){return this.container},hideWinBorder:function(){if(!this.isBorderHide){this.isBorderHide=true;b.hide(this._window_bg);b.hide(this._titleBar);this.setWidth(this.getBodyWidth());this.setHeight(this.getBodyHeight())}},showWinBorder:function(){if(this.isBorderHide){this.isBorderHide=
false;b.show(this._window_bg);b.show(this._titleBar);this.setWidth(this.getBodyWidth());this.setHeight(this.getBodyHeight())}},toggleWinBorder:function(){this.isBorderHide?this.showWinBorder():this.hideWinBorder()},setSubMode:function(d,f){switch(d){case 1:this.setSubWinInner(f);break;case 2:this.setSubWinFollow(f);break;default:this.setSubWinNone(f)}this.subMode=d},setSubWinInner:function(d){d=d||{};this.subMode=1;this.subWinWidth=this.subWinWidth||200;this.subWinMarginLeft=10;var f=this.getId();
if(this.getBoxStatus()!="fullscreen"&&this.getBoxStatus()!="max"){this.setBodyWidth(d.width||this._bodyWidth);this.setBodyHeight(d.height||this._bodyHeight)}else{this.setWinWidth();this.setWinHeight()}if(this._subBodyOuter)b.show(this._subBodyOuter);else{this._subBodyOuter=b.node("div",{"class":"window_bodyArea",id:"window_sub_body_"+f});this._bodyOuter.appendChild(this._subBodyOuter)}b.setStyle(this._subBodyOuter,"width",this.subWinWidth+"px");b.setStyle(this._subBodyOuter,"height",this._bodyHeight+
"px");b.setStyle(this._subBodyOuter,"right","5px");b.setStyle(this.subWin.container,"left","0");b.setStyle(this.subWin.container,"top","0");this.subWin.hideWinBorder();if(this.isSubWinFloat){f=b.getRelativeXY(this._subBodyOuter,this.container.parentNode);this.subWin.setXY(f[0],f[1]+(e.browser.ie?2:0))}else this._subBodyOuter.appendChild(this.subWin.container);this.setCurrent();d.isSubWinFloat&&this.subWin.setZIndex(this.getZIndex()+1);this.setMinLimite({minWidth:this._width,minHeight:this._height})},
hideSubWinInner:function(){this.subWinMarginLeft=this.subWinWidth=0;this.subWin.showWinBorder();this.setBodyWidth(this._bodyWidth);this._subBodyOuter&&b.hide(this._subBodyOuter);var d=this.getX(),f=this.getY();this.subWin.setXY(d+this.getWidth(),f);this.isSubWinFloat||this.subWin.option.appendTo.appendChild(this.subWin.container);d=this._restoreX;f=this._restoreY;if(this.getBoxStatus()=="fullscreen"){this.fullscreen();this._restoreX=d;this._restoreY=f;this._restoreWidth=this.option.width;this._restoreHeight=
this.option.height}else if(this.getBoxStatus()=="max"){this.max();this._restoreX=d;this._restoreY=f;this._restoreWidth=this.option.width;this._restoreHeight=this.option.height}else{this.setWidth(this.option.width);this.setHeight(this.option.height)}this.setMinLimite({minWidth:this._minWidth,minHeight:this._minHeight})},setSubWinFollow:function(){this.subMode!=2&&this.removeSubordinate();this.subMode=2;var d=this.getX(),f=this.getY();this.subWin.setXY(d+this.getWidth(),f);var h=this,q=function(){h.setSubWinNone();
k.removeObserver(this.subWin._dragController,"move",q)};k.addObserver(this.subWin._dragController,"move",q)},setSubWinNone:function(){if(this.subMode!=0){this.subMode=0;this.hideSubWinInner()}},getSubMode:function(){return this.subMode},addSubordinate:function(d,f){if(!this.subWin){this.subWin=d;if(f.subWinWidth)this.subWinWidth=f.subWinWidth;var h=!f||!f.mode?1:f.mode;this.isSubWinFloat=f.isSubWinFloat?true:false;this.setSubMode(h,f)}},removeSubordinate:function(){if(this.subWin){this.setSubMode(0);
this.subWin=null;this.subWinWidth=0;this.isSubWinFloat=false}},close:function(){if(k.notifyObservers(this,"beforeClose",this)===false)return false;if(k.notifyObservers(this,"close",this)===false)return false;this.destroy();k.notifyObservers(this,"afterClose",this)},destroy:function(){k.notifyObservers(this,"destroy",this);var d=this.container.parentNode;this.container.innerHTML="";d.removeChild(this.container);for(var f in this)this.hasOwnProperty(f)&&delete this[f];this._isDestroy=true},isDestroy:function(){return this._isDestroy}});
i.CONST={WINDOW_FLAG_MIN:1,WINDOW_FLAG_NORMAL:2,WINDOW_FLAG_MAX:4,WINDOW_FLAG_CURRENT:8,WINDOW_FLAG_NOT_CURRENT:16,WINDOW_FLAG_FULLSCREEN:32};e.ui.BaseWindow=i});
Jx().$package(function(e){var b=e.dom,k=e.event,m=new e.Class({init:function(g){g=g||{};this.id=g.id;this.name=g.name;this.container=g.container;this.body=g.body||g.container;g.html=g.html||"";g.html&&this.setHtml(g.html);b.isShow(this.container)?this.show():this.hide()},setHtml:function(g){this.html=g;this.body.innerHTML=g},append:function(g){this.body.appendChild(g)},getSize:function(){return{width:b.getClientWidth(this.container),height:b.getClientHeight(this.container)}},getBodySize:function(){return{width:parseInt(b.getStyle(this.body,
"width"),10),height:parseInt(b.getStyle(this.body,"height"),10)}},show:function(){b.show(this.container);k.notifyObservers(this,"show",this.getBodySize());this._isShow=true},hide:function(){b.hide(this.container);k.notifyObservers(this,"hide");this._isShow=false},isShow:function(){return this._isShow},toggleShow:function(){this.isShow()?this.hide():this.show()},getZIndex:function(){return this._zIndex},setZIndex:function(g){b.setStyle(this.container,"zIndex",g);this._zIndex=g},setXY:function(g,i){this.setX(g);
this.setY(i)},setX:function(g){b.setStyle(this.container,"left",g+"px")},setY:function(g){b.setStyle(this.container,"top",g+"px")},setWidth:function(g){b.setStyle(this.container,"width",g+"px")},getWidth:function(){return parseInt(b.getStyle(this.container,"width"))},setHeight:function(g){b.setStyle(this.container,"height",g+"px")},getHeight:function(){return parseInt(b.getStyle(this.container,"height"))}});e.ui=e.ui||{};e.ui.Panel=m});
Jx().$package(function(e){var b=e.dom,k=e.event;e.ui=e.ui||{};var m=new e.Class({init:function(g){var i=this;g=g||{};this._id=g.id||(new Date).getTime();g.name=g.id;g.width=g.width||300;g.height=g.height||300;g.appendTo=g.appendTo||document.body;g.zIndex=g.zIndex||1;var d=b.node("div",{"class":"ui_boxy"});d.innerHTML='\t\t\t\t<div style="position:relative; z-index:1;"><div class="ui_boxyClose" id="ui_boxyClose_'+this._id+'"></div></div>\t\t\t\t<div class="ui_boxyWrapper" id="ui_boxyWrapper_'+this._id+
'"></div>\t\t\t\t';g.appendTo.appendChild(d);g.container=d;g.body=b.id("ui_boxyWrapper_"+this._id);this._option=g;this._panel=new e.ui.Panel(g);this._panel.setWidth(g.width);this._panel.setHeight(g.height);if(g.modal){this._maskLayer=new e.ui.MaskLayer({appendTo:g.appendTo,zIndex:g.zIndex,opacity:0.5});this._maskLayer.show()}this._panel.setZIndex(g.zIndex+1);this.setCenter(g);new e.ui.Drag(d,d,{isLimited:true});d=b.id("ui_boxyClose_"+this._id);this._wrapper=b.id("ui_boxyWrapper_"+this._id);k.on(d,
"click",function(){i.close();g.onClose&&g.onClose.apply(i);k.notifyObservers(i,"close")})},getPanel:function(){return this._panel},show:function(){this._panel.show()},hide:function(){this._panel.hide()},setZIndex:function(g){this._panel.setZIndex(g)},setCenter:function(g){var i=b.getClientWidth(),d=b.getClientHeight();this._panel.setXY(i>g.width?(i-g.width)/2:0,d>g.height?(d-g.height)/2:0)},isShow:function(){return this._panel.isShow()},close:function(){this._maskLayer&&this._maskLayer.remove();this._option.appendTo.removeChild(this._option.container)}});
e.ui.Boxy=m});
Jet().$package(function(e){var b=e.dom,k=e.event;e.ui=e.ui||{};var m=e.ui.Bubble=e.Class({init:function(g){g=g||{};g=this.option=e.extend({bubbleParent:document.body,className:"",hasCloseButton:true,closeOnHide:false,zIndex:1E6},g);var i=this._getId(),d='<div id="bubble_tip_pointer_'+i+'" class="bubble_tip_pointer bubble_tip_pointer_left"></div>\t            <div class="bubble_tip_head"></div>\t            <div class="bubble_tip_body">\t                <div class="bubble_tip_title"><a id="bubble_tip_close_'+i+
'" href="###" class="bubble_tip_close" title="\u5173\u95ed">x</a>                        <span id="bubble_tip_title_'+i+'"></span></div>\t                <div id="bubble_tip_content_'+i+'" class="bubble_tip_content"></div>\t            </div>\t            <div id="bubble_tip_foot_'+i+'" class="bubble_tip_foot">\t                <a id="bubble_tip_btn_next_'+i+'" href="###" class="bubble_tip_btn"></a>                    <a id="bubble_tip_btn_ok_'+i+'" href="###" class="bubble_tip_btn"></a>\t            </div>                <iframe width="100%" height="100%" class="bubble_tip_bg_iframe" src="about:blank"></iframe>',
f=b.node("div",{"class":"bubble_tip_container "+g.className});f.innerHTML=d;b.setCssText(f,"left: -10000px; top: 0px; z-index: "+g.zIndex+";");g.bubbleParent.appendChild(f);this._container=f;this._title=b.id("bubble_tip_title_"+i);this._content=b.id("bubble_tip_content_"+i);this._pointer=b.id("bubble_tip_pointer_"+i);this._okBtn=b.id("bubble_tip_btn_ok_"+i);this._nextBtn=b.id("bubble_tip_btn_next_"+i);this._closeBtn=b.id("bubble_tip_close_"+i);g.hasCloseButton||b.hide(this._closeBtn);var h=this;g=
{onCloseBtnClick:function(q){q.preventDefault();q.stopPropagation();k.notifyObservers(h,"onBubbleClose",h);h.hide()},onOkButtonClick:function(q){q.preventDefault();q.stopPropagation();k.notifyObservers(h,"onBubbleOkBtnClick",h);h.hide()},onNextButtonClick:function(q){q.preventDefault();q.stopPropagation();k.notifyObservers(h,"onBubbleNextBtnClick",h)}};k.on(this._closeBtn,"click",g.onCloseBtnClick);k.on(this._okBtn,"click",g.onOkButtonClick);k.on(this._nextBtn,"click",g.onNextButtonClick)},getElement:function(){return this._container},
show:function(g){g=g||{};g=e.extend({pointerPosition:"top right",pointerOffset:20,pointerSize:[18,12],position:[0,0],target:null,targetOffset:[0,0]},g);if(!this._checkPointerPosition(g.pointerPosition))throw Error("Bubble >>>> the pointerPosition's value is not correct");this._setPointerPosition(g.pointerPosition,g.pointerOffset);this._setBubblePosition(g);b.show(this._container)},setZIndex:function(g){b.setStyle(this._container,"zIndex",g)},setContainerStyle:function(g,i){b.setStyle(this._container,
g,i)},setTitle:function(g){this._title.innerHTML=g},setContent:function(g){this._content.innerHTML=g},showButton:function(g,i,d){g=this["_"+g+"Btn"];d=e.isUndefined(d)?false:true;if(g){g.innerHTML=i;b.show(g);d?b.addClass(g,"bubble_tip_btn_next"):b.addClass(g,"bubble_tip_btn_ok")}return g},hideButton:function(g){(g=this["_"+g+"Btn"])&&b.hide(g)},hide:function(){b.hide(this._container);this.option.closeOnHide&&this.close()},close:function(){if(this._isClosed)e.warn("Trying to close a closed bubbleTip!",
"BubbleTip");else{this._isClosed=true;k.off(this._closeBtn,"click");k.off(this._okBtn,"click");k.off(this._nextBtn,"click");this._container.parentNode&&this._container.parentNode.removeChild(this._container);for(var g in this)this.hasOwnProperty(g)&&delete this[g]}},isClose:function(){return this._isClosed},_getId:function(){if(!m.__id)m.__id=0;return m.__id++},_setPointerPosition:function(g,i){var d=g.split(" "),f=this._pointer;b.setClass(f,"bubble_tip_pointer bubble_tip_pointer_"+d[0]);b.setCssText(f,
"");b.setStyle(f,d[1],i+"px")},_setBubblePosition:function(g){var i=g.position;if(g.target){var d=g.pointerPosition.split(" "),f=this._calculateBubblePosition(g.target,g.pointerSize,g.pointerOffset),h=0;if(/top|bottom/.test(d[0]))h=1;i[0]=f[d[h]+h];h=(h+1)%2;i[1]=f[d[h]+h]}d=i[1]+g.targetOffset[1];b.setStyle(this._container,"left",i[0]+g.targetOffset[0]+"px");b.setStyle(this._container,"top",d+"px")},_calculateBubblePosition:function(g,i,d){var f=this._container,h=b.getClientXY(g),q=b.getOffsetWidth(f);
f=b.getOffsetHeight(f);var n=b.getWidth(g);g=b.getHeight(g);var s=h[0];h=h[1];d=d+i[0]/2;i=i[1];return{top0:h+g+i,bottom0:h-f-i,left0:s+n+i,right0:s-q-i,top1:h+g/2-d,bottom1:h+g/2-f+d,left1:s+n/2-d,right1:s+n/2-q+d}},_checkPointerPosition:function(g){g=g.split(" ");var i=/left|right/,d=/top|bottom/;if(d.test(g[0])&&i.test(g[1]))return true;else if(i.test(g[0])&&d.test(g[1]))return true;return false}})});
Jx().$package(function(e){var b=e.dom,k=e.string,m=e.event,g=0;e.ui=e.ui||{};e.ui.Button=new e.Class({_class:"ui_button",_available:true,_shownInLogic:false,_getButtionId:function(){return g++},init:function(i){i=i||{};var d=this._getButtionId(),f={appendTo:b.getDocumentElement(),className:"",text:"",title:""};e.extend(f,i);this._node=b.node("a",{id:"ui_button_"+d,"class":this._class+" "+k.encodeScript(f.className),title:k.encodeScript(f.title),hidefocus:"",href:"###"});this._node.innerHTML=k.encodeHtml(f.text);
f.appendTo.appendChild(this._node);f.event&&this.attachEvent(f.event);if(f.isStopPropagation){m.on(this._node,"mousedown",function(h){h.stopPropagation()});m.on(this._node,"click",function(h){h.stopPropagation()})}},attachEvent:function(i){for(var d in i)m.on(this._node,d,i[d])},removeEvent:function(i){for(var d in i)m.off(this._node,d,i[d])},setAvailability:function(i){this._available=!!i;this._shownInLogic&&b[this._available?"show":"hide"](this._node)},hide:function(){this._shownInLogic=false;if(this._available){b.hide(this._node);
m.notifyObservers(this,"hide")}},show:function(){this._shownInLogic=true;if(this._available){b.show(this._node);m.notifyObservers(this,"show")}},setText:function(i){this._node.innerHTML=k.encodeHtml(i)},setTitle:function(i){this._node.title=k.encodeScript(i)},getNode:function(){return this._node},disable:function(i){(i=i||false)?b.addClass(this._node,"window_button_disabled"):b.removeClass(this._node,"window_button_disabled")}})});
Jx().$package(function(e){var b=e.event,k=null;e.ui=e.ui||{};var m=new e.Class({extend:e.ui.Panel},{callSuper:function(g){var i=Array.prototype.slice,d=i.call(arguments,1);m.superClass[g].apply(this,d.concat(i.call(arguments)))},init:function(g){this.parentPopupBox=g.parentPopupBox;this.callSuper("init",g);var i=this;this.catchMouseUp=true;if(g.noCatchMouseUp)this.catchMouseUp=false;this.closeOnEsc=true;if(g.noCloseOnEsc)this.closeOnEsc=false;this.onDocumentKeydown=function(d){if(d.keyCode===27){d.preventDefault();
i.hide()}};this.onMouseUp=function(){i.isShow()&&i.hide()};this.onDocumentClick=function(){i.hide()};this.onWindowResize=function(){i.hide()}},show:function(){k&&this.parentPopupBox!=k&&k.hide();this.catchMouseUp&&b.on(document.body,"mouseup",this.onMouseUp);this.closeOnEsc&&b.on(document,"keydown",this.onDocumentKeydown);b.on(document.body,"click",this.onDocumentClick);b.on(window,"resize",this.onWindowResize);this.parentPopupBox||(k=this);this.callSuper("show")},hide:function(){b.off(document.body,
"click",this.onDocumentClick);b.off(document,"keydown",this.onDocumentKeydown);b.off(window,"resize",this.onWindowResize);b.off(document.body,"mouseup",this.onMouseUp);if(k)if(!this.parentPopupBox){k!==this&&k.hide();k=null}this.callSuper("hide")},destroy:function(){this.container.parentNode.removeChild(this.container)}});e.ui.PopupBox=m});
Jet().$package(function(e){var b=e.dom,k=e.event,m=0,g=0,i={},d={},f=function(a){a.preventDefault();a.stopPropagation()};e.ui=e.ui||{};var h=e.ui.ContextMenu=new e.Class({init:function(a){var c=this,j=this.id="context_menu_"+(a.id||m++),l=a.name||j,r=this._parent=a.container||(a.parentMenu?a.parentMenu._parent:null)||document.body,u=a.className||"";this.parentMenu=a.parentMenu;c=this;var x=this._el=b.id(j)||b.node("div",{id:j,"class":"context_menu",style:"display: none;"});u='<div class="context_menu_container "'+
u+'"><ul id="'+j+'_body" class="context_menu_item_list"></ul></div>';if(e.browser.ie)u+='<iframe class="context_menu_iframe" src="'+alloy.CONST.MAIN_URL+'domain.html"></iframe>';x.innerHTML=u;r.appendChild(x);a.width&&b.setStyle(x,"width",a.width+"px");this._body=b.id(j+"_body");k.off(x,"contextmenu");k.on(x,"contextmenu",f);k.addObserver(document,"beforeStart",function(){c.isShow()&&c.hide()});this._popupBox=new e.ui.PopupBox({id:j,name:l,noCatchMouseUp:true,parentPopupBox:this.parentMenu?this.parentMenu._popupBox:
null,container:x});k.addObserver(this._popupBox,"hide",function(){c.hideSubmenu();k.notifyObservers(c,"onHide")});this.setZIndex(9E6);this._itemArr=[];this._key2Item={};if(a.items){this._items_config=a.items;this.addItems(a.items)}if(a.triggers){l=a.triggerEvent||"contextmenu";r=function(w){w.preventDefault();c.show(w.clientX,w.clientY)};for(x=0;u=a.triggers[x];x++)k.on(u,l,r)}a.beforeShow&&k.addObserver(this,"BeforeShow",a.beforeShow);i[j]=this},getId:function(){return this.id},setClass:function(a){b.setClass(this._el,
"context_menu "+a)},addItem:function(a){var c=a.type||"item";a.parentMenu=this;switch(c){case "item":a=new q(a);break;case "flash":a=new n(a);break;case "separator":a=new s(a);break;case "submenu":a.parentMenu=this;a=new o(a);break;default:a=null}if(a){this._body.appendChild(a.getElement());this._itemArr.push(a)}},addItems:function(a){for(var c=0,j=a.length;c<j;c++)this.addItem(a[c])},refresh:function(){if(this._items_config){this.clearItems();this.addItems(this._items_config)}},clearItems:function(){for(var a=
this._itemArr.shift();a;){this._body.removeChild(a.getElement());a.destory();a=this._itemArr.shift()}},removeItemAt:function(a){for(var c=0;c<this._itemArr.length;c++){var j=this._itemArr[c];if(a==c&&j){this._body.removeChild(j.getElement());j.destory();this._itemArr.splice(c,1)}}},getItemAt:function(a){if(a<this._itemArr.length){if(a<0)a=this._itemArr.length+a;return this._itemArr[a]}else return null},getElement:function(){return this._el},getBody:function(){return this._body},setZIndex:function(a){this._popupBox.setZIndex(a)},
getZIndex:function(){return this._popupBox.getZIndex()},setArgument:function(a){this._argument=a},getArgument:function(){return this._argument},show:function(a,c,j,l){k.notifyObservers(this,"BeforeShow",this);a=a||0;c=c||0;j=typeof j==="undefined"?5:j;var r=this._popupBox,u=a+j,x=c+j,w=0,E=0,C=e.browser.ie;if(l){w=b.getOffsetWidth(l);E=b.getOffsetHeight(l);u+=w+5;x-=1;if(C==9||C==8)u+=2}r.setX("-10000");r.show();l=b.getClientWidth(this._el);var K=b.getClientHeight(this._el),G=b.getClientWidth(),z=
b.getClientHeight();if(u+l>G&&a-l-j>0)if(w){u=a-l-j-5;if(C==9||C==8)u+=2}else u=a-l-j;if(x+K>z&&c-K-j>0)x=E?c-K-j+E+1:c-K-j;r.setXY(u,x);k.notifyObservers(this,"onShow",this)},hide:function(){this._popupBox.hide();k.notifyObservers(this,"onHide",this)},hideSubmenu:function(){for(var a in this._itemArr)this._itemArr[a].getSubmenu&&this._itemArr[a].getSubmenu().hide()},isShow:function(){return this._popupBox.isShow()},destory:function(){this._el.innerHTML="";k.off(this._el,"contextmenu");this.clearItems();
for(var a in this)this.hasOwnProperty(a)&&delete this[a]}});h.getMenu=function(a){return i[a]};var q=e.ui.ContextMenuItem=new e.Class({init:function(a){var c={title:a.title||a.text||"",text:a.text||"",link:a.link||"javascript:void(0);",icon:a.icon||null,enable:typeof a.enable==="undefined"?true:a.enable,onClick:a.onClick||null,argument:a.argument};this.option=c;this.parentMenu=a.parentMenu;a=this._el=b.node("li",{"class":"context_menu_item_container"});this.render();c.enable?this.enable():this.disable();
var j=this;k.on(a,"click",c.onClick?function(l){l.preventDefault();j._isEnable&&c.onClick.call(this,l,j,j.parentMenu)}:function(l){l.preventDefault()})},setText:function(a,c){this.option.text=a;this.option.title=c||a;this.render()},setIcon:function(a){this.option.icon=a;this.render()},render:function(){var a=this.option,c='<a class="context_menu_item" href="'+a.link+'" title="'+a.title+'">';if(a.icon){var j=a.icon;c+='<span class="context_menu_item_icon '+(j.className||"")+'" style="'+((j.style||
"")+(j.url?"background-image: url("+j.url+");":""))+'"></span>'}c+='<span class="context_menu_item_text">'+a.text+"</span>";c+="</a>";this._el.innerHTML=c},getElement:function(){return this._el},show:function(){b.show(this._el)},hide:function(){b.hide(this._el)},disable:function(){this._isEnable=false;b.addClass(this._el,"context_menu_item_disable")},enable:function(){this._isEnable=true;b.removeClass(this._el,"context_menu_item_disable")},destory:function(){this._el.innerHTML="";k.off(this._el,"click");
for(var a in this)this.hasOwnProperty(a)&&delete this[a]}}),n=e.ui.FlashContextMenuItem=new e.Class({init:function(a){var c={title:a.title||a.text||"",text:a.text||"",link:a.link||"javascript:void(0);",icon:a.icon||null,enable:typeof a.enable==="undefined"?true:a.enable,onClick:a.onClick||null,folderId:a.folderId||-1,argument:a.argument};this.option=c;this.parentMenu=a.parentMenu;a=this._el=b.node("li",{"class":"context_menu_item_container"});var j=this._flashLi=b.node("li",{"class":"context_menu_item_container"}),
l=this._itemId="context_menu_flashItem_"+ ++g;l=this._flashUl=b.node("ul",{id:l,"class":"context_menu_item_list context_menu_flashitem_item"});d[g]=l;l.appendChild(j);this.render();document.body.appendChild(l);c.enable?this.enable():this.disable();var r=this;k.on(a,"click",c.onClick?function(u){u.preventDefault();r._isEnable&&c.onClick.call(this,u,r,r.parentMenu)}:function(u){u.preventDefault()});r=this;a={onShow:function(){var u=b.getClientXY(r._el),x=0,w=0;if(e.browser.ie){w=x=2;if(e.browser.ie==
6||e.browser.ie==7)w=1}b.setXY(r._flashUl,u[0]+x+"px",u[1]+w+"px");b.setStyle(r._flashUl,"width",b.getClientWidth(r._el)+"px");b.setStyle(r._flashUl,"height",b.getClientHeight(r._el)+"px");b.setStyle(r._flashUl,"zIndex",r.parentMenu.getZIndex()+1);alloy.portal.getLoginLevel()>1&&alloy.storage.getDefaultDisk()?r._flashUploader.showFileSelector():r._flashUploader.hideFileSelector()},onHide:function(){b.setXY(r._flashUl,0,0);b.setStyle(r._flashUl,"width","1px");b.setStyle(r._flashUl,"height","1px")}};
k.addObserver(this.parentMenu,"onShow",a.onShow);k.addObserver(this.parentMenu,"onHide",a.onHide)},setText:function(){},setIcon:function(){},render:function(){var a=this.option;this._el.innerHTML='<a class="context_menu_item" href="'+a.link+'"></a>';var c='<a class="context_menu_item" href="'+a.link+'" title="'+a.title+'">';if(a.icon){var j=a.icon;c+='<span class="context_menu_item_icon '+(j.className||"")+'" style="'+((j.style||"")+(j.url?"background-image: url("+j.url+");":""))+'"></span>'}c+='<div class="explorer_upload_holder2" style="padding:0 5px"></div>';
c+="</a>";this._flashLi.innerHTML=c;a={callback:"alloy.flashUploadManager.flashEventListener",mode:0,autoshow:false,holder:b.mini(".explorer_upload_holder2",this._flashLi)[0],text:'<span class="context_menu_item_text">'+a.text+"</span>",width:"100%",height:"100%",extInfo:'{"folderId":'+this.option.folderId+"}"};this._flashUploader=new alloy.flashUploadManager.FlashUploader(a);b.setXY(this._flashUl,0,0);b.setStyle(this._flashUl,"width","1px");b.setStyle(this._flashUl,"height","1px")},getElement:function(){return this._el},
show:function(){b.show(this._el)},hide:function(){b.hide(this._el)},disable:function(){this._isEnable=false;b.addClass(this._el,"context_menu_item_disable")},enable:function(){this._isEnable=true;b.removeClass(this._el,"context_menu_item_disable")},destory:function(){this._el.innerHTML="";this._flashUl.innerHTML="";document.body.removeChild(this._flashUl);k.off(this._el,"click");for(var a in this)this.hasOwnProperty(a)&&delete this[a]}});n.getItem=function(a){return d[a]};var s=e.ui.ContextMenuSeparator=
new e.Class({init:function(){(this._el=b.node("li",{"class":"context_menu_separator_container"})).innerHTML='<span class="context_menu_separator"></span>'},getElement:function(){return this._el},show:function(){b.show(this._el)},hide:function(){b.hide(this._el)},destory:function(){this._el.innerHTML="";for(var a in this)this.hasOwnProperty(a)&&delete this[a]}}),o=e.ui.ContextSubmenuItem=new e.Class({extend:q},{init:function(a){if(!a.items)throw Error("J.ui.ContextSubmenuItem: option.items is null!");
a.title=a.title||a.text||"";var c={title:null,text:"",autoHide:true,link:"javascript:void(0);",icon:null,enable:true,subWidth:null,parentMenu:a.parentMenu};delete a.parentMenu;a=this.option=e.extend(c,a);this.parentMenu=a.parentMenu;var j=this._el=b.node("li",{"class":"context_menu_item_container"});this.render();a.enable?this.enable():this.disable();this._submenu=new h({parentMenu:a.parentMenu,width:a.subWidth,beforeShow:a.beforeShow,items:a.items});var l=this,r=l.sunmenuTimer=0,u=function(){l._submenu.isShow()&&
l._submenu.hide()},x={onItemMouseenter:function(w){w.stopPropagation();if(l._isEnable){w=b.getClientXY(this);l._submenu.setZIndex(l.parentMenu.getZIndex());l._submenu.show(w[0],w[1],0,this)}},onItemMouseleave:function(){if(r){window.clearTimeout(r);r=0}r=window.setTimeout(u,200)},onSubmenuMouseenter:function(){if(r){window.clearTimeout(r);r=0}b.addClass(j,"context_menu_item_hover")},onSubmenuMouseleave:function(w){x.onItemMouseleave(w)},onSubmenuShow:function(){b.addClass(j,"context_menu_item_hover")},
onSubmenuHide:function(){b.removeClass(j,"context_menu_item_hover")}};c=l._submenu.getElement();k.on(j,"mouseenter",x.onItemMouseenter);if(a.autoHide){k.on(j,"mouseleave",x.onItemMouseleave);k.on(c,"mouseenter",x.onSubmenuMouseenter);k.on(c,"mouseleave",x.onSubmenuMouseleave)}k.addObserver(l._submenu,"onHide",x.onSubmenuHide);k.on(j,"click",a.onClick?function(w){w.preventDefault();if(l._isEnable){a.onClick.call(this,w,l);x.onItemMouseenter.call(this,w)}}:function(w){w.preventDefault();x.onItemMouseenter.call(this,
w)})},getSubmenu:function(){return this._submenu},render:function(){var a=this.option,c='<a class="context_menu_item" href="'+a.link+'" title="'+a.title+'">';if(a.icon){var j=a.icon;c+='<span class="context_menu_item_icon '+(j.className||"")+'" style="'+((j.style||"")+(j.url?"background-image: url("+j.url+");":""))+'"></span>'}c+='<span class="context_menu_item_text">'+a.text+'</span><span class="context_menu_item_subicon"></span></a>';this._el.innerHTML=c}})});
Jet().$package(function(e){var b=e.dom,k=e.event;e.ui=e.ui||{};e.ui.DivSelect=new e.Class({init:function(m,g,i,d,f,h){this._selectName=g;this._dataObj=i;this._selOption=d;this._isUpper=h||false;i=i.data;m=document.getElementById(m);if(!m||typeof m==="undefined")return false;h=document.createElement("div");if(isNaN(f)||f=="")f=150;else if(f<26)f=26;h.style.width=f;var q="";if(this._isUpper){h.style.position="relative";var n=15*i.length;q="top:-"+((n>150?150:n)+4)+"px;"}n="";if(i.length>0){n+="<input type='hidden' name='"+
g+"' id='"+g+"' value='"+this.relv(d,i)+"'>";n+="<div id='_a_"+g+"' style='width:"+f+"px;height:18px; border:1px #728EA4 solid;'>";n+="<div id='_v_"+g+"' style='position:relative;float:left;left:2px;width:"+(f-22)+"px;height:18px;font-size:12px;overflow:hidden;line-height:18px;'>"+this.reStr(i,d)+"</div>";n+="<div id='_arr_"+g+"' class='divSelect_arr' style='position:relative;float:right;right:0px;width:18px;height:18px;text-align:center;font-family:Webdings;font-size:16px;overflow:hidden;background-color:#FFF;cursor:pointer!important;cursor:hand;'></div>";
n+="</div>";n+="<div id='_b_"+g+"' style='position:absolute; background-color:#FFFFFF; width:"+f+"px; height:"+this.height(i.length)+"px;border:1px #728EA4 solid;overflow-x:hidden;overflow-y:auto;display:none; z-index:99999;"+q+"'>";for(f=0;f<i.length;f++){q=i[f][0]==d?this.style(2):this.style(1);n+="<div id='_s_"+g+f+"' style='"+q+"' >"+i[f][1]+"</div>"}n+="</div>"}else{n+="<input type='hidden' name='"+g+"' id='"+g+"' value='"+d+"'>";n+="<div id='_a_"+g+"' style='width:"+f+"px;height:18px; border:1px #728EA4 solid;'>";
n+="<div id='_v_"+g+"' style='position:relative;float:left;left:2px;width:"+(f-22)+"px;height:18px;font-size:12px;overflow:hidden;line-height:18px;'></div>";n+="<div id='_arr_"+g+"' class='divSelect_arr' style='position:relative;float:right;right:0px;width:18px;height:18px;text-align:center;font-family:Webdings;font-size:16px;overflow:hidden;background-color:#FFF;cursor:pointer!important;cursor:hand;'></div>";n+="</div>";n+="<div id='_b_"+g+"' style='position:absolute; background-color:#FFFFFF; width:"+
f+"px; height:"+this.height(0)+"px;border:1px #728EA4 solid;overflow-x:hidden;overflow-y:auto;display:none; z-index:99999;'></div>"}h.innerHTML=n;m.appendChild(h);var s=this;d=function(){s.showOptions()};k.on(b.id("_v_"+g),"click",d);k.on(b.id("_arr_"+g),"click",d);if(i.length>0){d=function(){s.css(this,3)};m=function(){s.css(this,1)};h=function(){s.selected(this)};for(f=0;f<i.length;f++){k.on(b.id("_s_"+g+f),"mouseover",d);k.on(b.id("_s_"+g+f),"mouseout",m);k.on(b.id("_s_"+g+f),"click",h)}}},value:function(m){m=
m||this._selectName;return document.getElementById(m).value},text:function(m){m=m||this._selectName;return document.getElementById("_v_"+m).innerHTML},selected:function(m){for(var g=this._dataObj.data,i=m.innerHTML,d=0;d<g.length;d++){if(g[d][1]===i)b.id(this._selectName).value=g[d][0];b.id("_s_"+this._selectName+d).style.cssText=this.style(1)}b.id("_v_"+this._selectName).innerHTML=i;m.style.cssText=this.style(2);this.hidden();k.notifyObservers(this,"selectedChanged")},relv:function(m,g){for(var i=
0;i<g.length;i++)if(g[i][0]==m)return m;if(m==null||m=="")return g[0][0]},reStr:function(m,g){for(var i=0;i<m.length;i++)if(m[i][0]==g)return m[i][1];if(g==null||g=="")return m[0][1]},height:function(m){m=m>10||m<1?150:m*15;m+=2;return m},showOptions:function(m){m=m||this._selectName;m=document.getElementById("_b_"+m);m.style.display=m.style.display=="none"?"":"none"},hidden:function(){document.getElementById("_b_"+this._selectName).style.display="none"},style:function(m){var g="";switch(m){case 1:g=
"height:15px; font-size:12px; line-height:15px; overflow:hidden; background-color:#FFFFFF; color:#000000; font-weight:normal;";break;case 2:g="height:15px; font-size:12px; line-height:15px; overflow:hidden; background-color:#315DAD; color:#FFFFFF; font-weight:bold;";break;case 3:g="height:15px; font-size:12px; line-height:15px; overflow:hidden; background-color:#D8D8D8; color:#000000; font-weight:normal;"}return g},css:function(m,g){if(b.id("_v_"+this._selectName).innerHTML!=m.innerHTML)m.style.cssText=
this.style(g)}})});
Jx().$package(function(e){var b=e.dom,k=e.event;e.ui=e.ui||{};e.ui.IframeScroller=function(m){this.container=m.parentNode;if(e.platform.iPad&&e.platform.iPad.split(".")[0]>=4)this.container=m.parentNode.parentNode;this.iframe=m;this.holding=false;this.offsetY=this.offsetX=this.posy=this.posx=0;var g=this;this.observers={onTouchStart:function(i){i=i.changedTouches[0];g.posx=i.pageX;g.posy=i.pageY;g.minX=b.getWidth(g.container)-b.getWidth(g.iframe);g.minY=b.getHeight(g.container)-b.getHeight(g.iframe);
k.on(g.iframe,"touchmove",g.observers.onTouchMove);k.on(g.iframe,"touchend",g.observers.onTouchEnd)},onTouchMove:function(i){if(!(i.changedTouches.length>1)){i.preventDefault();i.stopPropagation();var d=i.changedTouches[0];i=d.pageX;d=d.pageY;var f=g.offsetX-(g.posx-i),h=g.offsetY-(g.posy-d);if(f>0)f=0;else if(f<g.minX)f=g.minX;if(h>0)h=0;else if(h<g.minY)h=g.minY;m.style.left=f+"px";m.style.top=h+"px";g.offsetX=f;g.offsetY=h;g.posx=i;g.posy=d}},onTouchEnd:function(){k.off(g.iframe,"touchmove",g.observers.onTouchMove);
k.off(g.iframe,"touchend",g.observers.onTouchEnd)}};this.destroy=function(){k.off(this.iframe,"touchstart",this.observers.onTouchStart);k.off(this.iframe,"touchmove",this.observers.onTouchMove);k.off(this.iframe,"touchend",this.observers.onTouchEnd);this.container=this.iframe=null};k.on(this.iframe,"touchstart",this.observers.onTouchStart)}});
Jx().$package(function(e){var b=e.dom,k=new e.Class({init:function(m){this.el=m;this.parentEl=m.parentNode;this.loadingContainer=b.node("div",{"class":"loading_container"});this.loadingContainer.innerHTML='<div class="loading_img" id ="loading_img"></div>';this.parentEl.appendChild(this.loadingContainer);this.loadingImg=b.id("loading_img");m=b.getClientWidth(this.el);var g=b.getClientHeight(this.el);b.setStyle(this.loadingContainer,"width",m+"px");b.setStyle(this.loadingContainer,"height",g+"px");
this.setCenter(this.loadingImg,this.loadingContainer)},setCenter:function(m,g){var i=b.getClientWidth(g),d=b.getClientHeight(g),f=b.getClientWidth(m),h=b.getClientHeight(m);i=i>f?(i-f)/2:0;d=d>h?(d-h)/2:0;b.setStyle(m,"position","relative");b.setXY(m,i,d)},setXY:function(){},show:function(){b.hide(this.el);b.show(this.loadingContainer)},hide:function(){b.hide(this.loadingContainer);b.show(this.el)}});e.ui=e.ui||{};e.ui.Loading=k});
Jx().$package(function(e){var b=e.dom;e.ui=e.ui||{};e.ui.Marquee=new e.Class({init:function(k){var m=this;this.speed=k.speed||40;this.stopTime=k.stopTime||3E3;this.lineHeight=k.lineHeight||20;this.target=k.target;this.intervaler=this.lineTimer=this.timer=null;this.scrollHeight=this.lineHeight;this.isStop=false;this._onTimeRun=function(){m.scrollOneLine()}},scrollOneLine:function(){if(this.scrollHeight>0){this.scrollHeight--;var k=this.target.style.top.match(/-?\d+/);k=!k?0:parseInt(k[0]);this.target.style.top=
--k+"px";this.lineTimer=setTimeout(this._onTimeRun,this.speed)}else this.isStop||this.update()},stop:function(){this.timer&&clearTimeout(this.timer)},stopAll:function(){this.stop();this.lineTimer&&clearTimeout(this.lineTimer)},reset:function(){this.target.style.top="0px"},update:function(){if(!this.isStop){this.timer&&clearTimeout(this.timer);this.scrollHeight=this.lineHeight;var k=this.target.style.top.match(/\d+/),m=b.getScrollHeight(this.target);if(k&&m){k=parseInt(k[0]);if(k>=m){this.target.style.top=
this.lineHeight+"px";this.scrollOneLine();return}}this.timer=setTimeout(this._onTimeRun,this.stopTime)}},walkOnLastLine:function(){this._onTimeRun()}})});
Jx().$package(function(e){e.ui=e.ui||{};e.ui.Notifier=new e.Class({hasSupport:function(){return window.webkitNotifications?true:false},requestPermission:function(b){window.webkitNotifications.requestPermission(function(){b&&b(window.webkitNotifications.checkPermission()==0)})},notify:function(b,k,m){if(window.webkitNotifications.checkPermission()==0){b=window.webkitNotifications.createNotification(b,k,m);b.show();return b}return false}})});
Jx().$package(function(e){var b=e.dom,k=e.event;e.ui=e.ui||{};e.ui.Pagination=new e.Class({init:function(m){this.pagebarEl=m.el;this.count=m.count;this.perPage=m.perPage||10;this.callback=m.callback||function(){};this.type=m.type||1;this.maxPage=Math.ceil(this.count/this.perPage);this.currentPage=m.currentPage||1;m=this.pagebarEl.children[0];this.pagelistEl=m.children[1];this.preEl=m.children[0];this.nextEl=m.children[2];this.maxPage>1?b.show(this.pagebarEl):b.hide(this.pagebarEl);this.turnTo(this.currentPage,
true);k.on(this.preEl,"click",e.bind(this.onPreElClick,this));k.on(this.nextEl,"click",e.bind(this.onNextElClick,this))},reset:function(m){this.count=e.isNumber(m.count)?m.count:this.count;this.perPage=m.perPage||this.perPage||10;this.callback=m.callback||this.callback||function(){};this.type=m.type||this.type||1;this.currentPage=m.currentPage||this.currentPage||1;this.maxPage=Math.ceil(this.count/this.perPage);this.maxPage>1?b.show(this.pagebarEl):b.hide(this.pagebarEl);this.setPage(this.currentPage)},
setPage:function(m){var g="",i=this.maxPage;this.currentPage=m;if(!(m>i||m<1)){if(this.type==1){if(i>8){g+='<a class="w'+(m+"").length+(m==1?" cur":"")+'" href="#" >1</a>';if(m<4){for(var d=2;d<5;d++)g+='<a class="w'+(d+"").length+(d==m?" cur":"")+'" href="#" >'+d+"</a>";g+="<span>...</span>"}else if(m+3>i){g+="<span>...</span>";for(d=i-3;d<i;d++)g+='<a class="w'+(d+"").length+(d==m?" cur":"")+'" href="#" >'+d+"</a>"}else{g+="<span>...</span>";for(d=m-1;d<m+2;d++)g+='<a class="w'+(d+"").length+(d==
m?" cur":"")+'" href="#" >'+d+"</a>";g+="<span>...</span>"}g+='<a class="w'+(i+"").length+(m==i?" cur":"")+'" href="#" >'+i+"</a>"}else for(d=1;d<=i;d++)g+='<a class="w'+(d+"").length+(d==m?" cur":"")+'" href="#" >'+d+"</a>";this.pagelistEl.innerHTML=g;b.setStyle(this.pagebarEl,"width","auto");b.setStyle(this.pagebarEl,"width",b.getClientWidth(this.pagebarEl.children[0])+10+"px");g=b.tagName("a",this.pagelistEl);d=0;for(var f=g.length;d<f;d++)k.on(g[d],"click",e.bind(this.onPagesElClick,this))}else if(this.type==
2){g=m+"/"+i;this.pagelistEl.innerHTML=g}b.removeClass(this.preEl,"preBtn_dis");b.removeClass(this.nextEl,"nextBtn_dis");if(m==1)b.addClass(this.preEl,"preBtn_dis");else m==i&&b.addClass(this.nextEl,"nextBtn_dis")}},turnTo:function(m,g){if(!(isNaN(m)||m<1||m>this.maxPage||!g&&m==this.currentPage)){this.setPage(m);this.callback({start:this.getStart(),end:this.getEnd()})}},onPagesElClick:function(m){m.stopPropagation();m.preventDefault();this.turnTo(+m.currentTarget.innerHTML)},onPreElClick:function(m){m.stopPropagation();
m.preventDefault();if(this.currentPage>1){this.currentPage--;this.setPage(this.currentPage);this.callback({start:this.getStart(),end:this.getEnd()})}},onNextElClick:function(m){m.stopPropagation();m.preventDefault();if(this.currentPage<this.maxPage){this.currentPage++;this.setPage(this.currentPage);this.callback({start:this.getStart(),end:this.getEnd()})}},getStart:function(){return(this.currentPage-1)*this.perPage},getEnd:function(){var m=this.currentPage*this.perPage-1;if(m>this.count-1)m=this.count-
1;return m}})});
Jx().$package(function(e){var b=e.event,k=e.dom,m=e.browser,g=new e.Class({init:function(d){if(!d.appendTo)throw Error("BaseEditor: appendTo is undefined.");this.option={keepCursor:d.keepCursor||false,brNewline:d.brNewline||false,clearNode:d.clearNode||false,nodeFilter:d.nodeFilter||null};var f=d.className||"rich_editor",h=this._container=k.node("div",{"class":f}),q=this._divArea=k.node("div",{"class":d.richClassName||f+"_div"});f=this._textArea=k.node("textarea",{"class":d.textClassName||f+"_text"});
h.appendChild(q);h.appendChild(f);d.appendTo.appendChild(h);this.setState(true);this.clear();var n=this;this._private={startTimeoutSaveRange:function(s){this.clearTimeoutSaveRange();this._keyupTimer=window.setTimeout(this.timeoutSaveRange,s||0)},timeoutSaveRange:function(){n.saveRange(true)},clearTimeoutSaveRange:function(){if(this._keyupTimer){window.clearTimeout(this._keyupTimer);this._keyupTimer=0}},startTimeoutClearNodes:function(s){this.clearTimeoutClearNodes();this._clearNodesTimer=window.setTimeout(this.timeoutClearNodes,
s||0)},timeoutClearNodes:function(){n.clearNodes()},clearTimeoutClearNodes:function(){if(this._clearNodesTimer){window.clearTimeout(this._clearNodesTimer);this._clearNodesTimer=0}}};b.on(q,"blur",e.bind(g.observer.onBlur,n));b.on(q,"mouseup",e.bind(g.observer.onMouseup,n));b.on(q,"drop",e.bind(g.observer.onDrop,n));b.on(q,"paste",e.bind(g.observer.onPaste,n));b.on(q,"keyup",e.bind(g.observer.onKeyup,n));m.ie&&b.on(q,"keydown",e.bind(g.observer.onBackspaceKeydown,n));m.adobeAir&&b.on(q,"keyup",e.bind(g.observer.onAdobeAirKeyup,
n));if(e.platform.linux&&m.firefox)b.on(q,"keypress",e.bind(g.observer.onLinuxKeypress,n));else e.platform.win&&m.opera?b.on(q,"keypress",e.bind(g.observer.onKeydown,n)):b.on(q,"keydown",e.bind(g.observer.onKeydown,n));b.addObserver(this,"Paste",e.bind(g.observer.onEditorPaste,n));m.firefox&&b.on(q,"keypress",e.bind(g.observer.onKeypress,n))},onKeyUp:function(){},isEnable:function(){return this._isEnable},setState:function(d){this._isEnable=d;var f=this._textArea,h=this._divArea;if(d){k.show(h);k.hide(f);
f.readonly=true;h.setAttribute("contentEditable",true)}else{k.hide(h);k.show(f);f.readonly=false;h.setAttribute("contentEditable",false)}},isEditable:function(){return this._isEditable},setEditable:function(d){this._isEditable=d;if(this._isEnable)this._divArea.setAttribute("contenteditable",d);else this._textArea.readonly=!d},destory:function(){b.off(divArea,"focus");b.off(divArea,"blur");b.off(divArea,"mousedown");b.off(divArea,"mouseup");b.off(divArea,"keyup");b.off(divArea,"paste");b.off(divArea,
"drop");b.off(divArea,"keypress");b.off(divArea,"keydown");this.setState(false);this._container.parentNode.removeChild(this._container);for(var d in this)this.hasOwnProperty(d)&&delete this[d]},getHtml:function(){return this._divArea.innerHTML},setHtml:function(d){this._divArea.innerHTML=d},clear:function(){if(this._isEnable){this.option.keepCursor&&this.saveRange(true);m.ie?this.setHtml(""):this.setHtml("<br/>")}else this.setText("")},setText:function(d){this._textArea.value=d},getText:function(){return this._textArea.value},
isEmpty:function(){if(this._isEnable){var d=this.getHtml();return d===""?true:!m.ie&&d.toLowerCase()==="<br>"?true:false}else return this.getText()===""?true:false},focus:function(){if(this._isEnable){this._divArea.focus();this.option.keepCursor&&this.restoreRange()}else this._textArea.focus()},blur:function(){this._isEnable?this._divArea.blur():this._textArea.blur()},save:function(){this.setText(this.getHtml())},restore:function(){this.setHtml(this.getText())},getRange:function(){return g.getRange(this._divArea)},
saveRange:function(d){if(d=d?this.getRange():g.getRange())this._lastRange=d},restoreRange:function(){if(this._lastRange){var d=g.getSelection();if(d.addRange){d.removeAllRanges();d.addRange(this._lastRange)}else if(d=g.getRange()){d.setEndPoint("EndToStart",this._lastRange);d.collapse(false);d.setEndPoint("EndToEnd",this._lastRange);d.select()}}},insertHtml:function(d){if(d!==""){var f=this.getRange();if(f)if(f.pasteHTML){f.pasteHTML(d);f.collapse(false);f.select()}else{if(f.createContextualFragment){d+=
'<img style="display:inline;width:1px;height:1px;">';var h=f.createContextualFragment(d);d=h.lastChild;f.deleteContents();f.insertNode(h);f.setEndAfter(d);f.setStartAfter(d);h=g.getSelection();h.removeAllRanges();h.addRange(f);f=this._divArea;h=k.getRelativeXY(d,f);f.scrollTop=h[1]<f.scrollHeight?f.scrollHeight:h[1];m.opera||document.execCommand("Delete",false,null);g.contains(f,d)&&f.removeChild(d)}}else{if(this.isEmpty())this._divArea.innerHTML=d;else this._divArea.innerHTML+=d;f=g.getRange();d=
this._divArea.lastChild;if(f.selectNode){f.setEndAfter(d);f.setStartAfter(d);h=g.getSelection();h.removeAllRanges();h.addRange(f)}else if(f.moveToElementText){f.moveToElementText(d);f.collapse(false);f.select()}}this.option.keepCursor&&this.saveRange()}},insertText:function(d){if(d!==""){var f=this._textArea;if(m.ie){var h=g.getRange();if(h)h.text=d;else f.value+=d}else if(e.isUndefined(f.selectionStart))f.value+=d;else{h=f.value;var q=f.selectionStart,n=f.selectionEnd,s=q+d.length;f.value=h.substring(0,
q)+d+h.substring(n);f.setSelectionRange(s,s)}}},newline:function(){this._isEnable?this.insertHtml("<br/>"):this.insertText("\n")},clearNodes:function(){for(var d=this._divArea,f,h,q=d.childNodes,n=q.length-1,s;n>=0;n--){s=q[n];if(s.nodeType!==3)if(s.nodeType===1){if(s.nodeName!=="BR")if(!(this.option.nodeFilter&&this.option.nodeFilter(s))){f=s.textContent||s.innerText||"";if(f!==""){f=document.createTextNode(f);h||(h=f);d.replaceChild(f,s)}else d.removeChild(s)}}else d.removeChild(s)}if(h){d=g.getSelection();
if(d.extend){d.extend(h,h.length);d.collapseToEnd()}}}});g.observer={onBlur:function(){this._private.clearTimeoutSaveRange()},onMouseup:function(){this.option.keepCursor&&this.saveRange()},onLinuxKeypress:function(d){var f=Number(d.keyCode),h=d.altKey,q=d.ctrlKey,n=d.shiftKey;if(Number(d.charCode)===118&&q&&!h&&!n)b.notifyObservers(this,"Paste",d);else if(f===13&&this.option.brNewline){d.preventDefault();this.newline()}},onAdobeAirKeyup:function(d){var f=d.altKey,h=d.ctrlKey,q=d.shiftKey;Number(d.keyCode)===
86&&h&&!f&&!q&&b.notifyObservers(this,"Paste",d)},onBackspaceKeydown:function(d){var f=d.altKey,h=d.ctrlKey,q=d.shiftKey;if(Number(d.keyCode)===8&&!h&&!f&&!q){f=g.getSelection();if(f.type.toLowerCase()==="control"){d.preventDefault();f.clear()}}},onKeydown:function(d){var f=Number(d.keyCode),h=d.altKey,q=d.ctrlKey,n=d.shiftKey;if(f===86&&q&&!h&&!n)b.notifyObservers(this,"Paste",d);else if(f===13&&this.option.brNewline){d.preventDefault();this.newline()}},onKeyup:function(d){var f=Number(d.keyCode);
f===16||f===17||f===18||this.option.keepCursor&&this._private.startTimeoutSaveRange(100);this.onKeyUp(d)},onKeypress:function(d){this.onKeyUp(d)},onPaste:function(){this.option.clearNode&&this._private.startTimeoutClearNodes(200)},onDrop:function(){this.option.clearNode&&this._private.startTimeoutClearNodes()},onEditorPaste:function(d){b.notifyObservers(this,"EditorPaste",d)&&this.option.clearNode&&this._private.startTimeoutClearNodes()}};g.getSelection=function(){return document.selection?document.selection:
window.getSelection()};g.getRange=function(d){var f=g.getSelection();if(!f)return null;f=f.getRangeAt?f.rangeCount?f.getRangeAt(0):null:f.createRange();if(!f)return null;return d?g.containsRange(d,f)?f:null:f};g.contains=function(d,f,h){if(!h&&d===f)return false;if(d.compareDocumentPosition){d=d.compareDocumentPosition(f);if(d==20||d==0)return true}else if(d.contains(f))return true;return false};g.containsRange=function(d,f){var h=f.commonAncestorContainer||f.parentElement&&f.parentElement()||null;
if(h)return g.contains(d,h,true);return false};var i=new e.Class({extend:g},{init:function(d){var f=this;this.callSuper=function(h){var q=Array.prototype.slice,n=q.call(arguments,1);i.superClass[h].apply(f,n.concat(q.call(arguments)))};this.callSuper("init",d)}});e.ui=e.ui||{};e.ui.BaseEditor=g;e.ui.RichEditor=i});
Jx().$package(function(e){var b=e.dom,k=e.browser.ie&&(e.browser.ie<9||b.getDoc().documentMode<9),m=new e.Class({init:function(g){this.el=g;this.type=0;this.type2class=["","rotation-90deg","rotation-180deg","rotation-270deg"];k?b.createStyleNode("\t\t\t\t\t.rotation-90deg {\t\t\t\t\t\tfilter:progid:DXImageTransform.Microsoft.BasicImage(rotation=1);\t\t\t\t\t}\t\t\t\t\t.rotation-180deg {\t\t\t\t\t\tfilter:progid:DXImageTransform.Microsoft.BasicImage(rotation=2);\t\t\t\t\t}\t\t\t\t\t.rotation-270deg {\t\t\t\t\t\tfilter:progid:DXImageTransform.Microsoft.BasicImage(rotation=3);\t\t\t\t\t}\t\t\t\t",
"rotation-style"):b.createStyleNode("\t\t\t\t\t.rotation-90deg {\t\t\t\t\t\t-moz-transform:rotate(90deg);\t\t\t\t\t\t-webkit-transform:rotate(90deg);\t\t\t\t\t\t-o-transform: rotate(90deg);\t\t\t\t\t\t-ms-transform: rotate(90deg);\t\t\t\t\t\ttransform:rotate(90deg);\t\t\t\t\t}\t\t\t\t\t.rotation-180deg {\t\t\t\t\t\t-moz-transform:rotate(180deg);\t\t\t\t\t\t-webkit-transform:rotate(180deg);\t\t\t\t\t\t-o-transform: rotate(180deg);\t\t\t\t\t\t-ms-transform: rotate(180deg);\t\t\t\t\t\ttransform:rotate(180deg);\t\t\t\t\t}\t\t\t\t\t.rotation-270deg {\t\t\t\t\t\t-moz-transform:rotate(270deg);\t\t\t\t\t\t-webkit-transform:rotate(270deg);\t\t\t\t\t\t-o-transform: rotate(270deg);\t\t\t\t\t\t-ms-transform: rotate(270deg);\t\t\t\t\t\ttransform:rotate(270deg);\t\t\t\t\t}\t\t\t\t",
"rotation-style");styleText=null},uninit:function(){this.el=null;this.type=0},left:function(){var g=this.type;g-=1;if(-1===g)g=3;return this.rotate(g)},right:function(){var g=this.type;g+=1;if(4===g)g=0;return this.rotate(g)},rotate:function(g){g=parseInt(g,10);if(isNaN(g)||!(g in this.type2class)||g===this.type)return false;b.removeClass(this.el,this.type2class[this.type]);b.addClass(this.el,this.type2class[g]);var i=g%2!==this.type%2;this.type=g;i&&this.center();return this.type},center:function(){if(k)if("absolute"===
b.getStyle(this.el,"position")){var g=parseInt(b.getStyle(this.el,"left"),10),i=parseInt(b.getStyle(this.el,"top"),10),d=parseInt(b.getStyle(this.el,"width"),10),f=parseInt(b.getStyle(this.el,"height"),10);if(0===this.type%2){var h=d;d=f;f=h}d=(f-d)/2;g-=d;i+=d;b.setStyle(this.el,"left",g+"px");b.setStyle(this.el,"top",i+"px")}},reset:function(){b.removeClass(this.el,this.type2class[this.type]);this.type=0},isLandscape:function(){return this.type%2}});e.ui=e.ui||{};e.ui.Rotation=m});
Jx().$package(function(e){var b=e.dom,k=e.event,m;e.ui=e.ui||{};e.ui.ScrollArea=new e.Class({init:function(g,i){var d=this;m=i?i:document;this.container=g;this.scrollBar=m.createElement("div");this.scrollBar.className="scrollBar";if(e.browser.ie)this.scrollBar.innerHTML='<div class="scrollBar_bg scrollBar_bg_t"></div><div class="scrollBar_bg scrollBar_bg_b"></div>';this.container.appendChild(this.scrollBar);this.wheelThread=20;this.isScrolling=false;var f,h={onMouseDown:function(q){q.preventDefault();
q.stopPropagation();d.isScrolling=true;f=q.clientY;b.addClass(d.scrollBar,"active");k.on(m,"mousemove",h.onMouseMove);k.on(m,"mouseup",h.onMouseUp)},onMouseMove:function(q){d.scroll((q.clientY-f)/(d.offsetHeight-d.scrollBarHeight)*(d.scrollHeight-d.offsetHeight));f=q.clientY;q.preventDefault();q.stopPropagation()},onClick:function(q){q.preventDefault();q.stopPropagation()},onMouseUp:function(q){q.preventDefault();q.stopPropagation();k.off(m,"mousemove",h.onMouseMove);k.off(m,"mouseup",h.onMouseUp);
d.isScrolling=false;b.removeClass(d.scrollBar,"active")},onMouseOver:function(){b.addClass(d.scrollBar,"hover")},onMouseOut:function(){b.removeClass(d.scrollBar,"hover")},onMouseWheel:function(q){if(b.isShow(d.scrollBar)){var n=q.wheelDelta;q.returnValue=false;q=n<0?d.wheelThread:0-d.wheelThread;n=d.scrollHeight/d.scrollBarHeight/5;if(n<1)n=1;q*=n;d.scroll(q)}},onDomMouseScroll:function(q){if(b.isShow(d.scrollBar)){var n=q.detail>0?-1:1;q.stopPropagation();q.preventDefault();q=n<0?d.wheelThread:0-
d.wheelThread;n=d.scrollHeight/d.scrollBarHeight/5;if(n<1)n=1;q*=n;d.scroll(q)}}};this.observer=h;k.on(this.scrollBar,"mousedown",h.onMouseDown);k.on(this.scrollBar,"click",h.onClick);k.on(this.scrollBar,"mouseover",h.onMouseOver);k.on(this.scrollBar,"mouseout",h.onMouseOut);if(e.browser.ie||e.browser.engine.webkit||e.browser.opera){k.on(this.container,"mousewheel",h.onMouseWheel);k.on(this.scrollBar,"mousewheel",h.onMouseWheel)}else{k.on(this.container,"DOMMouseScroll",h.onDomMouseScroll);k.on(this.scrollBar,
"DOMMouseScroll",h.onDomMouseScroll)}this.update()},update:function(){if(!this.updateTimer){var g=this;this.updateTimer=setTimeout(function(){g.updateTimer=0;g.scrollBar.style.height="0";b.hide(g.scrollBar);g.scrollHeight=g.container.scrollHeight;g.offsetHeight=g.container.offsetHeight;g.scrollBarHeight=g.offsetHeight/g.scrollHeight*g.offsetHeight;if(!(g.scrollHeight<=g.offsetHeight)){b.show(g.scrollBar);if(g.scrollBarHeight<30)g.scrollBarHeight=30;g.scrollBar.style.height=g.scrollBarHeight+"px";
g.scrollBar.style.top=g.container.scrollTop+g.container.scrollTop/(g.scrollHeight-g.offsetHeight)*(g.offsetHeight-g.scrollBarHeight)+"px"}},500)}},scroll:function(g){var i=this.scrollHeight-(this.container.scrollTop+this.offsetHeight);if(g>i)g=i;g=this.container.scrollTop+g;this.scrollBar.style.top=g+g/(this.scrollHeight-this.offsetHeight)*(this.offsetHeight-this.scrollBarHeight)+"px";this.container.scrollTop=g},getScrollTop:function(){return parseInt(this.container.scrollTop)},destroy:function(){k.off(this.scrollBar,
"mousedown",this.observer.onMouseDown);k.off(this.scrollBar,"mouseover",this.observer.onMouseOver);k.off(this.scrollBar,"mouseout",this.observer.onMouseOut);if(e.browser.ie||e.browser.engine.webkit||e.browser.opera){k.off(this.container,"mousewheel",this.observer.onMouseWheel);k.off(this.scrollBar,"mousewheel",this.observer.onMouseWheel)}else{k.off(this.container,"DOMMouseScroll",this.observer.onDomMouseScroll);k.off(this.scrollBar,"DOMMouseScroll",this.observer.onDomMouseScroll)}this.container.removeChild(this.scrollBar);
this.scrollBar=this.container=null}})});
Jx().$package(function(e){var b=e.dom,k=e.event;e.ui=e.ui||{};e.ui.ScrollBar=new e.Class({option:{barClass:"scrollBar",barHoverClass:null,barActiveClass:null,showBarContainer:false},init:function(m,g){var i=this;e.extend(this.option,g);this.bar=b.node("div",{"class":g.scrollBarClassName||"scrollBar"});this.obj=m;this.content=this.obj.getElementsByTagName("div")[0]||this.obj;b.setStyle(this.content,"height","100%");b.setStyle(this.content,"overflow","hidden");if(e.browser.ie)this.bar.innerHTML='<div class="scrollBar_bg scrollBar_bg_t"></div><div class="scrollBar_bg scrollBar_bg_b"></div>';
this.onscroll=g.onscroll||function(){};this.scrollToBottom=g.scrollToBottom||function(){};this.ipadTouchArea=g.ipadTouchArea||false;b.setStyle(this.bar,"marginTop",0);this.obj.appendChild(this.bar);if(g.showBarContainer){this.barBc=b.node("div",{"class":"scrollBar_bgc"});if(e.browser.ie)this.barBc.innerHTML='<div class="scrollBar_bgc_c scrollBar_bgc_t"></div><div class="scrollBar_bgc_c scrollBar_bgc_b"></div>';this.obj.appendChild(this.barBc)}this.setBarHeight();this.wheelThread=20;this.isScrolling=
false;var d={onMouseDown:function(f){var h=f.target;if(f.changedTouches)f=f.changedTouches[0];i.bar.y=f.clientY;i.bar.t=parseInt(i.bar.style.marginTop);if(e.platform.iPad)if(h==i.bar){k.on(document,"touchmove",d.onMouseMove);k.on(document,"touchend",d.onBarMouseUp)}else{k.on(document,"touchmove",d.onTouchAreaMove);k.on(document,"touchend",d.onMouseUp)}else{k.on(document,"mousemove",d.onMouseMove);k.on(document,"mouseup",d.onMouseUp);f.stopPropagation()}i.isScrolling=true;i.option.barActiveClass&&
b.addClass(i.bar,i.option.barActiveClass)},onMouseMove:function(f){if(f.changedTouches){f.preventDefault();f=f.changedTouches[0]}i.scroll(f.clientY-i.bar.y);if(!e.platform.iPad){f.preventDefault();f.stopPropagation()}},onTouchAreaMove:function(f){f.preventDefault();f.stopPropagation();if(f.changedTouches)f=f.changedTouches[0];i.scroll(-f.clientY+i.bar.y)},onBarMouseUp:function(){if(e.platform.iPad){k.off(document,"touchmove",d.onMouseMove);k.off(document,"touchend",d.onBarMouseUp)}else{k.off(document,
"mousemove",d.onMouseMove);k.off(document,"mouseup",d.onMouseUp)}i.isScrolling=false;i.option.barActiveClass&&b.removeClass(i.bar,i.option.barActiveClass)},onMouseUp:function(){if(e.platform.iPad){k.off(document,"touchmove",d.onTouchAreaMove);k.off(document,"touchend",d.onMouseUp)}else{k.off(document,"mousemove",d.onMouseMove);k.off(document,"mouseup",d.onMouseUp)}i.isScrolling=false;i.option.barActiveClass&&b.removeClass(i.bar,i.option.barActiveClass)},onMouseOver:function(){b.addClass(i.bar,i.option.barHoverClass)},
onMouseOut:function(){b.removeClass(i.bar,i.option.barHoverClass)},onMouseWheel:function(f){if(b.isShow(i.bar)){i.D=f.wheelDelta;f.returnValue=false;var h=i.D<0?i.wheelThread:0-i.wheelThread;i.bar.y=f.clientY;i.bar.t=parseInt(i.bar.style.marginTop);i.scroll(h)}else i.scrollToBottom(f)},onClick:function(f){f.stopPropagation()},onDomMouseScroll:function(f){if(b.isShow(i.bar)){i.D=f.detail>0?-1:1;if(!e.platform.iPad){f.stopPropagation();f.preventDefault()}i.bar.y=f.clientY;i.bar.t=parseInt(i.bar.style.marginTop);
i.scroll(i.D<0?i.wheelThread:0-i.wheelThread)}else i.scrollToBottom(f)}};this.option.stopClick&&k.on(this.bar,"click",d.onClick);if(this.option.barHoverClass){k.on(this.bar,"mouseover",d.onMouseOver);k.on(this.bar,"mouseout",d.onMouseOut)}if(e.platform.iPad){k.on(this.bar,"touchstart",d.onMouseDown);this.ipadTouchArea&&k.on(this.content,"touchstart",d.onMouseDown)}else{k.on(this.bar,"mousedown",d.onMouseDown);if(e.browser.ie||e.browser.engine.webkit||e.browser.opera){k.on(this.content,"mousewheel",
d.onMouseWheel);k.on(this.bar,"mousewheel",d.onMouseWheel)}else{k.on(this.content,"DOMMouseScroll",d.onDomMouseScroll);k.on(this.bar,"DOMMouseScroll",d.onDomMouseScroll)}}},scrollBack:function(){this.content.scrollTop="0px";this.bar.t=0;this.scroll(0)},refresh:function(){this.update()},update:function(){this.setBarHeight()},setBarHeight:function(){this.onscroll(0,0);this.bar.style.height="0";b.hide(this.bar);if(this.content.offsetHeight-this.content.scrollHeight>=0){this.barBc&&b.hide(this.barBc);
this.bar.t=0}else{this.bar.style.height=parseInt(this.content.offsetHeight/this.content.scrollHeight*this.content.offsetHeight)+"px";b.show(this.bar);this.barBc&&b.show(this.barBc);this.bar.t=parseInt(this.bar.style.marginTop)}this.scroll(0)},scroll:function(m){this.marginTop=(this.bar.t||0)+m;if(this.marginTop<0)this.marginTop=0;if(this.marginTop>this.content.clientHeight-this.bar.offsetHeight){this.marginTop=this.content.clientHeight-this.bar.offsetHeight;this.scrollToBottom()}this.bar.style.marginTop=
this.marginTop+"px";m==0&&this.onscroll(m,m);var g=(this.content.scrollHeight-this.content.offsetHeight)*parseInt(this.marginTop)/(this.content.offsetHeight-this.bar.offsetHeight);this.content.scrollTop=g;this.onscroll(g,m)},getScrollTop:function(){return parseInt(this.content.scrollTop)},contentScroll:function(m){m=parseInt(this.obj.offsetHeight/this.content.scrollHeight*m);this.scroll(m)},contentPosition:function(){return this.content.scrollTop}})});
Jx().$package(function(e){var b=e.dom,k=e.event,m=false,g=false;e.ui=e.ui||{};e.ui.Sortables=new e.Class({init:function(i,d,f){this.dropTargets=i.concat();this.sortStr=d;this.option=f||{};this.limiteOption=this.option.limiteOption||{};this.dragController={};this._isLock=false},addDropTarget:function(i){this.dropTargets.push(i)},addEffect:function(i){this.effectEl=i},removeDropTarget:function(i){e.array.remove(this.dropTargets,i)},refreshDropTarget:function(i){var d,f,h,q=this.dropTargets;this.dropPos=
[];if(i)for(n in q){dropTargetEl=q[n].el;if(i.el===dropTargetEl){d={};f=b.getXY(dropTargetEl);h=b.getClientWidth(dropTargetEl);i=b.getClientHeight(dropTargetEl);d.x=f[0];d.y=f[1];d.w=h;d.h=i;this.dropPos[n]=d;break}}else for(var n in q){i=q[n].el;d={};f=b.getXY(i);h=b.getClientWidth(i);i=b.getClientHeight(i);d.x=f[0];d.y=f[1];d.w=h;d.h=i;this.dropPos[n]=d}},addDragClass:function(i){var d=i.parentNode,f=i,h=false,q=this,n=null;b.getXY(d);var s=b.getXY(f),o=i.getAttribute(this.sortStr)||"",a=this.dropTargets,
c,j;this.dropPos=[];this.dragController[o]=new e.ui.Drag(i,h,this.limiteOption);k.addObserver(this.dragController[o],"beforeStart",e.bind(function(){m=b.getClientWidth(f);g=b.getClientHeight(f);var l={};l.top=parseInt(b.getStyle(f,"marginTop")||0);l.buttom=parseInt(b.getStyle(f,"marginbottom")||0);l.left=parseInt(b.getStyle(f,"marginLeft")||0);l.right=parseInt(b.getStyle(f,"marginRight")||0);m+=l.left+l.right;g+=l.top+l.buttom;a=this.dropTargets;h=q.effectEl||q.clone(f);q.dragController[o].setEffect(h);
s=b.getXY(f);l=s[0];var r=s[1];j=[l,r];b.setStyle(h,"left",l+"px");b.setStyle(h,"top",r+"px");this.refreshDropTarget();d=f.parentNode;c=f.nextSibling;document.body.appendChild(h);k.notifyObservers(q,"beforeStart")},this));k.addObserver(this.dragController[o],"start",e.bind(function(){n=null;if(q.option.isDash)f=q.cloneDashedEl(f);else e.browser.ie||b.addClass(f,"ui_halfOpacity");k.notifyObservers(q,"start")},this));k.addObserver(this.dragController[o],"move",e.bind(function(l){var r=l.orientEvent,
u=r.pageX;r=r.pageY;if(!(Math.abs(u-j[0])+Math.abs(r-j[1])<1)){var x=u-j[0]>0?"right":"left";j=[u,r];var w={el:null,level:-1,index:0},E;for(E in this.dropPos)if(u>this.dropPos[E].x&&u<this.dropPos[E].x+this.dropPos[E].w&&r>this.dropPos[E].y&&r<this.dropPos[E].y+this.dropPos[E].h){var C=a[E],K=C.el,G=b.getClientWidth(K);G=Math.floor(G/m);var z=b.getXY(K);K=u-z[0];z=Math.floor((r-z[1])/g);if(x=="right")var p=Math.ceil(K/m);else if(x=="left")p=Math.floor(K/m);G=p+z*G;if(w.level<C.level){w.level=C.level;
w.el=C.el;w.index=G}}if(n=w.el)if(n.getAttribute("customAcceptDrop"))k.notifyObservers(n,"dragmove",l);else n.childNodes[G]?n.insertBefore(f,n.childNodes[G]):n.appendChild(f);k.notifyObservers(q,"move",l)}},this));k.addObserver(this.dragController[o],"overFlowBorder",e.bind(function(l){l.el=h;k.notifyObservers(q,"overFlowBorder",l)},this));k.addObserver(this.dragController[o],"end",e.bind(function(l){var r=l.orientEvent,u=r.pageX;r=r.pageY;n&&n.getAttribute&&n.getAttribute("customAcceptDrop")&&k.notifyObservers(n,
"drop",{dragEl:i,queue:x,pos:{x:u,y:r},apperceiveEl:f,nextEl:c,parentEl:d,currentDropTarget:n});document.body.removeChild(h);if(q.option.isDash){q.removeDashedEl();f=q.tempEl}else e.browser.ie||b.removeClass(f,"ui_halfOpacity");var x=[],w;for(w in a){x[w]=[];for(var E=a[w].el.childNodes,C=0;C<E.length;C++){if(!E[C].getAttribute)break;var K=E[C].getAttribute(q.sortStr);K&&x[w].push(K)}}try{k.notifyObservers(q,"end",{queue:x,pos:l,apperceiveEl:f,nextEl:c,parentEl:d})}catch(G){e.out("drop error")}(l=
document.elementFromPoint(u,r))&&k.notifyObservers(e.ui,"drop",{dragEl:i,pos:{x:u,y:r},apperceiveEl:f,dropEl:l})},this))},setLimite:function(i){for(var d in this.dragController)this.dragController[d].setLimite(i)},cloneDashedEl:function(i){var d=b.node("div"),f=this.option.className;if(f)b.setClass(d,f);else{b.setStyle(d,"border","dashed 2px #fff");b.setClass(d,i.className);b.setStyle(d,"position","relative");b.setStyle(d,"float","left");f=i.offsetWidth-10*parseInt(d.style.borderWidth)+"px";var h=
i.offsetHeight-10*parseInt(d.style.borderWidth)+"px";b.setStyle(d,"width",f);b.setStyle(d,"height",h)}this.dashedEl=d;i.nextSibling?i.parentNode.insertBefore(d,i.nextSibling):i.parentNode.appendChild(d);this.tempEl=i;i.parentNode.removeChild(i);return d},removeDashedEl:function(){this.dashedEl.nextSibling?this.dashedEl.parentNode.insertBefore(this.tempEl,this.dashedEl.nextSibling):this.dashedEl.parentNode.appendChild(this.tempEl);this.dashedEl.parentNode.removeChild(this.dashedEl)},clone:function(i){i=
i.cloneNode(true);i.setAttribute("id","");b.setStyle(i,"position","absolute");b.setStyle(i,"zIndex","9999999");b.setStyle(i,"background","none");return i},lock:function(){this._isLock=true;for(var i in this.dragController)this.dragController[i].lock()},unlock:function(){this._isLock=false;for(var i in this.dragController)this.dragController[i].unlock()},isLock:function(){return this._isLock},forEachNode:function(i,d,f){var h=i.length;if(typeof d!="function")throw new TypeError;for(var q=0;q<h;q++)q in
i&&d.call(f,i[q],q,i)}})});
Jx().$package(function(e){var b=e.dom,k=e.event;e.ui=e.ui||{};e.ui.Tab=function(m,g,i){this.tabs=[];this.currentTab=null;this.config={defaultIndex:0,triggerEvent:"click",slideEnabled:false,slideInterval:5E3,slideDelay:300,autoInit:true,onShow:function(){}};this.setConfig(i);if(m&&g){this.addRange(m,g);this.config.autoInit&&this.init()}};e.ui.Tab.prototype={setConfig:function(m){if(m)for(var g in m)this.config[g]=m[g]},add:function(m){if(m)if(m.trigger){this.tabs.push(m);m.trigger.style.display="block"}},
addRange:function(m,g){if(m&&g)if(m.length&&g.length&&m.length==g.length)for(var i=0,d=m.length;i<d;i++)this.add({trigger:m[i],sheet:g[i]})},select:function(m){if(!(!m||this.currentTab&&m.trigger==this.currentTab.trigger)){if(this.currentTab){b.removeClass(this.currentTab.trigger,"current");if(this.currentTab.sheet)this.currentTab.sheet.style.display="none"}this.currentTab=m;this.show()}},remove:function(m){if(m){if(m.trigger){b.removeClass(m.trigger,"current");m.trigger.style.display="none"}if(m.sheet)m.sheet.style.display=
"none";var g=this.indexOf(m);this.tabs.splice(g,g);if(m.trigger==this.currentTab.trigger)g==0?this.select(this.tabs[g+1]):this.select(this.tabs[g-1])}},show:function(){if(this.currentTab.trigger)this.currentTab.trigger.style.display="block";b.addClass(this.currentTab.trigger,"current");if(this.currentTab.sheet)this.currentTab.sheet.style.display="block";this.config.onShow.call(this);k.notifyObservers(this,"show",this.currentTab)},slide:function(){function m(){var n=f.indexOf(f.currentTab);if(n!=-1)h=
window.setInterval(function(){var s=f.tabs[++n%f.tabs.length];s&&f.select(s)},d.slideInterval)}function g(){window.clearTimeout(q);window.clearInterval(h)}function i(){q=window.setTimeout(m,d.slideDelay)}var d=this.config,f=this,h,q;e.array.forEach(this.tabs,function(n){k.on(n.trigger,"mouseover",g);k.on(n.sheet,"mouseover",g);k.on(n.trigger,"mouseout",i);k.on(n.sheet,"mouseout",i)});m()},next:function(){var m=this.indexOf(this.currentTab);if(m!=-1){if(++m==this.tabs.length)m=0;(m=this.tabs[m])&&
this.select(m)}},prev:function(){var m=this.indexOf(this.currentTab);if(m!=-1){if(--m==-1)m=this.tabs.length-1;(m=this.tabs[m])&&this.select(m)}},indexOf:function(m){for(var g=0,i=this.tabs.length;g<i;g++)if(m.trigger==this.tabs[g].trigger)return g;return-1},init:function(){var m=this.config,g=this;e.array.forEach(this.tabs,function(i){k.on(i.trigger,m.triggerEvent,function(){g.select.call(g,i)});if(i.sheet)i.sheet.style.display="none"});this.select(this.tabs[m.defaultIndex]);m.slideEnabled&&this.slide()}}});
Jet().$package(function(e){var b=e.dom,k=e.event;e.ui=e.ui||{};e.ui.TextBox=new e.Class({init:function(m){var g="share_box_"+(m.id||(new Date).getTime()),i=m.name||g,d=m.container||document.body,f=m.className||"",h=m.text||"";this._titleHeight=22;this._footerHeight=26;this._margin=this._padding=8;m.width=m.width||200;m.height=m.height||100;m.limit=m.limit||0;m.isPopup=m.isPopup||false;m.readOnly=m.readOnly||false;m.maskIframe=m.maskIframe||false;m.hasCloseButton=m.hasCloseButton===false?false:true;
this._isShow=false;f=this._el=b.node("div",{id:g,"class":"share_box "+f});var q='            \t<div class="share_box_title" id="'+g+'_title">            \t\t<div class="share_box_titleTxt" id="'+g+'_titleTxt"></div>            \t</div>            \t<div class="share_box_body" id="'+g+'_body">            \t\t<!--textarea class="share_box_text" id="'+g+'_text"></textarea--\>            \t</div>           \t\t<div class="share_box_footer" id="'+g+'_footer">           \t\t\t<div class="share_box_showthumb" id="'+
g+'_showthumb"></div>           \t\t\t<div class="share_box_hint" id="'+g+'_hint"></div>           \t\t\t<div class="share_box_count" id="'+g+'_count"></div>           \t\t</div>           \t\t<div>           \t\t\t<img id="'+g+'_thumb" class="share_box_thumb" src="'+m.thumb+'" width=211 height=127 />           \t\t</div>';if(m.maskIframe)q+='<iframe class="ui_maskBgIframe" src="'+alloy.CONST.MAIN_URL+'domain.html;" border="0"></iframe>';f.innerHTML=q;d.appendChild(f);this._panel=m.isPopup?new e.ui.PopupBox({id:g,
name:i,container:f}):new e.ui.Panel({id:g,name:i,container:f});this._shareBoxTitleTxt=b.id(g+"_titleTxt");this._shareBoxTitle=b.id(g+"_title");this._shareBoxHint=b.id(g+"_hint");this._shareBoxFooter=b.id(g+"_footer");this._shareBoxBody=b.id(g+"_body");this._shareBoxCount=b.id(g+"_count");this._shareBoxShowthumb=b.id(g+"_showthumb");this._shareBoxThumb=b.id(g+"_thumb");i='<strong class="share_big_quote share_left_quote">\u201c</strong><textarea class="share_box_text" id="'+g+'_text"></textarea><strong class="share_big_quote share_right_quote">\u201d</strong>';
if(m.readOnly)i='<strong class="share_big_quote share_left_quote">\u201c</strong><textarea class="share_box_text" id="'+g+'_text" readOnly="readonly"></textarea><strong class="share_big_quote share_right_quote">\u201d</strong>';m.thumb||b.hide(this._shareBoxShowthumb);this._shareBoxBody.innerHTML=i;this._shareBoxText=b.id(g+"_text");var n=this;g={onSendButtonClick:function(s){s.preventDefault();s.stopPropagation();k.notifyObservers(n,"clickSendButton")},onCloseButtonClick:function(s){s.preventDefault();
s.stopPropagation();n.hide();k.notifyObservers(n,"clickCloseButton")},onTextAreaKeyUp:function(s){s.stopPropagation();s.preventDefault();alloy.util.subStringByChar(s,m.limit)},toggleThumb:function(s){s.preventDefault();s.stopPropagation();b.isShow(n._shareBoxThumb)?b.hide(n._shareBoxThumb):b.show(n._shareBoxThumb)}};this._sendButton=new e.ui.Button({appendTo:this._shareBoxFooter,className:"window_button window_ok",isStopPropagation:true,text:"\u53d1\u8868",event:{click:g.onSendButtonClick}});this._sendButton.show();
if(m.hasCloseButton){this._closeButton=new e.ui.Button({appendTo:this._shareBoxTitle,className:"textbox_button",isStopPropagation:true,title:"\u5173\u95ed",event:{click:g.onCloseButtonClick}});this._closeButton.show()}this._shareBoxText.innerHTML=h;if(m.title){this._shareBoxTitleTxt.innerHTML=m.title;b.show(this._shareBoxTitle)}if(m.hint){h=null;for(i=0;i<m.hint.length;i++){h=b.node("a",{href:"###","class":"share_box_hintLink"});h.innerHTML=m.hint[i].text;k.on(h,"click",m.hint[i].click);this._shareBoxHint.appendChild(h)}}m.limit&&
k.on(this._shareBoxText,"keyup",g.onTextAreaKeyUp);k.on(this._shareBoxShowthumb,"click",g.toggleThumb);this.setHeight(m.height);this.setWidth(m.width)},setHeight:function(m){b.setStyle(this._shareBoxText,"height",m-this._titleHeight-this._footerHeight+"px")},setWidth:function(m){b.setStyle(this._el,"width",m+"px");b.setStyle(this._shareBoxText,"width",m-this._padding-this._margin+"px")},addMask:function(m){if(e.browser.ie)if(e.isString(m)){var g='<iframe class="ui_maskBgIframe" src="'+alloy.CONST.MAIN_URL+
'domain.html"></iframe>';return m+g}else{g=b.node("iframe",{"class":"ui_maskBgIframe",src:alloy.CONST.MAIN_URL+"domain.html"});m.appendChild(g)}},getElement:function(){return this._el},isShow:function(){return this._isShow},show:function(m,g){m&&g&&this._panel.setXY(m,g);this._panel.show();this._isShow=true},hide:function(){this._panel.hide();this._isShow=false;k.notifyObservers(this,"hide")},getValue:function(){return this._shareBoxText.value},setValue:function(m){this._shareBoxText.value=m},setHint:function(m){this._shareBoxHint.innerHTML=
"";this._shareBoxHint.appendChild(m);b.show(this._shareBoxHint)},setThumb:function(m){this._shareBoxThumb.src=m}})});
Jx().$package(function(e){var b=e.dom,k=e.array,m=e.event,g=e.fx.transitions,i=new e.Class({init:function(d,f){var h=this;f=f||{};h.id=i.count;i.count++;k.forEach(d,function(q){var n=f.text||q.getAttribute("title"),s,o=b.node("div",{style:"float:left;width:auto;background:blue;visibility:hidden;"});document.body.appendChild(o);o.innerHTML=n;s=b.getClientWidth(o,"width");s+=s%2;document.body.removeChild(o);o=null;q.removeAttribute("title");if(!e.isUndefined(n)){h.mouseMove=function(a){var c=h.tooltipEL,
j=a.pageX+24;a=a.pageY-18;b.getWidth(c);b.getHeight(c);b.setXY(c,j,a)};m.on(q,"mouseover",function(){h.tooltipEL||h.createTooltip();h.tooltipTextEL.innerHTML=n;h.showIn({width:s})});m.on(q,"mouseout",function(){h.tooltipEL&&h.showOut({width:s})})}})},createTooltip:function(){var d,f,h,q;f="background:url(http://qplus1.idqqimg.com/jx/style/image/tooltip_c.png?t=20111011001);";h="background:url(http://qplus1.idqqimg.com/jx/style/image/tooltip.png?t=20111011001) no-repeat;";q=" background:url(http://qplus1.idqqimg.com/jx/style/image/tooltip.png?t=20111011001) no-repeat right";
if(e.browser.ie&&e.browser.ie==6){f='filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="http://qplus1.idqqimg.com/jx/style/image/tooltip_c.png?t=20111011001", sizingMethod="scale");';h='filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="http://qplus1.idqqimg.com/jx/style/image/tooltip_l.png?t=20111011001", sizingMethod="scale");';q='filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="http://qplus1.idqqimg.com/jx/style/image/tooltip_r.png?t=20111011001", sizingMethod="scale");'}this.tooltipEL=
d=b.node("div",{id:"jxTooltip_"+this.id,style:"position: absolute; margin:10px; width:107px; height:38px; z-index: 10000; display: none;"});this.tooltipTextEL=f=b.node("div",{id:"jxTooltipText_"+this.id,style:"line-height:30px; width:100%; height:38px; color:white; overflow:hidden;"+f});h=b.node("div",{style:"position:absolute; left:-12px; width:12px; height:38px; overflow:hidden;"+h});q=b.node("div",{style:"position:absolute; right:-12px; width:12px; height:38px; overflow:hidden;"+q});d.appendChild(h);
d.appendChild(q);d.appendChild(f);document.body.appendChild(d);this.showInAnimation=new e.fx.Animation({element:d,property:"width",from:0,to:1,unit:"px",duration:300,transition:g.sinusoidal.easeOut});this.showOutAnimation=new e.fx.Animation({element:d,property:"width",from:1,to:0,unit:"px",duration:300,transition:g.sinusoidal.easeOut});m.addObserver(this.showOutAnimation,"end",function(){b.hide(d)})},showIn:function(d){var f=this.tooltipEL;this.showOutAnimation.end();m.on(document,"mousemove",this.mouseMove);
b.show(f);this.showInAnimation.start(0,d.width)},showOut:function(d){var f=this;f.showInAnimation.end();f.showOutAnimation.start(d.width,0);m.addObserver(f.showOutAnimation,"end",function(){m.off(document,"mousemove",f.mouseMove)})},about:function(){alert("Jx().ui.Tooltip() by Jetyu of Tencent!")}});i.count=0;e.ui=e.ui||{};e.ui.Tooltip=i});
Jx().$package(function(e){var b=e.dom,k=e.event;e.ui=e.ui||{};e.ui.TouchScroller=new e.Class({container:null,_dx:0,_dy:0,_posy:0,_posx:0,_maxOffsetX:0,_maxOffsetY:0,init:function(m,g){this.container=e.isString(m)?b.id(m):m;this.touchContainer=g||this.container;var i=this;this.observer={onTouchStart:function(d){if(!(d.changedTouches.length>1)){d=d.changedTouches[0];i._dx=i.container.scrollLeft;i._dy=i.container.scrollTop;i._posx=d.pageX;i._posy=d.pageY;i.maxOffsetX=i.container.scrollWidth-i.container.clientWidth;
i.maxOffsetY=i.container.scrollHeight-i.container.clientHeight;k.on(i.touchContainer,"touchmove",i.observer.onTouchMove);k.on(i.touchContainer,"touchend",i.observer.onTouchEnd)}},onTouchMove:function(d){var f=d.changedTouches[0];d=f.pageX;f=f.pageY;i._dx+=i._posx-d;i._dy+=i._posy-f;i._posx=d;i._posy=f;if(i._dx<0)i._dx=0;if(i._dy<0)i._dy=0;if(i._dx>i.maxOffsetX)i._dx=i.maxOffsetX;if(i._dy>i.maxOffsetY)i._dy=i.maxOffsetY;i.container.scrollLeft=i._dx;i.container.scrollTop=i._dy},onTouchEnd:function(){k.off(i.touchContainer,
"touchmove",i.observer.onTouchMove);k.off(i.touchContainer,"touchend",i.observer.onTouchEnd)}};k.on(this.touchContainer,"touchstart",this.observer.onTouchStart)},destroy:function(){k.off(this.touchContainer,"touchstart",this.observer.onTouchStart);this.container=null},disable:function(){k.off(this.touchContainer,"touchstart",this.observer.onTouchStart)},enable:function(){k.on(this.touchContainer,"touchstart",this.observer.onTouchStart)}})});
Jet().$package(function(e){var b=e.dom,k=e.event,m=1,g=function(){function i(z,p,t){p=parseInt(p);if(typeof t=="string")t=new Date(t.split("-")[0],t.split("-")[1],t.split("-")[2]);switch(z){case "y":return new Date(t.getFullYear()+p,t.getMonth(),t.getDate());case "m":z=Date;var v=t.getFullYear(),D=t.getMonth()+p,J=t.getFullYear();p=t.getMonth()+p;t=t.getDate();var N=["31","28","31","30","31","30","31","31","30","31","30","31"],Q="";if(J%4==0)N[1]="29";Q=t>N[p]?N[p]:t;return new z(v,D,Q);case "d":return new Date(t.getFullYear(),
t.getMonth(),t.getDate()+p);case "w":return new Date(t.getFullYear(),t.getMonth(),7*p+t.getDate())}}function d(){var z="",p=arguments[0],t;if(typeof p=="string"){p=p.split("-");t=p[0];var v=parseInt(p[1])-1+"";p=p[2];t=new Date(t,v,p)}else if(typeof p=="object")t=p;j.year=t.getFullYear();j.month=t.getMonth();j.date=t.getDate();p=j.year+"-"+j.month;var D=i("d","-1",p+"-01").getDate(),J;p=p+"-01";var N;if(typeof p=="string")N=new Date(p.split("-")[0],p.split("-")[1],p.split("-")[2]);if(typeof p=="object")N=
p;J=N.getDay();p=i("d","-1",j.year+"-"+(parseInt(j.month)+1).toString()+"-01");N=p.getDate();p=p.getDay();v=l.getFullYear()+"-";var Q=l.getMonth()+1;v+=Q<10?"0":"";v+=Q.toString()+"-";v+=l.getDate()<10?"0":"";v+=l.getDate().toString();for(t=0;t<J;t++){z="<li class='lastMonthDate'>"+D+"</li>"+z;D--}Q=parseInt(j.month)+1;Q=Q<10?"0"+Q.toString():Q;for(t=1;t<=N;t++){var R=t<10?"0"+t.toString():t;R=j.year+"-"+Q+"-"+R;a:{D=void 0;for(D in r)if(r[D]==R){D=true;break a}D=false}J=D?' class="have"':"";var W=
v==R?' class="today"':"";z+=u?D?"<li "+J+"><a href='###' "+W+" title='"+R+"'>"+t+"</a></li>":"<li "+J+">"+t+"</li>":"<li "+J+"><a href='###' "+W+" title='"+R+"'>"+t+"</a></li>"}N=1;for(t=p;t<6;t++){z+="<li class='nextMonthDate'>"+N+"</li>";N++}N="<a href='###' class='nextMonth' title='\u4e0b\u4e00\u4e2a\u6708'>\u00bb</a>";N+="<a href='###' class='lastMonth' title='\u4e0a\u4e00\u4e2a\u6708'>\u00ab</a>";N+="<span class='selectThisYear'><a href='###' class='toSelectYear' title='\u70b9\u51fb\u8fd9\u91cc\u9009\u62e9\u5e74\u4efd' >"+
j.year+"</a></span>\u5e74<span class='selectThisMonth'><a href='###' class='toSelectMonth' title='\u70b9\u51fb\u8fd9\u91cc\u9009\u62e9\u6708\u4efd'>"+(parseInt(j.month)+1).toString()+"</a></span>\u6708";if(arguments.length>1){c.date.innerHTML=z;c.title.innerHTML=N;G();C();K()}else return"<div id='calender' class='calender'>\t\t\t\t\t\t\t\t\t<div class='calenderTitle'>"+N+"</div>\t\t\t\t\t\t\t\t    <div class='calenderBody'>\t\t\t\t\t\t\t\t\t\t<ul class='day'>\t\t\t\t\t\t\t\t\t\t\t<li>\u65e5</li><li>\u4e00</li><li>\u4e8c</li><li>\u4e09</li><li>\u56db</li><li>\u4e94</li><li>\u516d</li>\t\t\t\t\t\t\t\t  \t\t</ul>\t\t\t\t\t\t\t\t\t\t<ul class='date' id='thisMonthDate'>"+
z+"</ul>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t    <div class='calenderBottom'>\t\t\t\t\t\t\t\t\t\t<span><a href='###' class='closeCalender' >\u5173\u95ed</a><span></span>\t\t\t\t\t\t\t\t\t\t<span><a href='###' class='calToToday' title='"+R+"'>\u4eca\u5929</a></span>\t\t\t\t\t\t\t\t     \t<span><a href='###' class='calEmptyInput' title=''>\u7f6e\u7a7a</a></span>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t  </div>"}function f(z){if(c.target.tagName=="INPUT")c.target.value=z.title;else c.target.innerHTML=
z.title;x(z.title);a.close()}function h(z){var p="",t=z.innerHTML,v;for(v=1970;v<=2020;v++)p+=v==t?"<option value="+v+" selected>"+v+"</option>":"<option value="+v+">"+v+"</option>";p="<select class='selectYear'>"+p+"</select>";z.parentNode.innerHTML=p;c.selectYear=b.mini(".selectYear",c.title)[0];k.on(c.selectYear,"onblur",function(){q(this)});k.on(c.selectYear,"change",function(){q(this)})}function q(z){var p="";p=c.selectMonth?c.selectMonth.value:z.value+"-"+z.parentNode.parentNode.getElementsByTagName("span")[1].getElementsByTagName("a")[0].innerHTML;
d(p+"-1",z.parentNode)}function n(z){var p="",t=z.innerHTML,v;for(v=1;v<=12;v++)p+=v==t?"<option value="+v+" selected>"+v+"</option>":"<option value="+v+">"+v+"</option>";p="<select class='selectMonth'>"+p+"</select>";z.parentNode.innerHTML=p;c.selectMonth=b.mini(".selectMonth",c.title)[0];k.on(c.selectMonth,"onblur",function(){s(this)});k.on(c.selectMonth,"change",function(){s(this)})}function s(z){var p="";p=c.selectYear?c.selectYear.value:z.parentNode.parentNode.getElementsByTagName("span")[0].getElementsByTagName("a")[0].innerHTML;
d(p+"-"+z.value+"-1",z.parentNode)}var o=navigator.userAgent;o.indexOf("Opera");o.indexOf("compatible")>-1&&o.indexOf("MSIE");var a=this,c={main:null,target:null,title:null,date:null,selectMonth:null,selectYear:null},j={year:null,month:null,date:null},l=null,r=[],u=false,x=null,w=true,E=function(){k.on(b.mini(".closeCalender",c.main)[0],"click",a.close);k.on(b.mini(".calToToday",c.main)[0],"click",function(){f(this)});k.on(b.mini(".calEmptyInput",c.main)[0],"click",function(){if(c.target.tagName==
"INPUT")c.target.value="";else c.target.innerHTML="";c.main&&b.hide(c.main)})},C=function(){var z=b.mini("a",c.date),p;for(p in z)k.on(z[p],"click",function(){f(this)})},K=function(){var z=b.mini(".toSelectYear",c.title)[0],p=b.mini(".toSelectMonth",c.title)[0];if(!w){z.title="";b.setStyle(z,"cursor","default");p.title="";b.setStyle(p,"cursor","default");return false}k.on(z,"click",function(){h(this)});k.on(p,"click",function(){n(this)})},G=function(){var z=j.year+"-"+j.month+"-"+j.date;k.on(b.mini(".nextMonth",
c.title)[0],"click",function(){d(i("m",1,z),this)});k.on(b.mini(".lastMonth",c.title)[0],"click",function(){d(i("m",-1,z),this)})};this.close=function(){c.main&&b.hide(c.main)};this.show=function(){if(c.main){b.show(c.main);for(var z=c.target,p=c.main.style,t=z,v=t.offsetLeft;t=t.offsetParent;)v+=t.offsetLeft;p.left=v+"px";p=c.main.style;z=z;for(t=z.offsetTop;z=z.offsetParent;)t+=z.offsetTop;p.top=t+20+"px"}};this.destroy=function(){if(c.main){c.main.parentNode.removeChild(c.main);c.main=null}};this.setCalendar=
function(z,p,t){p=p||{};p.showBottom=p.showBottom||false;r=p.hightList||[];u=p.isOnlyHight||false;w=e.isUndefined(p.needSelect)?true:p.needSelect;p.today=p.today||0;e.isUndefined(t)||(x=t);if(!c.main){c.main=document.createElement("span");c.main.id="calenderspan_"+m++;l=new Date;p.today!=0&&l.setTime(p.today);c.main.innerHTML=d(l);c.main.className="calendarBox";c.main.style.display="none";document.body.insertBefore(c.main,document.body.lastChild);c.title=b.mini(".calenderTitle",c.main)[0];c.date=
b.mini(".date",c.main)[0];G();E();C();K();p.showBottom||c.main&&b.hide(b.mini(".calenderBottom",c.main)[0]);k.on(c.main,"mouseout",function(v){var D=c.main;v=v.relatedTarget?v.relatedTarget:v.toElement;try{(D.contains?D!=v&&D.contains(v):!!(D.compareDocumentPosition(v)&16))||a.close()}catch(J){}})}c.target=z}};e.ui=e.ui||{};if(!e.ui.calendar)e.ui.calendar=new g;e.ui.CalendarClass=g});
Jx().$package(function(e){function b(o,a){var c;this.element=typeof o=="object"?o:document.getElementById(o);this.wrapper=this.element.parentNode;this.element.style.webkitTransitionProperty="-webkit-transform";this.element.style.webkitTransitionTimingFunction="cubic-bezier(0,0,0.25,1)";this.element.style.webkitTransitionDuration="0";this.element.style.webkitTransform=q+"0,0"+n;this.options={bounce:m,momentum:m,checkDOMChanges:true,topOnDOMChanges:false,hScrollbar:m,vScrollbar:m,fadeScrollbar:g||!i,
shrinkScrollbar:g||!i,desktopCompatibility:false,overflow:"auto",snap:false,bounceLock:false,scrollbarColor:"rgba(0,0,0,0.5)",onScrollEnd:function(){}};if(typeof a=="object")for(c in a)this.options[c]=a[c];if(this.options.desktopCompatibility)this.options.overflow="hidden";this.onScrollEnd=this.options.onScrollEnd;delete this.options.onScrollEnd;this.wrapper.style.overflow=this.options.overflow;this.refresh();window.addEventListener("onorientationchange"in window?"orientationchange":"resize",this,
false);if(i||this.options.desktopCompatibility){this.element.addEventListener(d,this,false);this.element.addEventListener(f,this,false);this.element.addEventListener(h,this,false)}this.options.checkDOMChanges&&this.element.addEventListener("DOMSubtreeModified",this,false)}function k(o,a,c,j,l){var r=document;this.dir=o;this.fade=c;this.shrink=j;this.uid=++s;this.bar=r.createElement("div");this.bar.style.cssText="position:absolute;top:0;left:0;-webkit-transition-timing-function:cubic-bezier(0,0,0.25,1);pointer-events:none;-webkit-transition-duration:0;-webkit-transition-delay:0;-webkit-transition-property:-webkit-transform;z-index:10;background:"+
l+";-webkit-transform:"+q+"0,0"+n+";"+(o=="horizontal"?"-webkit-border-radius:3px 2px;min-width:6px;min-height:5px":"-webkit-border-radius:2px 3px;min-width:5px;min-height:6px");this.wrapper=r.createElement("div");this.wrapper.style.cssText="-webkit-mask:-webkit-canvas(scrollbar"+this.uid+this.dir+");position:absolute;z-index:10;pointer-events:none;overflow:hidden;opacity:0;-webkit-transition-duration:"+(c?"300ms":"0")+";-webkit-transition-delay:0;-webkit-transition-property:opacity;"+(this.dir==
"horizontal"?"bottom:2px;left:2px;right:7px;height:5px":"top:2px;right:2px;bottom:7px;width:5px;");this.wrapper.appendChild(this.bar);a.appendChild(this.wrapper)}b.prototype={x:0,y:0,enabled:true,handleEvent:function(o){switch(o.type){case d:this.touchStart(o);break;case f:this.touchMove(o);break;case h:this.touchEnd(o);break;case "webkitTransitionEnd":this.transitionEnd();break;case "orientationchange":case "resize":this.refresh();break;case "DOMSubtreeModified":this.onDOMModified(o)}},onDOMModified:function(o){var a=
this;if(o.target.parentNode==a.element){setTimeout(function(){a.refresh()},0);if(a.options.topOnDOMChanges&&(a.x!=0||a.y!=0))a.scrollTo(0,0,"0")}},refresh:function(){var o=this.x,a=this.y;this.scrollWidth=this.wrapper.clientWidth;this.scrollHeight=this.wrapper.clientHeight;this.scrollerWidth=this.element.offsetWidth;this.scrollerHeight=this.element.offsetHeight;this.maxScrollX=this.scrollWidth-this.scrollerWidth;this.maxScrollY=this.scrollHeight-this.scrollerHeight;this.directionY=this.directionX=
0;if(this.scrollX)if(this.maxScrollX>=0)o=0;else if(this.x<this.maxScrollX)o=this.maxScrollX;if(this.scrollY)if(this.maxScrollY>=0)a=0;else if(this.y<this.maxScrollY)a=this.maxScrollY;if(this.options.snap){this.maxPageX=-Math.floor(this.maxScrollX/this.scrollWidth);this.maxPageY=-Math.floor(this.maxScrollY/this.scrollHeight);a=this.snap(o,a);o=a.x;a=a.y}if(o!=this.x||a!=this.y){this.setTransitionTime("0");this.setPosition(o,a,true)}this.scrollX=this.scrollerWidth>this.scrollWidth;this.scrollY=!this.options.bounceLock&&
!this.scrollX||this.scrollerHeight>this.scrollHeight;if(this.options.hScrollbar&&this.scrollX){this.scrollBarX=this.scrollBarX||new k("horizontal",this.wrapper,this.options.fadeScrollbar,this.options.shrinkScrollbar,this.options.scrollbarColor);this.scrollBarX.init(this.scrollWidth,this.scrollerWidth)}else if(this.scrollBarX)this.scrollBarX=this.scrollBarX.remove();if(this.options.vScrollbar&&this.scrollY&&this.scrollerHeight>this.scrollHeight){this.scrollBarY=this.scrollBarY||new k("vertical",this.wrapper,
this.options.fadeScrollbar,this.options.shrinkScrollbar,this.options.scrollbarColor);this.scrollBarY.init(this.scrollHeight,this.scrollerHeight)}else if(this.scrollBarY)this.scrollBarY=this.scrollBarY.remove()},setPosition:function(o,a,c){this.x=o;this.y=a;this.element.style.webkitTransform=q+this.x+"px,"+this.y+"px"+n;if(!c){this.scrollBarX&&this.scrollBarX.setPosition(this.x);this.scrollBarY&&this.scrollBarY.setPosition(this.y)}},setTransitionTime:function(o){o=o||"0";this.element.style.webkitTransitionDuration=
o;if(this.scrollBarX){this.scrollBarX.bar.style.webkitTransitionDuration=o;this.scrollBarX.wrapper.style.webkitTransitionDuration=m&&this.options.fadeScrollbar?"300ms":"0"}if(this.scrollBarY){this.scrollBarY.bar.style.webkitTransitionDuration=o;this.scrollBarY.wrapper.style.webkitTransitionDuration=m&&this.options.fadeScrollbar?"300ms":"0"}},touchStart:function(o){var a;if(this.enabled){o.preventDefault();o.stopPropagation();this.scrolling=true;this.moved=false;this.distY=this.distX=0;this.setTransitionTime("0");
if(this.options.momentum||this.options.snap){a=new WebKitCSSMatrix(window.getComputedStyle(this.element).webkitTransform);if(a.e!=this.x||a.f!=this.y){document.removeEventListener("webkitTransitionEnd",this,false);this.setPosition(a.e,a.f);this.moved=true}}this.touchStartX=i?o.changedTouches[0].pageX:o.pageX;this.scrollStartX=this.x;this.touchStartY=i?o.changedTouches[0].pageY:o.pageY;this.scrollStartY=this.y;this.scrollStartTime=o.timeStamp;this.directionY=this.directionX=0}},touchMove:function(o){if(this.scrolling){var a=
i?o.changedTouches[0].pageX:o.pageX,c=i?o.changedTouches[0].pageY:o.pageY,j=this.scrollX?a-this.touchStartX:0,l=this.scrollY?c-this.touchStartY:0,r=this.x+j,u=this.y+l;o.stopPropagation();this.touchStartX=a;this.touchStartY=c;if(r>=0||r<this.maxScrollX)r=this.options.bounce?Math.round(this.x+j/3):r>=0||this.maxScrollX>=0?0:this.maxScrollX;if(u>=0||u<this.maxScrollY)u=this.options.bounce?Math.round(this.y+l/3):u>=0||this.maxScrollY>=0?0:this.maxScrollY;if(this.distX+this.distY>5){if(this.distX-3>this.distY){u=
this.y;l=0}else if(this.distY-3>this.distX){r=this.x;j=0}this.setPosition(r,u);this.moved=true;this.directionX=j>0?-1:1;this.directionY=l>0?-1:1}else{this.distX+=Math.abs(j);this.distY+=Math.abs(l)}}},touchEnd:function(o){if(this.scrolling){var a=o.timeStamp-this.scrollStartTime,c=i?o.changedTouches[0]:o,j,l;j=0;l=this.x;var r=this.y;this.scrolling=false;if(this.moved)if(!this.options.snap&&a>250)this.resetPosition();else{if(this.options.momentum){o=this.scrollX===true?this.momentum(this.x-this.scrollStartX,
a,this.options.bounce?-this.x+this.scrollWidth/5:-this.x,this.options.bounce?this.x+this.scrollerWidth-this.scrollWidth+this.scrollWidth/5:this.x+this.scrollerWidth-this.scrollWidth):{dist:0,time:0};c=this.scrollY===true?this.momentum(this.y-this.scrollStartY,a,this.options.bounce?-this.y+this.scrollHeight/5:-this.y,this.options.bounce?(this.maxScrollY<0?this.y+this.scrollerHeight-this.scrollHeight:0)+this.scrollHeight/5:this.y+this.scrollerHeight-this.scrollHeight):{dist:0,time:0};j=Math.max(Math.max(o.time,
c.time),1);l=this.x+o.dist;r=this.y+c.dist}if(this.options.snap){o=this.snap(l,r);l=o.x;r=o.y;j=Math.max(o.time,j)}this.scrollTo(l,r,j+"ms")}else{this.resetPosition();if(i){for(j=c.target;j.nodeType!=1;)j=j.parentNode;l=document.createEvent("MouseEvents");l.initMouseEvent("click",true,true,o.view,1,c.screenX,c.screenY,c.clientX,c.clientY,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,0,null);l._fake=true;j.dispatchEvent(l)}}}},transitionEnd:function(){document.removeEventListener("webkitTransitionEnd",this,
false);this.resetPosition()},resetPosition:function(){var o=this.x,a=this.y;if(this.x>=0)o=0;else if(this.x<this.maxScrollX)o=this.maxScrollX;if(this.y>=0||this.maxScrollY>0)a=0;else if(this.y<this.maxScrollY)a=this.maxScrollY;if(o!=this.x||a!=this.y)this.scrollTo(o,a);else{if(this.moved){this.onScrollEnd();this.moved=false}this.scrollBarX&&this.scrollBarX.hide();this.scrollBarY&&this.scrollBarY.hide()}},snap:function(o,a){o=this.directionX>0?Math.floor(o/this.scrollWidth):this.directionX<0?Math.ceil(o/
this.scrollWidth):Math.round(o/this.scrollWidth);this.pageX=-o;o*=this.scrollWidth;if(o>0)o=this.pageX=0;else if(o<this.maxScrollX){this.pageX=this.maxPageX;o=this.maxScrollX}a=this.directionY>0?Math.floor(a/this.scrollHeight):this.directionY<0?Math.ceil(a/this.scrollHeight):Math.round(a/this.scrollHeight);this.pageY=-a;a*=this.scrollHeight;if(a>0)a=this.pageY=0;else if(a<this.maxScrollY){this.pageY=this.maxPageY;a=this.maxScrollY}return{x:o,y:a,time:Math.round(Math.max(Math.abs(this.x-o)/this.scrollWidth*
500,Math.abs(this.y-a)/this.scrollHeight*500))}},scrollTo:function(o,a,c){if(this.x==o&&this.y==a)this.resetPosition();else{this.moved=true;this.setTransitionTime(c||"350ms");this.setPosition(o,a);c==="0"||c=="0s"||c=="0ms"?this.resetPosition():document.addEventListener("webkitTransitionEnd",this,false)}},scrollToPage:function(o,a,c){if(!this.options.snap){this.pageX=-Math.round(this.x/this.scrollWidth);this.pageY=-Math.round(this.y/this.scrollHeight)}if(o=="next")o=++this.pageX;else if(o=="prev")o=
--this.pageX;if(a=="next")a=++this.pageY;else if(a=="prev")a=--this.pageY;o=-o*this.scrollWidth;a=-a*this.scrollHeight;a=this.snap(o,a);o=a.x;a=a.y;this.scrollTo(o,a,c||"500ms")},scrollToElement:function(o,a){if(o=typeof o=="object"?o:this.element.querySelector(o)){var c=this.scrollX?-o.offsetLeft:0,j=this.scrollY?-o.offsetTop:0;if(c>=0)c=0;else if(c<this.maxScrollX)c=this.maxScrollX;if(j>=0)j=0;else if(j<this.maxScrollY)j=this.maxScrollY;this.scrollTo(c,j,a)}},momentum:function(o,a,c,j){a=Math.abs(o)/
a*1E3;var l=a*a/2.5/1E3,r=0;if(o>0&&l>c){a=a*c/l/2.5;l=c}else if(o<0&&l>j){a=a*j/l/2.5;l=j}l*=o<0?-1:1;r=a/1.2;return{dist:Math.round(l),time:Math.round(r)}},destroy:function(o){window.removeEventListener("onorientationchange"in window?"orientationchange":"resize",this,false);this.element.removeEventListener(d,this,false);this.element.removeEventListener(f,this,false);this.element.removeEventListener(h,this,false);document.removeEventListener("webkitTransitionEnd",this,false);this.options.checkDOMChanges&&
this.element.removeEventListener("DOMSubtreeModified",this,false);if(this.scrollBarX)this.scrollBarX=this.scrollBarX.remove();if(this.scrollBarY)this.scrollBarY=this.scrollBarY.remove();o&&this.wrapper.parentNode.removeChild(this.wrapper);return null}};k.prototype={init:function(o,a){var c=document,j=Math.PI;if(this.dir=="horizontal"){if(this.maxSize!=this.wrapper.offsetWidth){this.maxSize=this.wrapper.offsetWidth;c=c.getCSSCanvasContext("2d","scrollbar"+this.uid+this.dir,this.maxSize,5);c.fillStyle=
"rgb(0,0,0)";c.beginPath();c.arc(2.5,2.5,2.5,j/2,-j/2,false);c.lineTo(this.maxSize-2.5,0);c.arc(this.maxSize-2.5,2.5,2.5,-j/2,j/2,false);c.closePath();c.fill()}}else if(this.maxSize!=this.wrapper.offsetHeight){this.maxSize=this.wrapper.offsetHeight;c=c.getCSSCanvasContext("2d","scrollbar"+this.uid+this.dir,5,this.maxSize);c.fillStyle="rgb(0,0,0)";c.beginPath();c.arc(2.5,2.5,2.5,j,0,false);c.lineTo(5,this.maxSize-2.5);c.arc(2.5,this.maxSize-2.5,2.5,0,j,false);c.closePath();c.fill()}this.size=Math.max(Math.round(this.maxSize*
this.maxSize/a),6);this.maxScroll=this.maxSize-this.size;this.toWrapperProp=this.maxScroll/(o-a);this.bar.style[this.dir=="horizontal"?"width":"height"]=this.size+"px"},setPosition:function(o){this.wrapper.style.opacity!="1"&&this.show();o=Math.round(this.toWrapperProp*o);if(o<0){o=this.shrink?o+o*3:0;if(this.size+o<7)o=-this.size+6}else if(o>this.maxScroll){o=this.shrink?o+(o-this.maxScroll)*3:this.maxScroll;if(this.size+this.maxScroll-o<7)o=this.size+this.maxScroll-6}o=this.dir=="horizontal"?q+
o+"px,0"+n:q+"0,"+o+"px"+n;this.bar.style.webkitTransform=o},show:function(){if(m)this.wrapper.style.webkitTransitionDelay="0";this.wrapper.style.opacity="1"},hide:function(){if(m)this.wrapper.style.webkitTransitionDelay="350ms";this.wrapper.style.opacity="0"},remove:function(){this.wrapper.parentNode.removeChild(this.wrapper);return null}};var m="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,g=/iphone|ipad/gi.test(navigator.appVersion),i="ontouchstart"in window,d=i?"touchstart":"mousedown",
f=i?"touchmove":"mousemove",h=i?"touchend":"mouseup",q="translate"+(m?"3d(":"("),n=m?",0)":")",s=0;e.ui=e.ui||{};e.ui.iScroll=b});
